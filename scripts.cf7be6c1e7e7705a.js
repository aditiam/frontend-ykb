!function(Q,gt){"object"==typeof exports&&typeof module<"u"?module.exports=gt():"function"==typeof define&&define.amd?define(gt):(Q=typeof globalThis<"u"?globalThis:Q||self).Cropper=gt()}(this,function(){"use strict";function Q(u,m){var w=Object.keys(u);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(u);m&&(b=b.filter(function(A){return Object.getOwnPropertyDescriptor(u,A).enumerable})),w.push.apply(w,b)}return w}function gt(u){for(var m=1;m<arguments.length;m++){var w=null!=arguments[m]?arguments[m]:{};m%2?Q(Object(w),!0).forEach(function(b){it(u,b,w[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(w)):Q(Object(w)).forEach(function(b){Object.defineProperty(u,b,Object.getOwnPropertyDescriptor(w,b))})}return u}function we(u){var m=function ot(u,m){if("object"!=typeof u||!u)return u;var w=u[Symbol.toPrimitive];if(void 0!==w){var b=w.call(u,m||"default");if("object"!=typeof b)return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===m?String:Number)(u)}(u,"string");return"symbol"==typeof m?m:m+""}function v(u){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(u)}function R(u,m){for(var w=0;w<m.length;w++){var b=m[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(u,we(b.key),b)}}function it(u,m,w){return(m=we(m))in u?Object.defineProperty(u,m,{value:w,enumerable:!0,configurable:!0,writable:!0}):u[m]=w,u}function J(u){return function at(u){if(Array.isArray(u))return At(u)}(u)||function vt(u){if(typeof Symbol<"u"&&null!=u[Symbol.iterator]||null!=u["@@iterator"])return Array.from(u)}(u)||function $(u,m){if(u){if("string"==typeof u)return At(u,m);var w=Object.prototype.toString.call(u).slice(8,-1);if("Object"===w&&u.constructor&&(w=u.constructor.name),"Map"===w||"Set"===w)return Array.from(u);if("Arguments"===w||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return At(u,m)}}(u)||function je(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function At(u,m){(null==m||m>u.length)&&(m=u.length);for(var w=0,b=new Array(m);w<m;w++)b[w]=u[w];return b}var Vt=typeof window<"u"&&typeof window.document<"u",he=Vt?window:{},zt=!(!Vt||!he.document.documentElement)&&"ontouchstart"in he.document.documentElement,Re=!!Vt&&"PointerEvent"in he,X="cropper",U="move",ce="n",Zt="ne",Qt="nw",_e="se",ft="sw",ve="".concat(X,"-crop"),xt="".concat(X,"-disabled"),wt="".concat(X,"-hidden"),te="".concat(X,"-hide"),Kt="".concat(X,"-invisible"),Ot="".concat(X,"-modal"),Et="".concat(X,"-move"),_t="".concat(X,"Action"),Ft="".concat(X,"Preview"),se="crop",Jt="crop",Le="cropend",Fe="cropmove",Pe="cropstart",ai="dblclick",fi=Re?"pointerdown":zt?"touchstart":"mousedown",Li=Re?"pointermove":zt?"touchmove":"mousemove",Ci=Re?"pointerup pointercancel":zt?"touchend touchcancel":"mouseup",mi="zoom",ni="image/jpeg",oi=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,be=/^data:/,dt=/^data:image\/jpeg;base64,/,Ze=/^img|canvas$/i,li={viewMode:0,dragMode:se,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},bi=Number.isNaN||he.isNaN;function yt(u){return"number"==typeof u&&!bi(u)}var hi=function(m){return m>0&&m<1/0};function yi(u){return typeof u>"u"}function He(u){return"object"===v(u)&&null!==u}var Di=Object.prototype.hasOwnProperty;function Te(u){if(!He(u))return!1;try{var m=u.constructor,w=m.prototype;return m&&w&&Di.call(w,"isPrototypeOf")}catch{return!1}}function ee(u){return"function"==typeof u}var Ii=Array.prototype.slice;function Xe(u){return Array.from?Array.from(u):Ii.call(u)}function Yt(u,m){return u&&ee(m)&&(Array.isArray(u)||yt(u.length)?Xe(u).forEach(function(w,b){m.call(u,w,b,u)}):He(u)&&Object.keys(u).forEach(function(w){m.call(u,u[w],w,u)})),u}var Dt=Object.assign||function(m){for(var w=arguments.length,b=new Array(w>1?w-1:0),A=1;A<w;A++)b[A-1]=arguments[A];return He(m)&&b.length>0&&b.forEach(function(T){He(T)&&Object.keys(T).forEach(function(z){m[z]=T[z]})}),m},Ge=/\.\d*(?:0|9){12}\d*$/;function Ce(u){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return Ge.test(u)?Math.round(u*m)/m:u}var Ue=/^width|height|left|top|marginLeft|marginTop$/;function ge(u,m){var w=u.style;Yt(m,function(b,A){Ue.test(A)&&yt(b)&&(b="".concat(b,"px")),w[A]=b})}function Wt(u,m){if(m){if(yt(u.length))return void Yt(u,function(b){Wt(b,m)});if(u.classList)return void u.classList.add(m);var w=u.className.trim();w?w.indexOf(m)<0&&(u.className="".concat(w," ").concat(m)):u.className=m}}function fe(u,m){if(m){if(yt(u.length))return void Yt(u,function(w){fe(w,m)});if(u.classList)return void u.classList.remove(m);u.className.indexOf(m)>=0&&(u.className=u.className.replace(m,""))}}function Ye(u,m,w){if(m){if(yt(u.length))return void Yt(u,function(b){Ye(b,m,w)});w?Wt(u,m):fe(u,m)}}var qe=/([a-z\d])([A-Z])/g;function Mt(u){return u.replace(qe,"$1-$2").toLowerCase()}function Nt(u,m){return He(u[m])?u[m]:u.dataset?u.dataset[m]:u.getAttribute("data-".concat(Mt(m)))}function ye(u,m,w){He(w)?u[m]=w:u.dataset?u.dataset[m]=w:u.setAttribute("data-".concat(Mt(m)),w)}var ne=/\s\s*/,De=function(){var u=!1;if(Vt){var m=!1,w=function(){},b=Object.defineProperty({},"once",{get:function(){return u=!0,m},set:function(T){m=T}});he.addEventListener("test",w,b),he.removeEventListener("test",w,b)}return u}();function pt(u,m,w){var b=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},A=w;m.trim().split(ne).forEach(function(T){if(!De){var z=u.listeners;z&&z[T]&&z[T][w]&&(A=z[T][w],delete z[T][w],0===Object.keys(z[T]).length&&delete z[T],0===Object.keys(z).length&&delete u.listeners)}u.removeEventListener(T,A,b)})}function Tt(u,m,w){var b=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},A=w;m.trim().split(ne).forEach(function(T){if(b.once&&!De){var z=u.listeners,N=void 0===z?{}:z;A=function(){delete N[T][w],u.removeEventListener(T,A,b);for(var B=arguments.length,H=new Array(B),Y=0;Y<B;Y++)H[Y]=arguments[Y];w.apply(u,H)},N[T]||(N[T]={}),N[T][w]&&u.removeEventListener(T,N[T][w],b),N[T][w]=A,u.listeners=N}u.addEventListener(T,A,b)})}function Ie(u,m,w){var b;return ee(Event)&&ee(CustomEvent)?b=new CustomEvent(m,{detail:w,bubbles:!0,cancelable:!0}):(b=document.createEvent("CustomEvent")).initCustomEvent(m,!0,!0,w),u.dispatchEvent(b)}function $e(u){var m=u.getBoundingClientRect();return{left:m.left+(window.pageXOffset-document.documentElement.clientLeft),top:m.top+(window.pageYOffset-document.documentElement.clientTop)}}var oe=he.location,ci=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function Ae(u){var m=u.match(ci);return null!==m&&(m[1]!==oe.protocol||m[2]!==oe.hostname||m[3]!==oe.port)}function Gt(u){var m="timestamp=".concat((new Date).getTime());return u+(-1===u.indexOf("?")?"?":"&")+m}function re(u){var m=u.rotate,w=u.scaleX,b=u.scaleY,A=u.translateX,T=u.translateY,z=[];yt(A)&&0!==A&&z.push("translateX(".concat(A,"px)")),yt(T)&&0!==T&&z.push("translateY(".concat(T,"px)")),yt(m)&&0!==m&&z.push("rotate(".concat(m,"deg)")),yt(w)&&1!==w&&z.push("scaleX(".concat(w,")")),yt(b)&&1!==b&&z.push("scaleY(".concat(b,")"));var N=z.length?z.join(" "):"none";return{WebkitTransform:N,msTransform:N,transform:N}}function E(u,m){var w=u.pageX,b=u.pageY,A={endX:w,endY:b};return m?A:gt({startX:w,startY:b},A)}function e(u){var m=u.aspectRatio,w=u.height,b=u.width,A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",T=hi(b),z=hi(w);if(T&&z){var N=w*m;"contain"===A&&N>b||"cover"===A&&N<b?w=b/m:b=w*m}else T?w=b/m:z&&(b=w*m);return{width:b,height:w}}var n=String.fromCharCode,r=/^data:.*,/;var x={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var m=this.element,w=this.options,b=this.container,A=this.cropper,T=Number(w.minContainerWidth),z=Number(w.minContainerHeight);Wt(A,wt),fe(m,wt);var N={width:Math.max(b.offsetWidth,T>=0?T:200),height:Math.max(b.offsetHeight,z>=0?z:100)};this.containerData=N,ge(A,{width:N.width,height:N.height}),Wt(m,wt),fe(A,wt)},initCanvas:function(){var m=this.containerData,w=this.imageData,b=this.options.viewMode,A=Math.abs(w.rotate)%180==90,T=A?w.naturalHeight:w.naturalWidth,z=A?w.naturalWidth:w.naturalHeight,N=T/z,F=m.width,B=m.height;m.height*N>m.width?3===b?F=m.height*N:B=m.width/N:3===b?B=m.width/N:F=m.height*N;var H={aspectRatio:N,naturalWidth:T,naturalHeight:z,width:F,height:B};this.canvasData=H,this.limited=1===b||2===b,this.limitCanvas(!0,!0),H.width=Math.min(Math.max(H.width,H.minWidth),H.maxWidth),H.height=Math.min(Math.max(H.height,H.minHeight),H.maxHeight),H.left=(m.width-H.width)/2,H.top=(m.height-H.height)/2,H.oldLeft=H.left,H.oldTop=H.top,this.initialCanvasData=Dt({},H)},limitCanvas:function(m,w){var b=this.options,A=this.containerData,T=this.canvasData,z=this.cropBoxData,N=b.viewMode,F=T.aspectRatio,B=this.cropped&&z;if(m){var H=Number(b.minCanvasWidth)||0,Y=Number(b.minCanvasHeight)||0;N>1?(H=Math.max(H,A.width),Y=Math.max(Y,A.height),3===N&&(Y*F>H?H=Y*F:Y=H/F)):N>0&&(H?H=Math.max(H,B?z.width:0):Y?Y=Math.max(Y,B?z.height:0):B&&((Y=z.height)*F>(H=z.width)?H=Y*F:Y=H/F));var V=e({aspectRatio:F,width:H,height:Y});Y=V.height,T.minWidth=H=V.width,T.minHeight=Y,T.maxWidth=1/0,T.maxHeight=1/0}if(w)if(N>(B?0:1)){var tt=A.width-T.width,et=A.height-T.height;T.minLeft=Math.min(0,tt),T.minTop=Math.min(0,et),T.maxLeft=Math.max(0,tt),T.maxTop=Math.max(0,et),B&&this.limited&&(T.minLeft=Math.min(z.left,z.left+(z.width-T.width)),T.minTop=Math.min(z.top,z.top+(z.height-T.height)),T.maxLeft=z.left,T.maxTop=z.top,2===N&&(T.width>=A.width&&(T.minLeft=Math.min(0,tt),T.maxLeft=Math.max(0,tt)),T.height>=A.height&&(T.minTop=Math.min(0,et),T.maxTop=Math.max(0,et))))}else T.minLeft=-T.width,T.minTop=-T.height,T.maxLeft=A.width,T.maxTop=A.height},renderCanvas:function(m,w){var b=this.canvasData,A=this.imageData;if(w){var T=function i(u){var m=u.width,w=u.height,b=u.degree;if(90==(b=Math.abs(b)%180))return{width:w,height:m};var A=b%90*Math.PI/180,T=Math.sin(A),z=Math.cos(A),N=m*z+w*T,F=m*T+w*z;return b>90?{width:F,height:N}:{width:N,height:F}}({width:A.naturalWidth*Math.abs(A.scaleX||1),height:A.naturalHeight*Math.abs(A.scaleY||1),degree:A.rotate||0}),z=T.width,N=T.height,F=b.width*(z/b.naturalWidth),B=b.height*(N/b.naturalHeight);b.left-=(F-b.width)/2,b.top-=(B-b.height)/2,b.width=F,b.height=B,b.aspectRatio=z/N,b.naturalWidth=z,b.naturalHeight=N,this.limitCanvas(!0,!1)}(b.width>b.maxWidth||b.width<b.minWidth)&&(b.left=b.oldLeft),(b.height>b.maxHeight||b.height<b.minHeight)&&(b.top=b.oldTop),b.width=Math.min(Math.max(b.width,b.minWidth),b.maxWidth),b.height=Math.min(Math.max(b.height,b.minHeight),b.maxHeight),this.limitCanvas(!1,!0),b.left=Math.min(Math.max(b.left,b.minLeft),b.maxLeft),b.top=Math.min(Math.max(b.top,b.minTop),b.maxTop),b.oldLeft=b.left,b.oldTop=b.top,ge(this.canvas,Dt({width:b.width,height:b.height},re({translateX:b.left,translateY:b.top}))),this.renderImage(m),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(m){var w=this.canvasData,b=this.imageData,A=b.naturalWidth*(w.width/w.naturalWidth),T=b.naturalHeight*(w.height/w.naturalHeight);Dt(b,{width:A,height:T,left:(w.width-A)/2,top:(w.height-T)/2}),ge(this.image,Dt({width:b.width,height:b.height},re(Dt({translateX:b.left,translateY:b.top},b)))),m&&this.output()},initCropBox:function(){var m=this.options,w=this.canvasData,b=m.aspectRatio||m.initialAspectRatio,A=Number(m.autoCropArea)||.8,T={width:w.width,height:w.height};b&&(w.height*b>w.width?T.height=T.width/b:T.width=T.height*b),this.cropBoxData=T,this.limitCropBox(!0,!0),T.width=Math.min(Math.max(T.width,T.minWidth),T.maxWidth),T.height=Math.min(Math.max(T.height,T.minHeight),T.maxHeight),T.width=Math.max(T.minWidth,T.width*A),T.height=Math.max(T.minHeight,T.height*A),T.left=w.left+(w.width-T.width)/2,T.top=w.top+(w.height-T.height)/2,T.oldLeft=T.left,T.oldTop=T.top,this.initialCropBoxData=Dt({},T)},limitCropBox:function(m,w){var b=this.options,A=this.containerData,T=this.canvasData,z=this.cropBoxData,N=this.limited,F=b.aspectRatio;if(m){var B=Number(b.minCropBoxWidth)||0,H=Number(b.minCropBoxHeight)||0,Y=N?Math.min(A.width,T.width,T.width+T.left,A.width-T.left):A.width,V=N?Math.min(A.height,T.height,T.height+T.top,A.height-T.top):A.height;B=Math.min(B,A.width),H=Math.min(H,A.height),F&&(B&&H?H*F>B?H=B/F:B=H*F:B?H=B/F:H&&(B=H*F),V*F>Y?V=Y/F:Y=V*F),z.minWidth=Math.min(B,Y),z.minHeight=Math.min(H,V),z.maxWidth=Y,z.maxHeight=V}w&&(N?(z.minLeft=Math.max(0,T.left),z.minTop=Math.max(0,T.top),z.maxLeft=Math.min(A.width,T.left+T.width)-z.width,z.maxTop=Math.min(A.height,T.top+T.height)-z.height):(z.minLeft=0,z.minTop=0,z.maxLeft=A.width-z.width,z.maxTop=A.height-z.height))},renderCropBox:function(){var m=this.options,w=this.containerData,b=this.cropBoxData;(b.width>b.maxWidth||b.width<b.minWidth)&&(b.left=b.oldLeft),(b.height>b.maxHeight||b.height<b.minHeight)&&(b.top=b.oldTop),b.width=Math.min(Math.max(b.width,b.minWidth),b.maxWidth),b.height=Math.min(Math.max(b.height,b.minHeight),b.maxHeight),this.limitCropBox(!1,!0),b.left=Math.min(Math.max(b.left,b.minLeft),b.maxLeft),b.top=Math.min(Math.max(b.top,b.minTop),b.maxTop),b.oldLeft=b.left,b.oldTop=b.top,m.movable&&m.cropBoxMovable&&ye(this.face,_t,b.width>=w.width&&b.height>=w.height?U:"all"),ge(this.cropBox,Dt({width:b.width,height:b.height},re({translateX:b.left,translateY:b.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Ie(this.element,Jt,this.getData())}},y={initPreview:function(){var m=this.element,w=this.crossOrigin,b=this.options.preview,A=w?this.crossOriginUrl:this.url,T=m.alt||"The image to preview",z=document.createElement("img");if(w&&(z.crossOrigin=w),z.src=A,z.alt=T,this.viewBox.appendChild(z),this.viewBoxImage=z,b){var N=b;"string"==typeof b?N=m.ownerDocument.querySelectorAll(b):b.querySelector&&(N=[b]),this.previews=N,Yt(N,function(F){var B=document.createElement("img");ye(F,Ft,{width:F.offsetWidth,height:F.offsetHeight,html:F.innerHTML}),w&&(B.crossOrigin=w),B.src=A,B.alt=T,B.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',F.innerHTML="",F.appendChild(B)})}},resetPreview:function(){Yt(this.previews,function(m){var w=Nt(m,Ft);ge(m,{width:w.width,height:w.height}),m.innerHTML=w.html,function Ee(u,m){if(He(u[m]))try{delete u[m]}catch{u[m]=void 0}else if(u.dataset)try{delete u.dataset[m]}catch{u.dataset[m]=void 0}else u.removeAttribute("data-".concat(Mt(m)))}(m,Ft)})},preview:function(){var m=this.imageData,w=this.canvasData,b=this.cropBoxData,A=b.width,T=b.height,z=m.width,N=m.height,F=b.left-w.left-m.left,B=b.top-w.top-m.top;!this.cropped||this.disabled||(ge(this.viewBoxImage,Dt({width:z,height:N},re(Dt({translateX:-F,translateY:-B},m)))),Yt(this.previews,function(H){var Y=Nt(H,Ft),V=Y.width,tt=Y.height,et=V,rt=tt,st=1;A&&(rt=T*(st=V/A)),T&&rt>tt&&(et=A*(st=tt/T),rt=tt),ge(H,{width:et,height:rt}),ge(H.getElementsByTagName("img")[0],Dt({width:z*st,height:N*st},re(Dt({translateX:-F*st,translateY:-B*st},m))))}))}},C={bind:function(){var m=this.element,w=this.options,b=this.cropper;ee(w.cropstart)&&Tt(m,Pe,w.cropstart),ee(w.cropmove)&&Tt(m,Fe,w.cropmove),ee(w.cropend)&&Tt(m,Le,w.cropend),ee(w.crop)&&Tt(m,Jt,w.crop),ee(w.zoom)&&Tt(m,mi,w.zoom),Tt(b,fi,this.onCropStart=this.cropStart.bind(this)),w.zoomable&&w.zoomOnWheel&&Tt(b,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),w.toggleDragModeOnDblclick&&Tt(b,ai,this.onDblclick=this.dblclick.bind(this)),Tt(m.ownerDocument,Li,this.onCropMove=this.cropMove.bind(this)),Tt(m.ownerDocument,Ci,this.onCropEnd=this.cropEnd.bind(this)),w.responsive&&Tt(window,"resize",this.onResize=this.resize.bind(this))},unbind:function(){var m=this.element,w=this.options,b=this.cropper;ee(w.cropstart)&&pt(m,Pe,w.cropstart),ee(w.cropmove)&&pt(m,Fe,w.cropmove),ee(w.cropend)&&pt(m,Le,w.cropend),ee(w.crop)&&pt(m,Jt,w.crop),ee(w.zoom)&&pt(m,mi,w.zoom),pt(b,fi,this.onCropStart),w.zoomable&&w.zoomOnWheel&&pt(b,"wheel",this.onWheel,{passive:!1,capture:!0}),w.toggleDragModeOnDblclick&&pt(b,ai,this.onDblclick),pt(m.ownerDocument,Li,this.onCropMove),pt(m.ownerDocument,Ci,this.onCropEnd),w.responsive&&pt(window,"resize",this.onResize)}},k={resize:function(){if(!this.disabled){var N,F,m=this.options,w=this.container,b=this.containerData,A=w.offsetWidth/b.width,T=w.offsetHeight/b.height,z=Math.abs(A-1)>Math.abs(T-1)?A:T;1!==z&&(m.restore&&(N=this.getCanvasData(),F=this.getCropBoxData()),this.render(),m.restore&&(this.setCanvasData(Yt(N,function(B,H){N[H]=B*z})),this.setCropBoxData(Yt(F,function(B,H){F[H]=B*z}))))}},dblclick:function(){this.disabled||"none"===this.options.dragMode||this.setDragMode(function wi(u,m){return u.classList?u.classList.contains(m):u.className.indexOf(m)>-1}(this.dragBox,ve)?"move":se)},wheel:function(m){var w=this,b=Number(this.options.wheelZoomRatio)||.1,A=1;this.disabled||(m.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){w.wheeling=!1},50),m.deltaY?A=m.deltaY>0?1:-1:m.wheelDelta?A=-m.wheelDelta/120:m.detail&&(A=m.detail>0?1:-1),this.zoom(-A*b,m)))},cropStart:function(m){var w=m.buttons,b=m.button;if(!(this.disabled||("mousedown"===m.type||"pointerdown"===m.type&&"mouse"===m.pointerType)&&(yt(w)&&1!==w||yt(b)&&0!==b||m.ctrlKey))){var z,A=this.options,T=this.pointers;m.changedTouches?Yt(m.changedTouches,function(N){T[N.identifier]=E(N)}):T[m.pointerId||0]=E(m),z=Object.keys(T).length>1&&A.zoomable&&A.zoomOnTouch?"zoom":Nt(m.target,_t),oi.test(z)&&!1!==Ie(this.element,Pe,{originalEvent:m,action:z})&&(m.preventDefault(),this.action=z,this.cropping=!1,"crop"===z&&(this.cropping=!0,Wt(this.dragBox,Ot)))}},cropMove:function(m){var w=this.action;if(!this.disabled&&w){var b=this.pointers;m.preventDefault(),!1!==Ie(this.element,Fe,{originalEvent:m,action:w})&&(m.changedTouches?Yt(m.changedTouches,function(A){Dt(b[A.identifier]||{},E(A,!0))}):Dt(b[m.pointerId||0]||{},E(m,!0)),this.change(m))}},cropEnd:function(m){if(!this.disabled){var w=this.action,b=this.pointers;m.changedTouches?Yt(m.changedTouches,function(A){delete b[A.identifier]}):delete b[m.pointerId||0],w&&(m.preventDefault(),Object.keys(b).length||(this.action=""),this.cropping&&(this.cropping=!1,Ye(this.dragBox,Ot,this.cropped&&this.options.modal)),Ie(this.element,Le,{originalEvent:m,action:w}))}}},M={change:function(m){var kt,b=this.canvasData,A=this.containerData,T=this.cropBoxData,z=this.pointers,N=this.action,F=this.options.aspectRatio,B=T.left,H=T.top,Y=T.width,V=T.height,tt=B+Y,et=H+V,rt=0,st=0,ht=A.width,bt=A.height,mt=!0;!F&&m.shiftKey&&(F=Y&&V?Y/V:1),this.limited&&(st=T.minTop,ht=(rt=T.minLeft)+Math.min(A.width,b.width,b.left+b.width),bt=st+Math.min(A.height,b.height,b.top+b.height));var Rt=z[Object.keys(z)[0]],q={x:Rt.endX-Rt.startX,y:Rt.endY-Rt.startY},lt=function(It){switch(It){case"e":tt+q.x>ht&&(q.x=ht-tt);break;case"w":B+q.x<rt&&(q.x=rt-B);break;case ce:H+q.y<st&&(q.y=st-H);break;case"s":et+q.y>bt&&(q.y=bt-et)}};switch(N){case"all":B+=q.x,H+=q.y;break;case"e":if(q.x>=0&&(tt>=ht||F&&(H<=st||et>=bt))){mt=!1;break}lt("e"),(Y+=q.x)<0&&(N="w",B-=Y=-Y),F&&(H+=(T.height-(V=Y/F))/2);break;case ce:if(q.y<=0&&(H<=st||F&&(B<=rt||tt>=ht))){mt=!1;break}lt(ce),H+=q.y,(V-=q.y)<0&&(N="s",H-=V=-V),F&&(B+=(T.width-(Y=V*F))/2);break;case"w":if(q.x<=0&&(B<=rt||F&&(H<=st||et>=bt))){mt=!1;break}lt("w"),B+=q.x,(Y-=q.x)<0&&(N="e",B-=Y=-Y),F&&(H+=(T.height-(V=Y/F))/2);break;case"s":if(q.y>=0&&(et>=bt||F&&(B<=rt||tt>=ht))){mt=!1;break}lt("s"),(V+=q.y)<0&&(N=ce,H-=V=-V),F&&(B+=(T.width-(Y=V*F))/2);break;case Zt:if(F){if(q.y<=0&&(H<=st||tt>=ht)){mt=!1;break}lt(ce),H+=q.y,Y=(V-=q.y)*F}else lt(ce),lt("e"),q.x>=0?tt<ht?Y+=q.x:q.y<=0&&H<=st&&(mt=!1):Y+=q.x,q.y<=0?H>st&&(V-=q.y,H+=q.y):(V-=q.y,H+=q.y);Y<0&&V<0?(N=ft,H-=V=-V,B-=Y=-Y):Y<0?(N=Qt,B-=Y=-Y):V<0&&(N=_e,H-=V=-V);break;case Qt:if(F){if(q.y<=0&&(H<=st||B<=rt)){mt=!1;break}lt(ce),H+=q.y,B+=T.width-(Y=(V-=q.y)*F)}else lt(ce),lt("w"),q.x<=0?B>rt?(Y-=q.x,B+=q.x):q.y<=0&&H<=st&&(mt=!1):(Y-=q.x,B+=q.x),q.y<=0?H>st&&(V-=q.y,H+=q.y):(V-=q.y,H+=q.y);Y<0&&V<0?(N=_e,H-=V=-V,B-=Y=-Y):Y<0?(N=Zt,B-=Y=-Y):V<0&&(N=ft,H-=V=-V);break;case ft:if(F){if(q.x<=0&&(B<=rt||et>=bt)){mt=!1;break}lt("w"),B+=q.x,V=(Y-=q.x)/F}else lt("s"),lt("w"),q.x<=0?B>rt?(Y-=q.x,B+=q.x):q.y>=0&&et>=bt&&(mt=!1):(Y-=q.x,B+=q.x),q.y>=0?et<bt&&(V+=q.y):V+=q.y;Y<0&&V<0?(N=Zt,H-=V=-V,B-=Y=-Y):Y<0?(N=_e,B-=Y=-Y):V<0&&(N=Qt,H-=V=-V);break;case _e:if(F){if(q.x>=0&&(tt>=ht||et>=bt)){mt=!1;break}lt("e"),V=(Y+=q.x)/F}else lt("s"),lt("e"),q.x>=0?tt<ht?Y+=q.x:q.y>=0&&et>=bt&&(mt=!1):Y+=q.x,q.y>=0?et<bt&&(V+=q.y):V+=q.y;Y<0&&V<0?(N=Qt,H-=V=-V,B-=Y=-Y):Y<0?(N=ft,B-=Y=-Y):V<0&&(N=Zt,H-=V=-V);break;case U:this.move(q.x,q.y),mt=!1;break;case"zoom":this.zoom(function _i(u){var m=gt({},u),w=0;return Yt(u,function(b,A){delete m[A],Yt(m,function(T){var z=Math.abs(b.startX-T.startX),N=Math.abs(b.startY-T.startY),F=Math.abs(b.endX-T.endX),B=Math.abs(b.endY-T.endY),H=Math.sqrt(z*z+N*N),V=(Math.sqrt(F*F+B*B)-H)/H;Math.abs(V)>Math.abs(w)&&(w=V)})}),w}(z),m),mt=!1;break;case"crop":if(!q.x||!q.y){mt=!1;break}kt=$e(this.cropper),B=Rt.startX-kt.left,H=Rt.startY-kt.top,Y=T.minWidth,V=T.minHeight,q.x>0?N=q.y>0?_e:Zt:q.x<0&&(B-=Y,N=q.y>0?ft:Qt),q.y<0&&(H-=V),this.cropped||(fe(this.cropBox,wt),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}mt&&(T.width=Y,T.height=V,T.left=B,T.top=H,this.action=N,this.renderCropBox()),Yt(z,function(ut){ut.startX=ut.endX,ut.startY=ut.endY})}},D={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Wt(this.dragBox,Ot),fe(this.cropBox,wt),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Dt({},this.initialImageData),this.canvasData=Dt({},this.initialCanvasData),this.cropBoxData=Dt({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Dt(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),fe(this.dragBox,Ot),Wt(this.cropBox,wt)),this},replace:function(m){var w=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&m&&(this.isImg&&(this.element.src=m),w?(this.url=m,this.image.src=m,this.ready&&(this.viewBoxImage.src=m,Yt(this.previews,function(b){b.getElementsByTagName("img")[0].src=m}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(m))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,fe(this.cropper,xt)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Wt(this.cropper,xt)),this},destroy:function(){var m=this.element;return m[X]?(m[X]=void 0,this.isImg&&this.replaced&&(m.src=this.originalUrl),this.uncreate(),this):this},move:function(m){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m,b=this.canvasData,A=b.left,T=b.top;return this.moveTo(yi(m)?m:A+Number(m),yi(w)?w:T+Number(w))},moveTo:function(m){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m,b=this.canvasData,A=!1;return m=Number(m),w=Number(w),this.ready&&!this.disabled&&this.options.movable&&(yt(m)&&(b.left=m,A=!0),yt(w)&&(b.top=w,A=!0),A&&this.renderCanvas(!0)),this},zoom:function(m,w){var b=this.canvasData;return m=Number(m),this.zoomTo(b.width*(m=m<0?1/(1-m):1+m)/b.naturalWidth,null,w)},zoomTo:function(m,w,b){var A=this.options,T=this.canvasData,z=T.width,N=T.height,F=T.naturalWidth,B=T.naturalHeight;if((m=Number(m))>=0&&this.ready&&!this.disabled&&A.zoomable){var H=F*m,Y=B*m;if(!1===Ie(this.element,mi,{ratio:m,oldRatio:z/F,originalEvent:b}))return this;if(b){var V=this.pointers,tt=$e(this.cropper),et=V&&Object.keys(V).length?function t(u){var m=0,w=0,b=0;return Yt(u,function(A){m+=A.startX,w+=A.startY,b+=1}),{pageX:m/=b,pageY:w/=b}}(V):{pageX:b.pageX,pageY:b.pageY};T.left-=(et.pageX-tt.left-T.left)/z*(H-z),T.top-=(et.pageY-tt.top-T.top)/N*(Y-N)}else Te(w)&&yt(w.x)&&yt(w.y)?(T.left-=(w.x-T.left)/z*(H-z),T.top-=(w.y-T.top)/N*(Y-N)):(T.left-=(H-z)/2,T.top-=(Y-N)/2);T.width=H,T.height=Y,this.renderCanvas(!0)}return this},rotate:function(m){return this.rotateTo((this.imageData.rotate||0)+Number(m))},rotateTo:function(m){return yt(m=Number(m))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=m%360,this.renderCanvas(!0,!0)),this},scaleX:function(m){var w=this.imageData.scaleY;return this.scale(m,yt(w)?w:1)},scaleY:function(m){var w=this.imageData.scaleX;return this.scale(yt(w)?w:1,m)},scale:function(m){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m,b=this.imageData,A=!1;return m=Number(m),w=Number(w),this.ready&&!this.disabled&&this.options.scalable&&(yt(m)&&(b.scaleX=m,A=!0),yt(w)&&(b.scaleY=w,A=!0),A&&this.renderCanvas(!0,!0)),this},getData:function(){var z,m=arguments.length>0&&void 0!==arguments[0]&&arguments[0],w=this.options,b=this.imageData,A=this.canvasData,T=this.cropBoxData;if(this.ready&&this.cropped){var N=b.width/b.naturalWidth;if(Yt(z={x:T.left-A.left,y:T.top-A.top,width:T.width,height:T.height},function(H,Y){z[Y]=H/N}),m){var F=Math.round(z.y+z.height),B=Math.round(z.x+z.width);z.x=Math.round(z.x),z.y=Math.round(z.y),z.width=B-z.x,z.height=F-z.y}}else z={x:0,y:0,width:0,height:0};return w.rotatable&&(z.rotate=b.rotate||0),w.scalable&&(z.scaleX=b.scaleX||1,z.scaleY=b.scaleY||1),z},setData:function(m){var w=this.options,b=this.imageData,A=this.canvasData,T={};if(this.ready&&!this.disabled&&Te(m)){var z=!1;w.rotatable&&yt(m.rotate)&&m.rotate!==b.rotate&&(b.rotate=m.rotate,z=!0),w.scalable&&(yt(m.scaleX)&&m.scaleX!==b.scaleX&&(b.scaleX=m.scaleX,z=!0),yt(m.scaleY)&&m.scaleY!==b.scaleY&&(b.scaleY=m.scaleY,z=!0)),z&&this.renderCanvas(!0,!0);var N=b.width/b.naturalWidth;yt(m.x)&&(T.left=m.x*N+A.left),yt(m.y)&&(T.top=m.y*N+A.top),yt(m.width)&&(T.width=m.width*N),yt(m.height)&&(T.height=m.height*N),this.setCropBoxData(T)}return this},getContainerData:function(){return this.ready?Dt({},this.containerData):{}},getImageData:function(){return this.sized?Dt({},this.imageData):{}},getCanvasData:function(){var m=this.canvasData,w={};return this.ready&&Yt(["left","top","width","height","naturalWidth","naturalHeight"],function(b){w[b]=m[b]}),w},setCanvasData:function(m){var w=this.canvasData,b=w.aspectRatio;return this.ready&&!this.disabled&&Te(m)&&(yt(m.left)&&(w.left=m.left),yt(m.top)&&(w.top=m.top),yt(m.width)?(w.width=m.width,w.height=m.width/b):yt(m.height)&&(w.height=m.height,w.width=m.height*b),this.renderCanvas(!0)),this},getCropBoxData:function(){var w,m=this.cropBoxData;return this.ready&&this.cropped&&(w={left:m.left,top:m.top,width:m.width,height:m.height}),w||{}},setCropBoxData:function(m){var A,T,w=this.cropBoxData,b=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&Te(m)&&(yt(m.left)&&(w.left=m.left),yt(m.top)&&(w.top=m.top),yt(m.width)&&m.width!==w.width&&(A=!0,w.width=m.width),yt(m.height)&&m.height!==w.height&&(T=!0,w.height=m.height),b&&(A?w.height=w.width/b:T&&(w.width=w.height*b)),this.renderCropBox()),this},getCroppedCanvas:function(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var w=this.canvasData,b=function a(u,m,w,b){var A=m.aspectRatio,T=m.naturalWidth,z=m.naturalHeight,N=m.rotate,F=void 0===N?0:N,B=m.scaleX,H=void 0===B?1:B,Y=m.scaleY,V=void 0===Y?1:Y,tt=w.aspectRatio,et=w.naturalWidth,rt=w.naturalHeight,st=b.fillColor,ht=void 0===st?"transparent":st,bt=b.imageSmoothingEnabled,mt=void 0===bt||bt,kt=b.imageSmoothingQuality,Rt=void 0===kt?"low":kt,q=b.maxWidth,lt=void 0===q?1/0:q,ut=b.maxHeight,It=void 0===ut?1/0:ut,St=b.minWidth,ie=void 0===St?0:St,ue=b.minHeight,Bt=void 0===ue?0:ue,Xt=document.createElement("canvas"),Ut=Xt.getContext("2d"),ze=e({aspectRatio:tt,width:lt,height:It}),di=e({aspectRatio:tt,width:ie,height:Bt},"cover"),Mi=Math.min(ze.width,Math.max(di.width,et)),ui=Math.min(ze.height,Math.max(di.height,rt)),le=e({aspectRatio:A,width:lt,height:It}),Ke=e({aspectRatio:A,width:ie,height:Bt},"cover"),Oe=Math.min(le.width,Math.max(Ke.width,T)),Je=Math.min(le.height,Math.max(Ke.height,z)),ki=[-Oe/2,-Je/2,Oe,Je];return Xt.width=Ce(Mi),Xt.height=Ce(ui),Ut.fillStyle=ht,Ut.fillRect(0,0,Mi,ui),Ut.save(),Ut.translate(Mi/2,ui/2),Ut.rotate(F*Math.PI/180),Ut.scale(H,V),Ut.imageSmoothingEnabled=mt,Ut.imageSmoothingQuality=Rt,Ut.drawImage.apply(Ut,[u].concat(J(ki.map(function(Xi){return Math.floor(Ce(Xi))})))),Ut.restore(),Xt}(this.image,this.imageData,w,m);if(!this.cropped)return b;var A=this.getData(m.rounded),T=A.x,z=A.y,N=A.width,F=A.height,B=b.width/Math.floor(w.naturalWidth);1!==B&&(T*=B,z*=B,N*=B,F*=B);var H=N/F,Y=e({aspectRatio:H,width:m.maxWidth||1/0,height:m.maxHeight||1/0}),V=e({aspectRatio:H,width:m.minWidth||0,height:m.minHeight||0},"cover"),tt=e({aspectRatio:H,width:m.width||(1!==B?b.width:N),height:m.height||(1!==B?b.height:F)}),et=tt.width,rt=tt.height;et=Math.min(Y.width,Math.max(V.width,et)),rt=Math.min(Y.height,Math.max(V.height,rt));var st=document.createElement("canvas"),ht=st.getContext("2d");st.width=Ce(et),st.height=Ce(rt),ht.fillStyle=m.fillColor||"transparent",ht.fillRect(0,0,et,rt);var bt=m.imageSmoothingEnabled,kt=m.imageSmoothingQuality;ht.imageSmoothingEnabled=void 0===bt||bt,kt&&(ht.imageSmoothingQuality=kt);var It,St,ie,ue,Bt,Xt,Rt=b.width,q=b.height,lt=T,ut=z;lt<=-N||lt>Rt?(lt=0,It=0,ie=0,Bt=0):lt<=0?(ie=-lt,lt=0,Bt=It=Math.min(Rt,N+lt)):lt<=Rt&&(ie=0,Bt=It=Math.min(N,Rt-lt)),It<=0||ut<=-F||ut>q?(ut=0,St=0,ue=0,Xt=0):ut<=0?(ue=-ut,ut=0,Xt=St=Math.min(q,F+ut)):ut<=q&&(ue=0,Xt=St=Math.min(F,q-ut));var Ut=[lt,ut,It,St];if(Bt>0&&Xt>0){var ze=et/N;Ut.push(ie*ze,ue*ze,Bt*ze,Xt*ze)}return ht.drawImage.apply(ht,[b].concat(J(Ut.map(function(di){return Math.floor(Ce(di))})))),st},setAspectRatio:function(m){var w=this.options;return!this.disabled&&!yi(m)&&(w.aspectRatio=Math.max(0,m)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(m){var w=this.options,b=this.dragBox,A=this.face;if(this.ready&&!this.disabled){var T=m===se,z=w.movable&&"move"===m;w.dragMode=m=T||z?m:"none",ye(b,_t,m),Ye(b,ve,T),Ye(b,Et,z),w.cropBoxMovable||(ye(A,_t,m),Ye(A,ve,T),Ye(A,Et,z))}return this}},I=he.Cropper,c=function(){function u(m){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function P(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")}(this,u),!m||!Ze.test(m.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=m,this.options=Dt({},li,Te(w)&&w),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return function Z(u,m,w){return m&&R(u.prototype,m),w&&R(u,w),Object.defineProperty(u,"prototype",{writable:!1}),u}(u,[{key:"init",value:function(){var A,w=this.element,b=w.tagName.toLowerCase();if(!w[X]){if(w[X]=this,"img"===b){if(this.isImg=!0,A=w.getAttribute("src")||"",this.originalUrl=A,!A)return;A=w.src}else"canvas"===b&&window.HTMLCanvasElement&&(A=w.toDataURL());this.load(A)}}},{key:"load",value:function(w){var b=this;if(w){this.url=w,this.imageData={};var A=this.element,T=this.options;if(!T.rotatable&&!T.scalable&&(T.checkOrientation=!1),!T.checkOrientation||!window.ArrayBuffer)return void this.clone();if(be.test(w))return void(dt.test(w)?this.read(function h(u){var m=u.replace(r,""),w=atob(m),b=new ArrayBuffer(w.length),A=new Uint8Array(b);return Yt(A,function(T,z){A[z]=w.charCodeAt(z)}),b}(w)):this.clone());var z=new XMLHttpRequest,N=this.clone.bind(this);this.reloading=!0,this.xhr=z,z.onabort=N,z.onerror=N,z.ontimeout=N,z.onprogress=function(){z.getResponseHeader("content-type")!==ni&&z.abort()},z.onload=function(){b.read(z.response)},z.onloadend=function(){b.reloading=!1,b.xhr=null},T.checkCrossOrigin&&Ae(w)&&A.crossOrigin&&(w=Gt(w)),z.open("GET",w,!0),z.responseType="arraybuffer",z.withCredentials="use-credentials"===A.crossOrigin,z.send()}}},{key:"read",value:function(w){var b=this.options,A=this.imageData,T=function f(u){var w,m=new DataView(u);try{var b,A,T;if(255===m.getUint8(0)&&216===m.getUint8(1))for(var z=m.byteLength,N=2;N+1<z;){if(255===m.getUint8(N)&&225===m.getUint8(N+1)){A=N;break}N+=1}if(A){var B=A+10;if("Exif"===function o(u,m,w){var b="";w+=m;for(var A=m;A<w;A+=1)b+=n(u.getUint8(A));return b}(m,A+4,4)){var H=m.getUint16(B);if(((b=18761===H)||19789===H)&&42===m.getUint16(B+2,b)){var Y=m.getUint32(B+4,b);Y>=8&&(T=B+Y)}}}if(T){var tt,et,V=m.getUint16(T,b);for(et=0;et<V;et+=1)if(274===m.getUint16(tt=T+12*et+2,b)){w=m.getUint16(tt+=8,b),m.setUint16(tt,1,b);break}}}catch{w=1}return w}(w),z=0,N=1,F=1;if(T>1){this.url=function d(u,m){for(var w=[],A=new Uint8Array(u);A.length>0;)w.push(n.apply(null,Xe(A.subarray(0,8192)))),A=A.subarray(8192);return"data:".concat(m,";base64,").concat(btoa(w.join("")))}(w,ni);var B=function g(u){var m=0,w=1,b=1;switch(u){case 2:w=-1;break;case 3:m=-180;break;case 4:b=-1;break;case 5:m=90,b=-1;break;case 6:m=90;break;case 7:m=90,w=-1;break;case 8:m=-90}return{rotate:m,scaleX:w,scaleY:b}}(T);z=B.rotate,N=B.scaleX,F=B.scaleY}b.rotatable&&(A.rotate=z),b.scalable&&(A.scaleX=N,A.scaleY=F),this.clone()}},{key:"clone",value:function(){var w=this.element,b=this.url,A=w.crossOrigin,T=b;this.options.checkCrossOrigin&&Ae(b)&&(A||(A="anonymous"),T=Gt(b)),this.crossOrigin=A,this.crossOriginUrl=T;var z=document.createElement("img");A&&(z.crossOrigin=A),z.src=T||b,z.alt=w.alt||"The image to crop",this.image=z,z.onload=this.start.bind(this),z.onerror=this.stop.bind(this),Wt(z,te),w.parentNode.insertBefore(z,w.nextSibling)}},{key:"start",value:function(){var w=this,b=this.image;b.onload=null,b.onerror=null,this.sizing=!0;var A=he.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(he.navigator.userAgent),T=function(B,H){Dt(w.imageData,{naturalWidth:B,naturalHeight:H,aspectRatio:B/H}),w.initialImageData=Dt({},w.imageData),w.sizing=!1,w.sized=!0,w.build()};if(!b.naturalWidth||A){var z=document.createElement("img"),N=document.body||document.documentElement;this.sizingImage=z,z.onload=function(){T(z.width,z.height),A||N.removeChild(z)},z.src=b.src,A||(z.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",N.appendChild(z))}else T(b.naturalWidth,b.naturalHeight)}},{key:"stop",value:function(){var w=this.image;w.onload=null,w.onerror=null,w.parentNode.removeChild(w),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var w=this.element,b=this.options,A=this.image,T=w.parentNode,z=document.createElement("div");z.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var N=z.querySelector(".".concat(X,"-container")),F=N.querySelector(".".concat(X,"-canvas")),B=N.querySelector(".".concat(X,"-drag-box")),H=N.querySelector(".".concat(X,"-crop-box")),Y=H.querySelector(".".concat(X,"-face"));this.container=T,this.cropper=N,this.canvas=F,this.dragBox=B,this.cropBox=H,this.viewBox=N.querySelector(".".concat(X,"-view-box")),this.face=Y,F.appendChild(A),Wt(w,wt),T.insertBefore(N,w.nextSibling),fe(A,te),this.initPreview(),this.bind(),b.initialAspectRatio=Math.max(0,b.initialAspectRatio)||NaN,b.aspectRatio=Math.max(0,b.aspectRatio)||NaN,b.viewMode=Math.max(0,Math.min(3,Math.round(b.viewMode)))||0,Wt(H,wt),b.guides||Wt(H.getElementsByClassName("".concat(X,"-dashed")),wt),b.center||Wt(H.getElementsByClassName("".concat(X,"-center")),wt),b.background&&Wt(N,"".concat(X,"-bg")),b.highlight||Wt(Y,Kt),b.cropBoxMovable&&(Wt(Y,Et),ye(Y,_t,"all")),b.cropBoxResizable||(Wt(H.getElementsByClassName("".concat(X,"-line")),wt),Wt(H.getElementsByClassName("".concat(X,"-point")),wt)),this.render(),this.ready=!0,this.setDragMode(b.dragMode),b.autoCrop&&this.crop(),this.setData(b.data),ee(b.ready)&&Tt(w,"ready",b.ready,{once:!0}),Ie(w,"ready")}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var w=this.cropper.parentNode;w&&w.removeChild(this.cropper),fe(this.element,wt)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=I,u}},{key:"setDefaults",value:function(w){Dt(li,Te(w)&&w)}}])}();return Dt(c.prototype,x,y,C,k,M,D),c}),function(Q,gt){"object"==typeof exports&&typeof module<"u"?module.exports=gt():"function"==typeof define&&define.amd?define(gt):(Q=typeof globalThis<"u"?globalThis:Q||self).ApexCharts=gt()}(this,function(){"use strict";function Q(E,t){(null==t||t>E.length)&&(t=E.length);for(var e=0,i=Array(t);e<t;e++)i[e]=E[e];return i}function gt(E){if(void 0===E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function ot(E,t){if(!(E instanceof t))throw new TypeError("Cannot call a class as a function")}function we(E,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(E,he(i.key),i)}}function v(E,t,e){return t&&we(E.prototype,t),e&&we(E,e),Object.defineProperty(E,"prototype",{writable:!1}),E}function P(E,t){var e=typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(!e){if(Array.isArray(E)||(e=Re(E))||t&&E&&"number"==typeof E.length){e&&(E=e);var i=0,a=function(){};return{s:a,n:function(){return i>=E.length?{done:!0}:{done:!1,value:E[i++]}},e:function(h){throw h},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,r=!1;return{s:function(){e=e.call(E)},n:function(){var h=e.next();return o=h.done,h},e:function(h){r=!0,n=h},f:function(){try{o||null==e.return||e.return()}finally{if(r)throw n}}}}function R(E){var t=at();return function(){var e,i=it(E);if(t){var a=it(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return function(n,o){if(o&&("object"==typeof o||"function"==typeof o))return o;if(void 0!==o)throw new TypeError("Derived constructors may only return object or undefined");return gt(n)}(this,e)}}function Z(E,t,e){return(t=he(t))in E?Object.defineProperty(E,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):E[t]=e,E}function it(E){return(it=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(E)}function J(E,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(t&&t.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),t&&At(E,t)}function at(){try{var E=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(at=function(){return!!E})()}function vt(E,t){var e=Object.keys(E);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(E);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(E,a).enumerable})),e.push.apply(e,i)}return e}function $(E){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(e),!0).forEach(function(i){Z(E,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(e)):vt(Object(e)).forEach(function(i){Object.defineProperty(E,i,Object.getOwnPropertyDescriptor(e,i))})}return E}function At(E,t){return(At=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,i){return e.__proto__=i,e})(E,t)}function je(E,t){return function(e){if(Array.isArray(e))return e}(E)||function(e,i){var a=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,o,r,h,d=[],f=!0,g=!1;try{if(r=(a=a.call(e)).next,0===i){if(Object(a)!==a)return;f=!1}else for(;!(f=(n=r.call(a)).done)&&(d.push(n.value),d.length!==i);f=!0);}catch(x){g=!0,o=x}finally{try{if(!f&&null!=a.return&&(h=a.return(),Object(h)!==h))return}finally{if(g)throw o}}return d}}(E,t)||Re(E,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vt(E){return function(t){if(Array.isArray(t))return Q(t)}(E)||function(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(E)||Re(E)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(E){var t=function(e){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(E);return"symbol"==typeof t?t:t+""}function zt(E){return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(E)}function Re(E,t){if(E){if("string"==typeof E)return Q(E,t);var e={}.toString.call(E).slice(8,-1);return"Object"===e&&E.constructor&&(e=E.constructor.name),"Map"===e||"Set"===e?Array.from(E):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Q(E,t):void 0}}var X=function(){function E(){ot(this,E)}return v(E,[{key:"shadeRGBColor",value:function(t,e){var i=e.split(","),a=t<0?0:255,n=t<0?-1*t:t,o=parseInt(i[0].slice(4),10),r=parseInt(i[1],10),h=parseInt(i[2],10);return"rgb("+(Math.round((a-o)*n)+o)+","+(Math.round((a-r)*n)+r)+","+(Math.round((a-h)*n)+h)+")"}},{key:"shadeHexColor",value:function(t,e){var i=parseInt(e.slice(1),16),a=t<0?0:255,n=t<0?-1*t:t,o=i>>16,r=i>>8&255,h=255&i;return"#"+(16777216+65536*(Math.round((a-o)*n)+o)+256*(Math.round((a-r)*n)+r)+(Math.round((a-h)*n)+h)).toString(16).slice(1)}},{key:"shadeColor",value:function(t,e){return E.isColorHex(e)?this.shadeHexColor(t,e):this.shadeRGBColor(t,e)}}],[{key:"bind",value:function(t,e){return function(){return t.apply(e,arguments)}}},{key:"isObject",value:function(t){return t&&"object"===zt(t)&&!Array.isArray(t)&&null!=t}},{key:"is",value:function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"}},{key:"listToArray",value:function(t){var e,i=[];for(e=0;e<t.length;e++)i[e]=t[e];return i}},{key:"extend",value:function(t,e){var i=this;"function"!=typeof Object.assign&&(Object.assign=function(n){if(null==n)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(n),r=1;r<arguments.length;r++){var h=arguments[r];if(null!=h)for(var d in h)h.hasOwnProperty(d)&&(o[d]=h[d])}return o});var a=Object.assign({},t);return this.isObject(t)&&this.isObject(e)&&Object.keys(e).forEach(function(n){i.isObject(e[n])&&n in t?a[n]=i.extend(t[n],e[n]):Object.assign(a,Z({},n,e[n]))}),a}},{key:"extendArray",value:function(t,e){var i=[];return t.map(function(a){i.push(E.extend(e,a))}),i}},{key:"monthMod",value:function(t){return t%12}},{key:"clone",value:function(t){if(E.is("Array",t)){for(var e=[],i=0;i<t.length;i++)e[i]=this.clone(t[i]);return e}if(E.is("Null",t))return null;if(E.is("Date",t))return t;if("object"===zt(t)){var a={};for(var n in t)t.hasOwnProperty(n)&&(a[n]=this.clone(t[n]));return a}return t}},{key:"log10",value:function(t){return Math.log(t)/Math.LN10}},{key:"roundToBase10",value:function(t){return Math.pow(10,Math.floor(Math.log10(t)))}},{key:"roundToBase",value:function(t,e){return Math.pow(e,Math.floor(Math.log(t)/Math.log(e)))}},{key:"parseNumber",value:function(t){return null===t?t:parseFloat(t)}},{key:"stripNumber",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number.isInteger(t)?t:parseFloat(t.toPrecision(e))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(t){var e=String(t).split(/[eE]/);if(1===e.length)return e[0];var i="",a=t<0?"-":"",n=e[0].replace(".",""),o=Number(e[1])+1;if(o<0){for(i=a+"0.";o++;)i+="0";return i+n.replace(/^-/,"")}for(o-=n.length;o--;)i+="0";return n+i}},{key:"getDimensions",value:function(t){var e=getComputedStyle(t,null),i=t.clientHeight,a=t.clientWidth;return i-=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom),[a-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight),i]}},{key:"getBoundingClientRect",value:function(t){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:t.clientWidth,height:t.clientHeight,x:e.left,y:e.top}}},{key:"getLargestStringFromArr",value:function(t){return t.reduce(function(e,i){return Array.isArray(i)&&(i=i.reduce(function(a,n){return a.length>n.length?a:n})),e.length>i.length?e:i},0)}},{key:"hexToRgba",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#999999",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;"#"!==t.substring(0,1)&&(t="#999999");var i=t.replace("#","");i=i.match(new RegExp("(.{"+i.length/3+"})","g"));for(var a=0;a<i.length;a++)i[a]=parseInt(1===i[a].length?i[a]+i[a]:i[a],16);return void 0!==e&&i.push(e),"rgba("+i.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(t){return parseFloat(t.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(t)}},{key:"getPolygonPos",value:function(t,e){for(var i=[],a=2*Math.PI/e,n=0;n<e;n++){var o={};o.x=t*Math.sin(n*a),o.y=-t*Math.cos(n*a),i.push(o)}return i}},{key:"polarToCartesian",value:function(t,e,i,a){var n=(a-90)*Math.PI/180;return{x:t+i*Math.cos(n),y:e+i*Math.sin(n)}}},{key:"escapeString",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";return t.toString().slice().replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,e)}},{key:"negToZero",value:function(t){return t<0?0:t}},{key:"moveIndexInArray",value:function(t,e,i){if(i>=t.length)for(var a=i-t.length+1;a--;)t.push(void 0);return t.splice(i,0,t.splice(e,1)[0]),t}},{key:"extractNumber",value:function(t){return parseFloat(t.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(t,e){for(;(t=t.parentElement)&&!t.classList.contains(e););return t}},{key:"setELstyles",value:function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t.style.key=e[i])}},{key:"preciseAddition",value:function(t,e){var i=(String(t).split(".")[1]||"").length,a=(String(e).split(".")[1]||"").length,n=Math.pow(10,Math.max(i,a));return(Math.round(t*n)+Math.round(e*n))/n}},{key:"isNumber",value:function(t){return!isNaN(t)&&parseFloat(Number(t))===t&&!isNaN(parseInt(t,10))}},{key:"isFloat",value:function(t){return Number(t)===t&&t%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isMsEdge",value:function(){var t=window.navigator.userAgent,e=t.indexOf("Edge/");return e>0&&parseInt(t.substring(e+5,t.indexOf(".",e)),10)}},{key:"getGCD",value:function(t,e){var a=Math.pow(10,(arguments.length>2&&void 0!==arguments[2]?arguments[2]:7)-Math.floor(Math.log10(Math.max(t,e))));for(t=Math.round(Math.abs(t)*a),e=Math.round(Math.abs(e)*a);e;){var n=e;e=t%e,t=n}return t/a}},{key:"getPrimeFactors",value:function(t){for(var e=[],i=2;t>=2;)t%i==0?(e.push(i),t/=i):i++;return e}},{key:"mod",value:function(t,e){var a=Math.pow(10,(arguments.length>2&&void 0!==arguments[2]?arguments[2]:7)-Math.floor(Math.log10(Math.max(t,e))));return(t=Math.round(Math.abs(t)*a))%(e=Math.round(Math.abs(e)*a))/a}}]),E}(),xe=function(){function E(t){ot(this,E),this.ctx=t,this.w=t.w,this.setEasingFunctions()}return v(E,[{key:"setEasingFunctions",value:function(){var t;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":t="-";break;case"easein":t="<";break;case"easeout":t=">";break;case"easeinout":default:t="<>";break;case"swing":t=function(e){var i=1.70158;return(e-=1)*e*((i+1)*e+i)+1};break;case"bounce":t=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375};break;case"elastic":t=function(e){return e===!!e?e:Math.pow(2,-10*e)*Math.sin((e-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=t}}},{key:"animateLine",value:function(t,e,i,a){t.attr(e).animate(a).attr(i)}},{key:"animateMarker",value:function(t,e,i,a){t.attr({opacity:0}).animate(e,i).attr({opacity:1}).afterAll(function(){a()})}},{key:"animateRect",value:function(t,e,i,a,n){t.attr(e).animate(a).attr(i).afterAll(function(){return n()})}},{key:"animatePathsGradually",value:function(t){var f=this.w,g=0;f.config.chart.animations.animateGradually.enabled&&(g=f.config.chart.animations.animateGradually.delay),f.config.chart.animations.dynamicAnimation.enabled&&f.globals.dataChanged&&"bar"!==f.config.chart.type&&(g=0),this.morphSVG(t.el,t.realIndex,t.j,"line"!==f.config.chart.type||f.globals.comboCharts?t.fill:"stroke",t.pathFrom,t.pathTo,t.speed,t.delay*g)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(t){var e=t.el;e.classList.remove("apexcharts-element-hidden"),e.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(t){var e=this.w;e.globals.animationEnded||(e.globals.animationEnded=!0,this.showDelayedElements(),"function"==typeof e.config.chart.events.animationEnd&&e.config.chart.events.animationEnd(this.ctx,{el:t,w:e}))}},{key:"morphSVG",value:function(t,e,i,a,n,o,r,h){var d=this,f=this.w;n||(n=t.attr("pathFrom")),o||(o=t.attr("pathTo"));var g=function(x){return"radar"===f.config.chart.type&&(r=1),"M 0 ".concat(f.globals.gridHeight)};(!n||n.indexOf("undefined")>-1||n.indexOf("NaN")>-1)&&(n=g()),(!o||o.indexOf("undefined")>-1||o.indexOf("NaN")>-1)&&(o=g()),f.globals.shouldAnimate||(r=1),t.plot(n).animate(1,f.globals.easing,h).plot(n).animate(r,f.globals.easing,h).plot(o).afterAll(function(){X.isNumber(i)?i===f.globals.series[f.globals.maxValsInArrayIndex].length-2&&f.globals.shouldAnimate&&d.animationCompleted(t):"none"!==a&&f.globals.shouldAnimate&&(!f.globals.comboCharts&&e===f.globals.series.length-1||f.globals.comboCharts)&&d.animationCompleted(t),d.showDelayedElements()})}}]),E}(),$t=function(){function E(t){ot(this,E),this.ctx=t,this.w=t.w}return v(E,[{key:"getDefaultFilter",value:function(t,e){var i=this.w;t.unfilter(!0),(new window.SVG.Filter).size("120%","180%","-5%","-40%"),"none"!==i.config.states.normal.filter?this.applyFilter(t,e,i.config.states.normal.filter.type,i.config.states.normal.filter.value):i.config.chart.dropShadow.enabled&&this.dropShadow(t,i.config.chart.dropShadow,e)}},{key:"addNormalFilter",value:function(t,e){var i=this.w;i.config.chart.dropShadow.enabled&&!t.node.classList.contains("apexcharts-marker")&&this.dropShadow(t,i.config.chart.dropShadow,e)}},{key:"addLightenFilter",value:function(t,e,i){var a=this,n=this.w,o=i.intensity;t.unfilter(!0),new window.SVG.Filter,t.filter(function(r){var h=n.config.chart.dropShadow;(h.enabled?a.addShadow(r,e,h):r).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:o}})}),t.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(t.filterer.node)}},{key:"addDarkenFilter",value:function(t,e,i){var a=this,n=this.w,o=i.intensity;t.unfilter(!0),new window.SVG.Filter,t.filter(function(r){var h=n.config.chart.dropShadow;(h.enabled?a.addShadow(r,e,h):r).componentTransfer({rgb:{type:"linear",slope:o}})}),t.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(t.filterer.node)}},{key:"applyFilter",value:function(t,e,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;switch(i){case"none":this.addNormalFilter(t,e);break;case"lighten":this.addLightenFilter(t,e,{intensity:a});break;case"darken":this.addDarkenFilter(t,e,{intensity:a})}}},{key:"addShadow",value:function(t,e,i){var a,n=this.w,o=i.blur,r=i.top,h=i.left,d=i.color,f=i.opacity;if((null===(a=n.config.chart.dropShadow.enabledOnSeries)||void 0===a?void 0:a.length)>0&&-1===n.config.chart.dropShadow.enabledOnSeries.indexOf(e))return t;var g=t.flood(Array.isArray(d)?d[e]:d,f).composite(t.sourceAlpha,"in").offset(h,r).gaussianBlur(o).merge(t.source);return t.blend(t.source,g)}},{key:"dropShadow",value:function(t,e){var i,a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=e.top,r=e.left,h=e.blur,d=e.color,f=e.opacity,g=e.noUserSpaceOnUse,x=this.w;return t.unfilter(!0),X.isMsEdge()&&"radialBar"===x.config.chart.type||(null===(i=x.config.chart.dropShadow.enabledOnSeries)||void 0===i?void 0:i.length)>0&&-1===(null===(a=x.config.chart.dropShadow.enabledOnSeries)||void 0===a?void 0:a.indexOf(n))||(d=Array.isArray(d)?d[n]:d,t.filter(function(y){var C;C=X.isSafari()||X.isFirefox()||X.isMsEdge()?y.flood(d,f).composite(y.sourceAlpha,"in").offset(r,o).gaussianBlur(h):y.flood(d,f).composite(y.sourceAlpha,"in").offset(r,o).gaussianBlur(h).merge(y.source),y.blend(y.source,C)}),g||t.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(t.filterer.node)),t}},{key:"setSelectionFilter",value:function(t,e,i){var a=this.w;if(void 0!==a.globals.selectedDataPoints[e]&&a.globals.selectedDataPoints[e].indexOf(i)>-1){t.node.setAttribute("selected",!0);var n=a.config.states.active.filter;"none"!==n&&this.applyFilter(t,e,n.type,n.value)}}},{key:"_scaleFilterSize",value:function(t){!function(e){for(var i in e)e.hasOwnProperty(i)&&t.setAttribute(i,e[i])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),E}(),U=function(){function E(t){ot(this,E),this.ctx=t,this.w=t.w}return v(E,[{key:"roundPathCorners",value:function(t,e){function i(A,T,z){var N=T.x-A.x,F=T.y-A.y,B=Math.sqrt(N*N+F*F);return a(A,T,Math.min(1,z/B))}function a(A,T,z){return{x:A.x+(T.x-A.x)*z,y:A.y+(T.y-A.y)*z}}function n(A,T){A.length>2&&(A[A.length-2]=T.x,A[A.length-1]=T.y)}function o(A){return{x:parseFloat(A[A.length-2]),y:parseFloat(A[A.length-1])}}t.indexOf("NaN")>-1&&(t="");var r=t.split(/[,\s]/).reduce(function(A,T){var z=T.match("([a-zA-Z])(.+)");return z?(A.push(z[1]),A.push(z[2])):A.push(T),A},[]).reduce(function(A,T){return parseFloat(T)==T&&A.length?A[A.length-1].push(T):A.push([T]),A},[]),h=[];if(r.length>1){var d=o(r[0]),f=null;"Z"==r[r.length-1][0]&&r[0].length>2&&(r[r.length-1]=f=["L",d.x,d.y]),h.push(r[0]);for(var g=1;g<r.length;g++){var x=h[h.length-1],y=r[g],C=y==f?r[1]:r[g+1];if(C&&x&&x.length>2&&"L"==y[0]&&C.length>2&&"L"==C[0]){var k,M,D=o(x),I=o(y),c=o(C);k=i(I,D,e),M=i(I,c,e),n(y,k),y.origPoint=I,h.push(y);var u=a(k,I,.5),m=a(I,M,.5),w=["C",u.x,u.y,m.x,m.y,M.x,M.y];w.origPoint=I,h.push(w)}else h.push(y)}if(f){var b=o(h[h.length-1]);h.push(["Z"]),n(h[0],b)}}else h=r;return h.reduce(function(A,T){return A+T.join(" ")+" "},"")}},{key:"drawLine",value:function(t,e,i,a){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#a8a8a8",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:t,y1:e,x2:i,y2:a,stroke:n,"stroke-dasharray":o,"stroke-width":r,"stroke-linecap":h})}},{key:"drawRect",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#fefefe",r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,g=this.w.globals.dom.Paper.rect();return g.attr({x:t,y:e,width:i>0?i:0,height:a>0?a:0,rx:n,ry:n,opacity:r,"stroke-width":null!==h?h:0,stroke:null!==d?d:"none","stroke-dasharray":f}),g.node.setAttribute("fill",o),g}},{key:"drawPolygon",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#e1e1e1",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(t).attr({fill:a,stroke:e,"stroke-width":i})}},{key:"drawCircle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t<0&&(t=0);var i=this.w.globals.dom.Paper.circle(2*t);return null!==e&&i.attr(e),i}},{key:"drawPath",value:function(t){var e=t.d,i=void 0===e?"":e,a=t.stroke,n=void 0===a?"#a8a8a8":a,o=t.strokeWidth,r=void 0===o?1:o,h=t.fill,d=t.fillOpacity,f=void 0===d?1:d,g=t.strokeOpacity,x=void 0===g?1:g,y=t.classes,C=t.strokeLinecap,k=void 0===C?null:C,M=t.strokeDashArray,D=void 0===M?0:M,I=this.w;return null===k&&(k=I.config.stroke.lineCap),(i.indexOf("undefined")>-1||i.indexOf("NaN")>-1)&&(i="M 0 ".concat(I.globals.gridHeight)),I.globals.dom.Paper.path(i).attr({fill:h,"fill-opacity":f,stroke:n,"stroke-opacity":x,"stroke-linecap":k,"stroke-width":r,"stroke-dasharray":D,class:y})}},{key:"group",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.w.globals.dom.Paper.group();return null!==t&&e.attr(t),e}},{key:"move",value:function(t,e){return["M",t,e].join(" ")}},{key:"line",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=null;return null===i?a=[" L",t,e].join(" "):"H"===i?a=[" H",t].join(" "):"V"===i&&(a=[" V",e].join(" ")),a}},{key:"curve",value:function(t,e,i,a,n,o){return["C",t,e,i,a,n,o].join(" ")}},{key:"quadraticCurve",value:function(t,e,i,a){return["Q",t,e,i,a].join(" ")}},{key:"arc",value:function(t,e,i,a,n,o,r){var h="A";return arguments.length>7&&void 0!==arguments[7]&&arguments[7]&&(h="a"),[h,t,e,i,a,n,o,r].join(" ")}},{key:"renderPaths",value:function(t){var e,i=t.j,a=t.realIndex,n=t.pathFrom,o=t.pathTo,r=t.stroke,h=t.strokeWidth,d=t.strokeLinecap,f=t.fill,g=t.animationDelay,x=t.initialSpeed,y=t.dataChangeSpeed,C=t.className,k=t.chartType,M=t.shouldClipToGrid,D=void 0===M||M,I=t.bindEventsOnPaths,c=void 0===I||I,u=t.drawShadow,m=void 0===u||u,w=this.w,b=new $t(this.ctx),A=new xe(this.ctx),T=this.w.config.chart.animations.enabled,z=T&&this.w.config.chart.animations.dynamicAnimation.enabled,N=!!(T&&!w.globals.resized||z&&w.globals.dataChanged&&w.globals.shouldAnimate);N?e=n:(e=o,w.globals.animationEnded=!0);var B,F=w.config.stroke.dashArray;B=Array.isArray(F)?F[a]:w.config.stroke.dashArray;var H=this.drawPath({d:e,stroke:r,strokeWidth:h,fill:f,fillOpacity:1,classes:C,strokeLinecap:d,strokeDashArray:B});H.attr("index",a),D&&H.attr("bar"===k&&!w.globals.isHorizontal||w.globals.comboCharts?{"clip-path":"url(#gridRectBarMask".concat(w.globals.cuid,")")}:{"clip-path":"url(#gridRectMask".concat(w.globals.cuid,")")}),"none"!==w.config.states.normal.filter.type?b.getDefaultFilter(H,a):w.config.chart.dropShadow.enabled&&m&&b.dropShadow(H,w.config.chart.dropShadow,a),c&&(H.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,H)),H.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,H)),H.node.addEventListener("mousedown",this.pathMouseDown.bind(this,H))),H.attr({pathTo:o,pathFrom:n});var V={el:H,j:i,realIndex:a,pathFrom:n,pathTo:o,fill:f,strokeWidth:h,delay:g};return!T||w.globals.resized||w.globals.dataChanged?!w.globals.resized&&w.globals.dataChanged||A.showDelayedElements():A.animatePathsGradually($($({},V),{},{speed:x})),w.globals.dataChanged&&z&&N&&A.animatePathsGradually($($({},V),{},{speed:y})),H}},{key:"drawPattern",value:function(t,e,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#a8a8a8",n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return this.w.globals.dom.Paper.pattern(e,i,function(o){"horizontalLines"===t?o.line(0,0,i,0).stroke({color:a,width:n+1}):"verticalLines"===t?o.line(0,0,0,e).stroke({color:a,width:n+1}):"slantedLines"===t?o.line(0,0,e,i).stroke({color:a,width:n}):"squares"===t?o.rect(e,i).fill("none").stroke({color:a,width:n}):"circles"===t&&o.circle(e).fill("none").stroke({color:a,width:n})})}},{key:"drawGradient",value:function(t,e,i,a,n){var o,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,h=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,f=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,g=this.w;e.length<9&&0===e.indexOf("#")&&(e=X.hexToRgba(e,a)),i.length<9&&0===i.indexOf("#")&&(i=X.hexToRgba(i,n));var x=0,y=1,C=1,k=null;null!==h&&(x=void 0!==h[0]?h[0]/100:0,y=void 0!==h[1]?h[1]/100:1,C=void 0!==h[2]?h[2]/100:1,k=void 0!==h[3]?h[3]/100:null);var M=!("donut"!==g.config.chart.type&&"pie"!==g.config.chart.type&&"polarArea"!==g.config.chart.type&&"bubble"!==g.config.chart.type);return o=g.globals.dom.Paper.gradient(M?"radial":"linear",null===d||0===d.length?function(c){c.at(x,e,a),c.at(y,i,n),c.at(C,i,n),null!==k&&c.at(k,e,a)}:function(c){(Array.isArray(d[f])?d[f]:d).forEach(function(u){c.at(u.offset/100,u.color,u.opacity)})}),M?o.attr("bubble"!==g.config.chart.type?{gradientUnits:"userSpaceOnUse",cx:g.globals.gridWidth/2,cy:g.globals.gridHeight/2,r}:{cx:.5,cy:.5,r:.8,fx:.2,fy:.2}):"vertical"===t?o.from(0,0).to(0,1):"diagonal"===t?o.from(0,0).to(1,1):"horizontal"===t?o.from(0,1).to(1,1):"diagonal2"===t&&o.from(1,0).to(0,1),o}},{key:"getTextBasedOnMaxWidth",value:function(t){var e=t.text,i=t.maxWidth,o=this.getTextRects(e,t.fontSize,t.fontFamily),h=Math.floor(i/(o.width/e.length));return i<o.width?e.slice(0,h-3)+"...":e}},{key:"drawText",value:function(t){var e=this,i=t.x,a=t.y,n=t.text,o=t.textAnchor,r=t.fontSize,h=t.fontFamily,d=t.fontWeight,f=t.foreColor,g=t.opacity,x=t.maxWidth,y=t.cssClass,C=void 0===y?"":y,k=t.isPlainText,M=void 0===k||k,D=t.dominantBaseline,I=void 0===D?"auto":D,c=this.w;void 0===n&&(n="");var u=n;o||(o="start"),f&&f.length||(f=c.config.chart.foreColor),d=d||"regular";var m,w={maxWidth:x,fontSize:r=r||"11px",fontFamily:h=h||c.config.chart.fontFamily};return Array.isArray(n)?m=c.globals.dom.Paper.text(function(b){for(var A=0;A<n.length;A++)u=n[A],x&&(u=e.getTextBasedOnMaxWidth($({text:n[A]},w))),0===A?b.tspan(u):b.tspan(u).newLine()}):(x&&(u=this.getTextBasedOnMaxWidth($({text:n},w))),m=M?c.globals.dom.Paper.plain(n):c.globals.dom.Paper.text(function(b){return b.tspan(u)})),m.attr({x:i,y:a,"text-anchor":o,"dominant-baseline":I,"font-size":r,"font-family":h,"font-weight":d,fill:f,class:"apexcharts-text "+C}),m.node.style.fontFamily=h,m.node.style.opacity=g,m}},{key:"getMarkerPath",value:function(t,e,i,a){var n="";switch(i){case"cross":n="M ".concat(t-(a/=1.4)," ").concat(e-a," L ").concat(t+a," ").concat(e+a,"  M ").concat(t-a," ").concat(e+a," L ").concat(t+a," ").concat(e-a);break;case"plus":n="M ".concat(t-(a/=1.12)," ").concat(e," L ").concat(t+a," ").concat(e,"  M ").concat(t," ").concat(e-a," L ").concat(t," ").concat(e+a);break;case"star":case"sparkle":var o=5;a*=1.15,"sparkle"===i&&(a/=1.1,o=4);for(var r=Math.PI/o,h=0;h<=2*o;h++){var d=h*r,f=h%2==0?a:a/2;n+=(0===h?"M":"L")+(t+f*Math.sin(d))+","+(e-f*Math.cos(d))}n+="Z";break;case"triangle":n="M ".concat(t," ").concat(e-a," \n             L ").concat(t+a," ").concat(e+a," \n             L ").concat(t-a," ").concat(e+a," \n             Z");break;case"square":case"rect":n="M ".concat(t-(a/=1.125)," ").concat(e-a," \n           L ").concat(t+a," ").concat(e-a," \n           L ").concat(t+a," ").concat(e+a," \n           L ").concat(t-a," ").concat(e+a," \n           Z");break;case"diamond":a*=1.05,n="M ".concat(t," ").concat(e-a," \n             L ").concat(t+a," ").concat(e," \n             L ").concat(t," ").concat(e+a," \n             L ").concat(t-a," ").concat(e," \n            Z");break;case"line":n="M ".concat(t-(a/=1.1)," ").concat(e," \n           L ").concat(t+a," ").concat(e);break;default:a*=2,n="M ".concat(t,", ").concat(e," \n           m -").concat(a/2,", 0 \n           a ").concat(a/2,",").concat(a/2," 0 1,0 ").concat(a,",0 \n           a ").concat(a/2,",").concat(a/2," 0 1,0 -").concat(a,",0")}return n}},{key:"drawMarkerShape",value:function(t,e,i,a,n){var o=this.drawPath({d:this.getMarkerPath(t,e,i,a,n),stroke:n.pointStrokeColor,strokeDashArray:n.pointStrokeDashArray,strokeWidth:n.pointStrokeWidth,fill:n.pointFillColor,fillOpacity:n.pointFillOpacity,strokeOpacity:n.pointStrokeOpacity});return o.attr({cx:t,cy:e,shape:n.shape,class:n.class?n.class:""}),o}},{key:"drawMarker",value:function(t,e,i){t=t||0;var a=i.pSize||0;return X.isNumber(e)||(a=0,e=0),this.drawMarkerShape(t,e,i?.shape,a,$($({},i),"line"===i.shape||"plus"===i.shape||"cross"===i.shape?{pointStrokeColor:i.pointFillColor,pointStrokeOpacity:i.pointFillOpacity}:{}))}},{key:"pathMouseEnter",value:function(t,e){var i=this.w,a=new $t(this.ctx),n=parseInt(t.node.getAttribute("index"),10),o=parseInt(t.node.getAttribute("j"),10);if("function"==typeof i.config.chart.events.dataPointMouseEnter&&i.config.chart.events.dataPointMouseEnter(e,this.ctx,{seriesIndex:n,dataPointIndex:o,w:i}),this.ctx.events.fireEvent("dataPointMouseEnter",[e,this.ctx,{seriesIndex:n,dataPointIndex:o,w:i}]),("none"===i.config.states.active.filter.type||"true"!==t.node.getAttribute("selected"))&&"none"!==i.config.states.hover.filter.type&&!i.globals.isTouchDevice){var r=i.config.states.hover.filter;a.applyFilter(t,n,r.type,r.value)}}},{key:"pathMouseLeave",value:function(t,e){var i=this.w,a=new $t(this.ctx),n=parseInt(t.node.getAttribute("index"),10),o=parseInt(t.node.getAttribute("j"),10);"function"==typeof i.config.chart.events.dataPointMouseLeave&&i.config.chart.events.dataPointMouseLeave(e,this.ctx,{seriesIndex:n,dataPointIndex:o,w:i}),this.ctx.events.fireEvent("dataPointMouseLeave",[e,this.ctx,{seriesIndex:n,dataPointIndex:o,w:i}]),"none"!==i.config.states.active.filter.type&&"true"===t.node.getAttribute("selected")||"none"!==i.config.states.hover.filter.type&&a.getDefaultFilter(t,n)}},{key:"pathMouseDown",value:function(t,e){var i=this.w,a=new $t(this.ctx),n=parseInt(t.node.getAttribute("index"),10),o=parseInt(t.node.getAttribute("j"),10),r="false";if("true"===t.node.getAttribute("selected")){if(t.node.setAttribute("selected","false"),i.globals.selectedDataPoints[n].indexOf(o)>-1){var h=i.globals.selectedDataPoints[n].indexOf(o);i.globals.selectedDataPoints[n].splice(h,1)}}else{if(!i.config.states.active.allowMultipleDataPointsSelection&&i.globals.selectedDataPoints.length>0){i.globals.selectedDataPoints=[];var d=i.globals.dom.Paper.select(".apexcharts-series path").members,f=i.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,g=function(C){Array.prototype.forEach.call(C,function(k){k.node.setAttribute("selected","false"),a.getDefaultFilter(k,n)})};g(d),g(f)}t.node.setAttribute("selected","true"),r="true",void 0===i.globals.selectedDataPoints[n]&&(i.globals.selectedDataPoints[n]=[]),i.globals.selectedDataPoints[n].push(o)}if("true"===r){var x=i.config.states.active.filter;if("none"!==x)a.applyFilter(t,n,x.type,x.value);else if("none"!==i.config.states.hover.filter&&!i.globals.isTouchDevice){var y=i.config.states.hover.filter;a.applyFilter(t,n,y.type,y.value)}}else"none"!==i.config.states.active.filter.type&&("none"===i.config.states.hover.filter.type||i.globals.isTouchDevice?a.getDefaultFilter(t,n):a.applyFilter(t,n,(y=i.config.states.hover.filter).type,y.value));"function"==typeof i.config.chart.events.dataPointSelection&&i.config.chart.events.dataPointSelection(e,this.ctx,{selectedDataPoints:i.globals.selectedDataPoints,seriesIndex:n,dataPointIndex:o,w:i}),e&&this.ctx.events.fireEvent("dataPointSelection",[e,this.ctx,{selectedDataPoints:i.globals.selectedDataPoints,seriesIndex:n,dataPointIndex:o,w:i}])}},{key:"rotateAroundCenter",value:function(t){var e={};return t&&"function"==typeof t.getBBox&&(e=t.getBBox()),{x:e.x+e.width/2,y:e.y+e.height/2}}},{key:"getTextRects",value:function(t,e,i,a){var n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=this.w,r=this.drawText({x:-200,y:-200,text:t,textAnchor:"start",fontSize:e,fontFamily:i,foreColor:"#fff",opacity:0});a&&r.attr("transform",a),o.globals.dom.Paper.add(r);var h=r.bbox();return n||(h=r.node.getBoundingClientRect()),r.remove(),{width:h.width,height:h.height}}},{key:"placeTextWithEllipsis",value:function(t,e,i){if("function"==typeof t.getComputedTextLength&&(t.textContent=e,e.length>0&&t.getComputedTextLength()>=i/1.1)){for(var a=e.length-3;a>0;a-=3)if(t.getSubStringLength(0,a)<=i/1.1)return void(t.textContent=e.substring(0,a)+"...");t.textContent="."}}}],[{key:"setAttrs",value:function(t,e){for(var i in e)e.hasOwnProperty(i)&&t.setAttribute(i,e[i])}}]),E}(),Ht=function(){function E(t){ot(this,E),this.ctx=t,this.w=t.w}return v(E,[{key:"getStackedSeriesTotals",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=this.w,i=[];if(0===e.globals.series.length)return i;for(var a=0;a<e.globals.series[e.globals.maxValsInArrayIndex].length;a++){for(var n=0,o=0;o<e.globals.series.length;o++)void 0!==e.globals.series[o][a]&&-1===t.indexOf(o)&&(n+=e.globals.series[o][a]);i.push(n)}return i}},{key:"getSeriesTotalByIndex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===t?this.w.config.series.reduce(function(e,i){return e+i},0):this.w.globals.series[t].reduce(function(e,i){return e+i},0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var t=this,e=this.w,i=[];return e.globals.seriesGroups.forEach(function(a){var n=[];e.config.series.forEach(function(r,h){a.indexOf(e.globals.seriesNames[h])>-1&&n.push(h)});var o=e.globals.series.map(function(r,h){return-1===n.indexOf(h)?h:-1}).filter(function(r){return-1!==r});i.push(t.getStackedSeriesTotals(o))}),i}},{key:"setSeriesYAxisMappings",value:function(){var t=this.w.globals,e=this.w.config,i=[],a=[],n=[],o=t.series.length>e.yaxis.length||e.yaxis.some(function(g){return Array.isArray(g.seriesName)});e.series.forEach(function(g,x){n.push(x),a.push(null)}),e.yaxis.forEach(function(g,x){i[x]=[]});var r=[];e.yaxis.forEach(function(g,x){var y=!1;if(g.seriesName){var C=[];Array.isArray(g.seriesName)?C=g.seriesName:C.push(g.seriesName),C.forEach(function(k){e.series.forEach(function(M,D){if(M.name===k){var I=D;x===D||o?!o||n.indexOf(D)>-1?i[x].push([x,D]):console.warn("Series '"+M.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(i[D].push([D,x]),I=x),y=!0,-1!==(I=n.indexOf(I))&&n.splice(I,1)}})})}y||r.push(x)}),i=i.map(function(g,x){var y=[];return g.forEach(function(C){a[C[1]]=C[0],y.push(C[1])}),y});for(var h=e.yaxis.length-1,d=0;d<r.length&&(i[h=r[d]]=[],n);d++){var f=n[0];n.shift(),i[h].push(f),a[f]=h}n.forEach(function(g){i[h].push(g),a[g]=h}),t.seriesYAxisMap=i.map(function(g){return g}),t.seriesYAxisReverseMap=a.map(function(g){return g}),t.seriesYAxisMap.forEach(function(g,x){g.forEach(function(y){e.series[y]&&void 0===e.series[y].group&&(e.series[y].group="apexcharts-axis-".concat(x.toString()))})})}},{key:"isSeriesNull",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 0===(null===t?this.w.config.series.filter(function(e){return null!==e}):this.w.config.series[t].data.filter(function(e){return null!==e})).length}},{key:"seriesHaveSameValues",value:function(t){return this.w.globals.series[t].every(function(e,i,a){return e===a[0]})}},{key:"getCategoryLabels",value:function(t){var e=this.w,i=t.slice();return e.config.xaxis.convertedCatToNumeric&&(i=t.map(function(a,n){return e.config.xaxis.labels.formatter(a-e.globals.minX+1)})),i}},{key:"getLargestSeries",value:function(){var t=this.w;t.globals.maxValsInArrayIndex=t.globals.series.map(function(e){return e.length}).indexOf(Math.max.apply(Math,t.globals.series.map(function(e){return e.length})))}},{key:"getLargestMarkerSize",value:function(){var t=this.w,e=0;return t.globals.markers.size.forEach(function(i){e=Math.max(e,i)}),t.config.markers.discrete&&t.config.markers.discrete.length&&t.config.markers.discrete.forEach(function(i){e=Math.max(e,i.size)}),e>0&&(t.config.markers.hover.size>0?e=t.config.markers.hover.size:e+=t.config.markers.hover.sizeOffset),t.globals.markers.largestSize=e,e}},{key:"getSeriesTotals",value:function(){var t=this.w;t.globals.seriesTotals=t.globals.series.map(function(e,i){var a=0;if(Array.isArray(e))for(var n=0;n<e.length;n++)a+=e[n];else a+=e;return a})}},{key:"getSeriesTotalsXRange",value:function(t,e){var i=this.w;return i.globals.series.map(function(a,n){for(var o=0,r=0;r<a.length;r++)i.globals.seriesX[n][r]>t&&i.globals.seriesX[n][r]<e&&(o+=a[r]);return o})}},{key:"getPercentSeries",value:function(){var t=this.w;t.globals.seriesPercent=t.globals.series.map(function(e,i){var a=[];if(Array.isArray(e))for(var n=0;n<e.length;n++){var o=t.globals.stackedSeriesTotals[n],r=0;o&&(r=100*e[n]/o),a.push(r)}else{var h=100*e/t.globals.seriesTotals.reduce(function(d,f){return d+f},0);a.push(h)}return a})}},{key:"getCalculatedRatios",value:function(){var t,e,i,a=this,n=this.w,o=n.globals,r=[],h=0,d=[],f=.1,g=0;if(o.yRange=[],o.isMultipleYAxis)for(var x=0;x<o.minYArr.length;x++)o.yRange.push(Math.abs(o.minYArr[x]-o.maxYArr[x])),d.push(0);else o.yRange.push(Math.abs(o.minY-o.maxY));o.xRange=Math.abs(o.maxX-o.minX),o.zRange=Math.abs(o.maxZ-o.minZ);for(var y=0;y<o.yRange.length;y++)r.push(o.yRange[y]/o.gridHeight);if(e=o.xRange/o.gridWidth,t=o.yRange/o.gridWidth,i=o.xRange/o.gridHeight,(h=o.zRange/o.gridHeight*16)||(h=1),o.minY!==Number.MIN_VALUE&&0!==Math.abs(o.minY)&&(o.hasNegs=!0),n.globals.seriesYAxisReverseMap.length>0){var C=function(M,D){var I=n.config.yaxis[n.globals.seriesYAxisReverseMap[D]],c=M<0?-1:1;return M=Math.abs(M),I.logarithmic&&(M=a.getBaseLog(I.logBase,M)),-c*M/r[D]};if(o.isMultipleYAxis){d=[];for(var k=0;k<r.length;k++)d.push(C(o.minYArr[k],k))}else(d=[]).push(C(o.minY,0)),o.minY!==Number.MIN_VALUE&&0!==Math.abs(o.minY)&&(f=-o.minY/t,g=o.minX/e)}else(d=[]).push(0),f=0,g=0;return{yRatio:r,invertedYRatio:t,zRatio:h,xRatio:e,invertedXRatio:i,baseLineInvertedY:f,baseLineY:d,baseLineX:g}}},{key:"getLogSeries",value:function(t){var e=this,i=this.w;return i.globals.seriesLog=t.map(function(a,n){var o=i.globals.seriesYAxisReverseMap[n];return i.config.yaxis[o]&&i.config.yaxis[o].logarithmic?a.map(function(r){return null===r?null:e.getLogVal(i.config.yaxis[o].logBase,r,n)}):a}),i.globals.invalidLogScale?t:i.globals.seriesLog}},{key:"getBaseLog",value:function(t,e){return Math.log(e)/Math.log(t)}},{key:"getLogVal",value:function(t,e,i){if(e<=0)return 0;var a=this.w,n=0===a.globals.minYArr[i]?-1:this.getBaseLog(t,a.globals.minYArr[i]),o=(0===a.globals.maxYArr[i]?0:this.getBaseLog(t,a.globals.maxYArr[i]))-n;return e<1?e/o:(this.getBaseLog(t,e)-n)/o}},{key:"getLogYRatios",value:function(t){var e=this,i=this.w,a=this.w.globals;return a.yLogRatio=t.slice(),a.logYRange=a.yRange.map(function(n,o){var r=i.globals.seriesYAxisReverseMap[o];if(i.config.yaxis[r]&&e.w.config.yaxis[r].logarithmic){var h,d=-Number.MAX_VALUE,f=Number.MIN_VALUE;return a.seriesLog.forEach(function(g,x){g.forEach(function(y){i.config.yaxis[x]&&i.config.yaxis[x].logarithmic&&(d=Math.max(y,d),f=Math.min(y,f))})}),h=Math.pow(a.yRange[o],Math.abs(f-d)/a.yRange[o]),a.yLogRatio[o]=h/a.gridHeight,h}}),a.invalidLogScale?t.slice():a.yLogRatio}},{key:"drawSeriesByGroup",value:function(t,e,i,a){var n=this.w,o=[];return t.series.length>0&&e.forEach(function(r){var h=[],d=[];t.i.forEach(function(f,g){n.config.series[f].group===r&&(h.push(t.series[g]),d.push(f))}),h.length>0&&o.push(a.draw(h,i,d))}),o}}],[{key:"checkComboSeries",value:function(t,e){var i=!1,a=0,n=0;return void 0===e&&(e="line"),t.length&&void 0!==t[0].type&&t.forEach(function(o){"bar"!==o.type&&"column"!==o.type&&"candlestick"!==o.type&&"boxPlot"!==o.type||a++,void 0!==o.type&&o.type!==e&&n++}),n>0&&(i=!0),{comboBarCount:a,comboCharts:i}}},{key:"extendArrayProps",value:function(t,e,i){var a,n,o,r,h,d;return null!==(a=e)&&void 0!==a&&a.yaxis&&(e=t.extendYAxis(e,i)),null!==(n=e)&&void 0!==n&&n.annotations&&(e.annotations.yaxis&&(e=t.extendYAxisAnnotations(e)),null!==(o=e)&&void 0!==o&&null!==(r=o.annotations)&&void 0!==r&&r.xaxis&&(e=t.extendXAxisAnnotations(e)),null!==(h=e)&&void 0!==h&&null!==(d=h.annotations)&&void 0!==d&&d.points&&(e=t.extendPointAnnotations(e))),e}}]),E}(),pe=function(){function E(t){ot(this,E),this.w=t.w,this.annoCtx=t}return v(E,[{key:"setOrientations",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("vertical"===t.label.orientation){var n=this.w.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(null!==e?e:0,"']"));if(null!==n){var o=n.getBoundingClientRect();n.setAttribute("x",parseFloat(n.getAttribute("x"))-o.height+4);var r="top"===t.label.position?o.width:-o.width;n.setAttribute("y",parseFloat(n.getAttribute("y"))+r);var h=this.annoCtx.graphics.rotateAroundCenter(n),f=h.y;n.setAttribute("transform","rotate(-90 ".concat(h.x," ").concat(f,")"))}}}},{key:"addBackgroundToAnno",value:function(t,e){var i=this.w;if(!t||!e.label.text||!String(e.label.text).trim())return null;var a=i.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),n=t.getBoundingClientRect(),o=e.label.style.padding,r=o.left,h=o.right,d=o.top,f=o.bottom;if("vertical"===e.label.orientation){var g=[r,h,d,f];d=g[0],f=g[1],r=g[2],h=g[3]}var C=this.annoCtx.graphics.drawRect(n.left-a.left-r-i.globals.barPadForNumericAxis,n.top-a.top-d,n.width+r+h,n.height+d+f,e.label.borderRadius,e.label.style.background,1,e.label.borderWidth,e.label.borderColor,0);return e.id&&C.node.classList.add(e.id),C}},{key:"annotationsBackground",value:function(){var t=this,e=this.w,i=function(a,n,o){var r=e.globals.dom.baseEl.querySelector(".apexcharts-".concat(o,"-annotations .apexcharts-").concat(o,"-annotation-label[rel='").concat(n,"']"));if(r){var h=r.parentNode,d=t.addBackgroundToAnno(r,a);d&&(h.insertBefore(d.node,r),a.label.mouseEnter&&d.node.addEventListener("mouseenter",a.label.mouseEnter.bind(t,a)),a.label.mouseLeave&&d.node.addEventListener("mouseleave",a.label.mouseLeave.bind(t,a)),a.label.click&&d.node.addEventListener("click",a.label.click.bind(t,a)))}};e.config.annotations.xaxis.forEach(function(a,n){return i(a,n,"xaxis")}),e.config.annotations.yaxis.forEach(function(a,n){return i(a,n,"yaxis")}),e.config.annotations.points.forEach(function(a,n){return i(a,n,"point")})}},{key:"getY1Y2",value:function(t,e){var i,a=this.w,n="y1"===t?e.y:e.y2,o=!1;if(this.annoCtx.invertAxis){var r=a.config.xaxis.convertedCatToNumeric?a.globals.categoryLabels:a.globals.labels,h=r.indexOf(n),d=a.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child(".concat(h+1,")"));i=d?parseFloat(d.getAttribute("y")):(a.globals.gridHeight/r.length-1)*(h+1)-a.globals.barHeight,void 0!==e.seriesIndex&&a.globals.barHeight&&(i-=a.globals.barHeight/2*(a.globals.series.length-1)-a.globals.barHeight*e.seriesIndex)}else{var f,g=a.globals.seriesYAxisMap[e.yAxisIndex][0],x=a.config.yaxis[e.yAxisIndex].logarithmic?new Ht(this.annoCtx.ctx).getLogVal(a.config.yaxis[e.yAxisIndex].logBase,n,g)/a.globals.yLogRatio[g]:(n-a.globals.minYArr[g])/(a.globals.yRange[g]/a.globals.gridHeight);i=a.globals.gridHeight-Math.min(Math.max(x,0),a.globals.gridHeight),o=x>a.globals.gridHeight||x<0,!e.marker||null!=e.y||(i=0),null!==(f=a.config.yaxis[e.yAxisIndex])&&void 0!==f&&f.reversed&&(i=x)}return"string"==typeof n&&n.includes("px")&&(i=parseFloat(n)),{yP:i,clipped:o}}},{key:"getX1X2",value:function(t,e){var i=this.w,a="x1"===t?e.x:e.x2,r=this.annoCtx.invertAxis?i.globals.yRange[0]:i.globals.xRange,h=!1,d=this.annoCtx.inversedReversedAxis?((this.annoCtx.invertAxis?i.globals.maxY:i.globals.maxX)-a)/(r/i.globals.gridWidth):(a-(this.annoCtx.invertAxis?i.globals.minY:i.globals.minX))/(r/i.globals.gridWidth);return"category"!==i.config.xaxis.type&&!i.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||i.globals.dataFormatXNumeric||i.config.chart.sparkline.enabled||(d=this.getStringX(a)),"string"==typeof a&&a.includes("px")&&(d=parseFloat(a)),null==a&&e.marker&&(d=i.globals.gridWidth),void 0!==e.seriesIndex&&i.globals.barWidth&&!this.annoCtx.invertAxis&&(d-=i.globals.barWidth/2*(i.globals.series.length-1)-i.globals.barWidth*e.seriesIndex),d>i.globals.gridWidth?(d=i.globals.gridWidth,h=!0):d<0&&(d=0,h=!0),{x:d,clipped:h}}},{key:"getStringX",value:function(t){var e=this.w,i=t;e.config.xaxis.convertedCatToNumeric&&e.globals.categoryLabels.length&&(t=e.globals.categoryLabels.indexOf(t)+1);var a=e.globals.labels.map(function(o){return Array.isArray(o)?o.join(" "):o}).indexOf(t),n=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child(".concat(a+1,")"));return n&&(i=parseFloat(n.getAttribute("x"))),i}}]),E}(),jt=function(){function E(t){ot(this,E),this.w=t.w,this.annoCtx=t,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new pe(this.annoCtx)}return v(E,[{key:"addXaxisAnnotation",value:function(t,e,i){var a,n=this.w,o=this.helpers.getX1X2("x1",t),r=o.x,h=o.clipped,d=!0,f=t.label.text,g=t.strokeDashArray;if(X.isNumber(r)){if(null==t.x2){if(!h){var x=this.annoCtx.graphics.drawLine(r+t.offsetX,0+t.offsetY,r+t.offsetX,n.globals.gridHeight+t.offsetY,t.borderColor,g,t.borderWidth);e.appendChild(x.node),t.id&&x.node.classList.add(t.id)}}else{var y=this.helpers.getX1X2("x2",t);if(a=y.x,d=y.clipped,!h||!d){if(a<r){var C=r;r=a,a=C}var k=this.annoCtx.graphics.drawRect(r+t.offsetX,0+t.offsetY,a-r,n.globals.gridHeight+t.offsetY,0,t.fillColor,t.opacity,1,t.borderColor,g);k.node.classList.add("apexcharts-annotation-rect"),k.attr("clip-path","url(#gridRectMask".concat(n.globals.cuid,")")),e.appendChild(k.node),t.id&&k.node.classList.add(t.id)}}if(!h||!d){var M=this.annoCtx.graphics.getTextRects(f,parseFloat(t.label.style.fontSize)),I=this.annoCtx.graphics.drawText({x:r+t.label.offsetX,y:("top"===t.label.position?4:"center"===t.label.position?n.globals.gridHeight/2+("vertical"===t.label.orientation?M.width/2:0):n.globals.gridHeight)+t.label.offsetY-("vertical"===t.label.orientation?"top"===t.label.position?M.width/2-12:-M.width/2:0),text:f,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id?t.id:"")});I.attr({rel:i}),e.appendChild(I.node),this.annoCtx.helpers.setOrientations(t,i)}}}},{key:"drawXAxisAnnotations",value:function(){var t=this,e=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return e.config.annotations.xaxis.map(function(a,n){t.addXaxisAnnotation(a,i.node,n)}),i}}]),E}(),Pt=function(){function E(t){ot(this,E),this.ctx=t,this.w=t.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return v(E,[{key:"isValidDate",value:function(t){return"number"!=typeof t&&!isNaN(this.parseDate(t))}},{key:"getTimeStamp",value:function(t){return Date.parse(t)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(t).toISOString().substr(0,25)).getTime():new Date(t).getTime():t}},{key:"getDate",value:function(t){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(t).toUTCString()):new Date(t)}},{key:"parseDate",value:function(t){var e=Date.parse(t);if(!isNaN(e))return this.getTimeStamp(t);var i=Date.parse(t.replace(/-/g,"/").replace(/[a-z]+/gi," "));return this.getTimeStamp(i)}},{key:"parseDateWithTimezone",value:function(t){return Date.parse(t.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(t,e){var i=this.w.globals.locale,a=this.w.config.xaxis.labels.datetimeUTC,n=["\0"].concat(Vt(i.months)),o=["\x01"].concat(Vt(i.shortMonths)),r=["\x02"].concat(Vt(i.days)),h=["\x03"].concat(Vt(i.shortDays));function d(A,T){var z=A+"";for(T=T||2;z.length<T;)z="0"+z;return z}var f=a?t.getUTCFullYear():t.getFullYear();e=(e=(e=e.replace(/(^|[^\\])yyyy+/g,"$1"+f)).replace(/(^|[^\\])yy/g,"$1"+f.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+f);var g=(a?t.getUTCMonth():t.getMonth())+1;e=(e=(e=(e=e.replace(/(^|[^\\])MMMM+/g,"$1"+n[0])).replace(/(^|[^\\])MMM/g,"$1"+o[0])).replace(/(^|[^\\])MM/g,"$1"+d(g))).replace(/(^|[^\\])M/g,"$1"+g);var x=a?t.getUTCDate():t.getDate();e=(e=(e=(e=e.replace(/(^|[^\\])dddd+/g,"$1"+r[0])).replace(/(^|[^\\])ddd/g,"$1"+h[0])).replace(/(^|[^\\])dd/g,"$1"+d(x))).replace(/(^|[^\\])d/g,"$1"+x);var y=a?t.getUTCHours():t.getHours(),C=y>12?y-12:0===y?12:y;e=(e=(e=(e=e.replace(/(^|[^\\])HH+/g,"$1"+d(y))).replace(/(^|[^\\])H/g,"$1"+y)).replace(/(^|[^\\])hh+/g,"$1"+d(C))).replace(/(^|[^\\])h/g,"$1"+C);var k=a?t.getUTCMinutes():t.getMinutes();e=(e=e.replace(/(^|[^\\])mm+/g,"$1"+d(k))).replace(/(^|[^\\])m/g,"$1"+k);var M=a?t.getUTCSeconds():t.getSeconds();e=(e=e.replace(/(^|[^\\])ss+/g,"$1"+d(M))).replace(/(^|[^\\])s/g,"$1"+M);var D=a?t.getUTCMilliseconds():t.getMilliseconds();e=e.replace(/(^|[^\\])fff+/g,"$1"+d(D,3)),D=Math.round(D/10),e=e.replace(/(^|[^\\])ff/g,"$1"+d(D)),D=Math.round(D/10);var I=y<12?"AM":"PM";e=(e=(e=e.replace(/(^|[^\\])f/g,"$1"+D)).replace(/(^|[^\\])TT+/g,"$1"+I)).replace(/(^|[^\\])T/g,"$1"+I.charAt(0));var c=I.toLowerCase();e=(e=e.replace(/(^|[^\\])tt+/g,"$1"+c)).replace(/(^|[^\\])t/g,"$1"+c.charAt(0));var u=-t.getTimezoneOffset(),m=a||!u?"Z":u>0?"+":"-";if(!a){var w=(u=Math.abs(u))%60;m+=d(Math.floor(u/60))+":"+d(w)}e=e.replace(/(^|[^\\])K/g,"$1"+m);var b=(a?t.getUTCDay():t.getDay())+1;return(e=(e=(e=(e=e.replace(new RegExp(r[0],"g"),r[b])).replace(new RegExp(h[0],"g"),h[b])).replace(new RegExp(n[0],"g"),n[g])).replace(new RegExp(o[0],"g"),o[g])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(t,e,i){var a=this.w;void 0!==a.config.xaxis.min&&(t=a.config.xaxis.min),void 0!==a.config.xaxis.max&&(e=a.config.xaxis.max);var n=this.getDate(t),o=this.getDate(e),r=this.formatDate(n,"yyyy MM dd HH mm ss fff").split(" "),h=this.formatDate(o,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(r[6],10),maxMillisecond:parseInt(h[6],10),minSecond:parseInt(r[5],10),maxSecond:parseInt(h[5],10),minMinute:parseInt(r[4],10),maxMinute:parseInt(h[4],10),minHour:parseInt(r[3],10),maxHour:parseInt(h[3],10),minDate:parseInt(r[2],10),maxDate:parseInt(h[2],10),minMonth:parseInt(r[1],10)-1,maxMonth:parseInt(h[1],10)-1,minYear:parseInt(r[0],10),maxYear:parseInt(h[0],10)}}},{key:"isLeapYear",value:function(t){return t%4==0&&t%100!=0||t%400==0}},{key:"calculcateLastDaysOfMonth",value:function(t,e,i){return this.determineDaysOfMonths(t,e)-i}},{key:"determineDaysOfYear",value:function(t){var e=365;return this.isLeapYear(t)&&(e=366),e}},{key:"determineRemainingDaysOfYear",value:function(t,e,i){var a=this.daysCntOfYear[e]+i;return e>1&&this.isLeapYear()&&a++,a}},{key:"determineDaysOfMonths",value:function(t,e){var i=30;switch(t=X.monthMod(t),!0){case this.months30.indexOf(t)>-1:2===t&&(i=this.isLeapYear(e)?29:28);break;case this.months31.indexOf(t)>-1:default:i=31}return i}}]),E}(),ce=function(){function E(t){ot(this,E),this.ctx=t,this.w=t.w,this.tooltipKeyFormat="dd MMM"}return v(E,[{key:"xLabelFormat",value:function(t,e,i,a){var n=this.w;if("datetime"===n.config.xaxis.type&&void 0===n.config.xaxis.labels.formatter&&void 0===n.config.tooltip.x.formatter){var o=new Pt(this.ctx);return o.formatDate(o.getDate(e),n.config.tooltip.x.format)}return t(e,i,a)}},{key:"defaultGeneralFormatter",value:function(t){return Array.isArray(t)?t.map(function(e){return e}):t}},{key:"defaultYFormatter",value:function(t,e,i){var a=this.w;if(X.isNumber(t))if(0!==a.globals.yValueDecimal)t=t.toFixed(void 0!==e.decimalsInFloat?e.decimalsInFloat:a.globals.yValueDecimal);else{var n=t.toFixed(0);t=t==n?n:t.toFixed(1)}return t}},{key:"setLabelFormatters",value:function(){var t=this,e=this.w;return e.globals.xaxisTooltipFormatter=function(i){return t.defaultGeneralFormatter(i)},e.globals.ttKeyFormatter=function(i){return t.defaultGeneralFormatter(i)},e.globals.ttZFormatter=function(i){return i},e.globals.legendFormatter=function(i){return t.defaultGeneralFormatter(i)},e.globals.xLabelFormatter=void 0!==e.config.xaxis.labels.formatter?e.config.xaxis.labels.formatter:function(i){if(X.isNumber(i)){if(!e.config.xaxis.convertedCatToNumeric&&"numeric"===e.config.xaxis.type){if(X.isNumber(e.config.xaxis.decimalsInFloat))return i.toFixed(e.config.xaxis.decimalsInFloat);var a=e.globals.maxX-e.globals.minX;return i.toFixed(a>0&&a<100?1:0)}return i.toFixed(e.globals.isBarHorizontal&&e.globals.maxY-e.globals.minYArr<4?1:0)}return i},e.globals.ttKeyFormatter="function"==typeof e.config.tooltip.x.formatter?e.config.tooltip.x.formatter:e.globals.xLabelFormatter,"function"==typeof e.config.xaxis.tooltip.formatter&&(e.globals.xaxisTooltipFormatter=e.config.xaxis.tooltip.formatter),(Array.isArray(e.config.tooltip.y)||void 0!==e.config.tooltip.y.formatter)&&(e.globals.ttVal=e.config.tooltip.y),void 0!==e.config.tooltip.z.formatter&&(e.globals.ttZFormatter=e.config.tooltip.z.formatter),void 0!==e.config.legend.formatter&&(e.globals.legendFormatter=e.config.legend.formatter),e.config.yaxis.forEach(function(i,a){e.globals.yLabelFormatters[a]=void 0!==i.labels.formatter?i.labels.formatter:function(n){return e.globals.xyCharts?Array.isArray(n)?n.map(function(o){return t.defaultYFormatter(o,i,a)}):t.defaultYFormatter(n,i,a):n}}),e.globals}},{key:"heatmapLabelFormatters",value:function(){var t=this.w;if("heatmap"===t.config.chart.type){t.globals.yAxisScale[0].result=t.globals.seriesNames.slice();var e=t.globals.seriesNames.reduce(function(i,a){return i.length>a.length?i:a},0);t.globals.yAxisScale[0].niceMax=e,t.globals.yAxisScale[0].niceMin=e}}}]),E}(),Zt=function(){function E(t){ot(this,E),this.ctx=t,this.w=t.w}return v(E,[{key:"getLabel",value:function(t,e,i,a){var M,D,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"12px",r=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],h=this.w,d=void 0===t[a]?"":t[a],f=d,g=h.globals.xLabelFormatter,x=h.config.xaxis.labels.formatter,y=!1,C=new ce(this.ctx);r&&(f=C.xLabelFormat(g,d,d,{i:a,dateFormatter:new Pt(this.ctx).formatDate,w:h}),void 0!==x&&(f=x(d,t[a],{i:a,dateFormatter:new Pt(this.ctx).formatDate,w:h}))),e.length>0?(M=e[a].unit,D=null,e.forEach(function(m){"month"===m.unit?D="year":"day"===m.unit?D="month":"hour"===m.unit?D="day":"minute"===m.unit&&(D="hour")}),y=D===M,i=e[a].position,f=e[a].value):"datetime"===h.config.xaxis.type&&void 0===x&&(f=""),void 0===f&&(f=""),f=Array.isArray(f)?f:f.toString();var c,I=new U(this.ctx);c=h.globals.rotateXLabels&&r?I.getTextRects(f,parseInt(o,10),null,"rotate(".concat(h.config.xaxis.labels.rotate," 0 0)"),!1):I.getTextRects(f,parseInt(o,10));var u=!h.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(f)&&("NaN"===String(f)||n.indexOf(f)>=0&&u)&&(f=""),{x:i,text:f,textRect:c,isBold:y}}},{key:"checkLabelBasedOnTickamount",value:function(t,e,i){var a=this.w,n=a.config.xaxis.tickAmount;return"dataPoints"===n&&(n=Math.round(a.globals.gridWidth/120)),n>i||t%Math.round(i/(n+1))==0||(e.text=""),e}},{key:"checkForOverflowingLabels",value:function(t,e,i,a,n){var o=this.w;if(0===t&&o.globals.skipFirstTimelinelabel&&(e.text=""),t===i-1&&o.globals.skipLastTimelinelabel&&(e.text=""),o.config.xaxis.labels.hideOverlappingLabels&&a.length>0){var r=n[n.length-1];e.x<r.textRect.width/(o.globals.rotateXLabels?Math.abs(o.config.xaxis.labels.rotate)/12:1.01)+r.x&&(e.text="")}return e}},{key:"checkForReversedLabels",value:function(t,e){var i=this.w;return i.config.yaxis[t]&&i.config.yaxis[t].reversed&&e.reverse(),e}},{key:"yAxisAllSeriesCollapsed",value:function(t){var e=this.w.globals;return!e.seriesYAxisMap[t].some(function(i){return-1===e.collapsedSeriesIndices.indexOf(i)})}},{key:"translateYAxisIndex",value:function(t){var e=this.w,i=e.globals,a=e.config.yaxis;return i.series.length>a.length||a.some(function(n){return Array.isArray(n.seriesName)})?t:i.seriesYAxisReverseMap[t]}},{key:"isYAxisHidden",value:function(t){var e=this.w,i=e.config.yaxis[t];if(!i.show||this.yAxisAllSeriesCollapsed(t))return!0;if(!i.showForNullSeries){var a=e.globals.seriesYAxisMap[t],n=new Ht(this.ctx);return a.every(function(o){return n.isSeriesNull(o)})}return!1}},{key:"getYAxisForeColor",value:function(t,e){var i=this.w;return Array.isArray(t)&&i.globals.yAxisScale[e]&&this.ctx.theme.pushExtraColors(t,i.globals.yAxisScale[e].result.length,!1),t}},{key:"drawYAxisTicks",value:function(t,e,i,a,n,o,r){var h=this.w,d=new U(this.ctx),f=h.globals.translateY+h.config.yaxis[n].labels.offsetY;if(h.globals.isBarHorizontal?f=0:"heatmap"===h.config.chart.type&&(f+=o/2),a.show&&e>0){!0===h.config.yaxis[n].opposite&&(t+=a.width);for(var g=e;g>=0;g--){var x=d.drawLine(t+i.offsetX-a.width+a.offsetX,f+a.offsetY,t+i.offsetX+a.offsetX,f+a.offsetY,a.color);r.add(x),f+=o}}}}]),E}(),Qt=function(){function E(t){ot(this,E),this.w=t.w,this.annoCtx=t,this.helpers=new pe(this.annoCtx),this.axesUtils=new Zt(this.annoCtx)}return v(E,[{key:"addYaxisAnnotation",value:function(t,e,i){var a,n=this.w,o=t.strokeDashArray,r=this.helpers.getY1Y2("y1",t),h=r.yP,d=r.clipped,g=!1,x=t.label.text;if(null==t.y2){if(!d){g=!0;var y=this.annoCtx.graphics.drawLine(0+t.offsetX,h+t.offsetY,this._getYAxisAnnotationWidth(t),h+t.offsetY,t.borderColor,o,t.borderWidth);e.appendChild(y.node),t.id&&y.node.classList.add(t.id)}}else{if((a=(r=this.helpers.getY1Y2("y2",t)).yP)>h){var C=h;h=a,a=C}if(!d||!r.clipped){g=!0;var k=this.annoCtx.graphics.drawRect(0+t.offsetX,a+t.offsetY,this._getYAxisAnnotationWidth(t),h-a,0,t.fillColor,t.opacity,1,t.borderColor,o);k.node.classList.add("apexcharts-annotation-rect"),k.attr("clip-path","url(#gridRectMask".concat(n.globals.cuid,")")),e.appendChild(k.node),t.id&&k.node.classList.add(t.id)}}if(g){var D=this.annoCtx.graphics.drawText({x:("right"===t.label.position?n.globals.gridWidth:"center"===t.label.position?n.globals.gridWidth/2:0)+t.label.offsetX,y:(a??h)+t.label.offsetY-3,text:x,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id?t.id:"")});D.attr({rel:i}),e.appendChild(D.node)}}},{key:"_getYAxisAnnotationWidth",value:function(t){var e=this.w;return(t.width.indexOf("%")>-1?e.globals.gridWidth*parseInt(t.width,10)/100:parseInt(t.width,10))+t.offsetX}},{key:"drawYAxisAnnotations",value:function(){var t=this,e=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return e.config.annotations.yaxis.forEach(function(a,n){a.yAxisIndex=t.axesUtils.translateYAxisIndex(a.yAxisIndex),t.axesUtils.isYAxisHidden(a.yAxisIndex)&&t.axesUtils.yAxisAllSeriesCollapsed(a.yAxisIndex)||t.addYaxisAnnotation(a,i.node,n)}),i}}]),E}(),_e=function(){function E(t){ot(this,E),this.w=t.w,this.annoCtx=t,this.helpers=new pe(this.annoCtx)}return v(E,[{key:"addPointAnnotation",value:function(t,e,i){if(!(this.w.globals.collapsedSeriesIndices.indexOf(t.seriesIndex)>-1)){var a=this.helpers.getX1X2("x1",t),n=a.x,o=a.clipped,r=(a=this.helpers.getY1Y2("y1",t)).yP,h=a.clipped;if(X.isNumber(n)&&!h&&!o){var d={pSize:t.marker.size,pointStrokeWidth:t.marker.strokeWidth,pointFillColor:t.marker.fillColor,pointStrokeColor:t.marker.strokeColor,shape:t.marker.shape,pRadius:t.marker.radius,class:"apexcharts-point-annotation-marker ".concat(t.marker.cssClass," ").concat(t.id?t.id:"")},f=this.annoCtx.graphics.drawMarker(n+t.marker.offsetX,r+t.marker.offsetY,d);e.appendChild(f.node);var g=t.label.text?t.label.text:"",x=this.annoCtx.graphics.drawText({x:n+t.label.offsetX,y:r+t.label.offsetY-t.marker.size-parseFloat(t.label.style.fontSize)/1.6,text:g,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id?t.id:"")});if(x.attr({rel:i}),e.appendChild(x.node),t.customSVG.SVG){var y=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+t.customSVG.cssClass});y.attr({transform:"translate(".concat(n+t.customSVG.offsetX,", ").concat(r+t.customSVG.offsetY,")")}),y.node.innerHTML=t.customSVG.SVG,e.appendChild(y.node)}if(t.image.path){var C=t.image.width?t.image.width:20,k=t.image.height?t.image.height:20;f=this.annoCtx.addImage({x:n+t.image.offsetX-C/2,y:r+t.image.offsetY-k/2,width:C,height:k,path:t.image.path,appendTo:".apexcharts-point-annotations"})}t.mouseEnter&&f.node.addEventListener("mouseenter",t.mouseEnter.bind(this,t)),t.mouseLeave&&f.node.addEventListener("mouseleave",t.mouseLeave.bind(this,t)),t.click&&f.node.addEventListener("click",t.click.bind(this,t))}}}},{key:"drawPointAnnotations",value:function(){var t=this,e=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return e.config.annotations.points.map(function(a,n){t.addPointAnnotation(a,i.node,n)}),i}}]),E}(),ft={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},ve=function(){function E(){ot(this,E),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,showDuplicates:!1,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return v(E,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"",locales:[ft],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",categoryFormatter:void 0,valueFormatter:void 0},png:{filename:void 0},svg:{filename:void 0},scale:void 0,width:void 0},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{line:{isSlopeChart:!1},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(t){return t}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(t){return t+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(t){return t.globals.seriesTotals.reduce(function(e,i){return e+i},0)/t.globals.series.length+"%"}}},barLabels:{enabled:!1,offsetX:0,offsetY:0,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(t){return t},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(t){return t}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(t){return t}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(t){return t.globals.seriesTotals.reduce(function(e,i){return e+i},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(t){return null!==t?t:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{size:7,fillColors:void 0,strokeWidth:1,shape:void 0,offsetX:0,offsetY:0,customHTML:void 0,onClick:void 0},itemMargin:{horizontal:5,vertical:4},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",offsetX:0,offsetY:0,showNullDataPoints:!0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(t){return t?t+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),E}(),xt=function(){function E(t){ot(this,E),this.ctx=t,this.w=t.w,this.graphics=new U(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new pe(this),this.xAxisAnnotations=new jt(this),this.yAxisAnnotations=new Qt(this),this.pointsAnnotations=new _e(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return v(E,[{key:"drawAxesAnnotations",value:function(){var t=this.w;if(t.globals.axisCharts&&t.globals.dataPoints){for(var e=this.yAxisAnnotations.drawYAxisAnnotations(),i=this.xAxisAnnotations.drawXAxisAnnotations(),a=this.pointsAnnotations.drawPointAnnotations(),n=t.config.chart.animations.enabled,o=[e,i,a],r=[i.node,e.node,a.node],h=0;h<3;h++)t.globals.dom.elGraphical.add(o[h]),!n||t.globals.resized||t.globals.dataChanged||"scatter"!==t.config.chart.type&&"bubble"!==t.config.chart.type&&t.globals.dataPoints>1&&r[h].classList.add("apexcharts-element-hidden"),t.globals.delayedElements.push({el:r[h],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var t=this;this.w.config.annotations.images.map(function(e,i){t.addImage(e,i)})}},{key:"drawTextAnnos",value:function(){var t=this;this.w.config.annotations.texts.map(function(e,i){t.addText(e,i)})}},{key:"addXaxisAnnotation",value:function(t,e,i){this.xAxisAnnotations.addXaxisAnnotation(t,e,i)}},{key:"addYaxisAnnotation",value:function(t,e,i){this.yAxisAnnotations.addYaxisAnnotation(t,e,i)}},{key:"addPointAnnotation",value:function(t,e,i){this.pointsAnnotations.addPointAnnotation(t,e,i)}},{key:"addText",value:function(t,e){var n=t.text,x=t.backgroundColor,y=t.borderWidth,C=t.strokeDashArray,k=t.borderRadius,M=t.borderColor,D=t.appendTo,I=void 0===D?".apexcharts-svg":D,c=t.paddingLeft,u=void 0===c?4:c,m=t.paddingRight,w=void 0===m?4:m,b=t.paddingBottom,A=void 0===b?2:b,T=t.paddingTop,z=void 0===T?2:T,N=this.w,F=this.graphics.drawText({x:t.x,y:t.y,text:n,textAnchor:t.textAnchor||"start",fontSize:t.fontSize||"12px",fontWeight:t.fontWeight||"regular",fontFamily:t.fontFamily||N.config.chart.fontFamily,foreColor:t.foreColor||N.config.chart.foreColor,cssClass:t.cssClass}),B=N.globals.dom.baseEl.querySelector(I);B&&B.appendChild(F.node);var H=F.bbox();if(n){var Y=this.graphics.drawRect(H.x-u,H.y-z,H.width+u+w,H.height+A+z,k,x||"transparent",1,y,M,C);B.insertBefore(Y.node,F.node)}}},{key:"addImage",value:function(t,e){var i=this.w,n=t.x,o=void 0===n?0:n,r=t.y,h=void 0===r?0:r,d=t.width,f=void 0===d?20:d,g=t.height,x=void 0===g?20:g,y=t.appendTo,C=void 0===y?".apexcharts-svg":y,k=i.globals.dom.Paper.image(t.path);k.size(f,x).move(o,h);var M=i.globals.dom.baseEl.querySelector(C);return M&&M.appendChild(k.node),k}},{key:"addXaxisAnnotationExternal",value:function(t,e,i){return this.addAnnotationExternal({params:t,pushToMemory:e,context:i,type:"xaxis",contextMethod:i.addXaxisAnnotation}),i}},{key:"addYaxisAnnotationExternal",value:function(t,e,i){return this.addAnnotationExternal({params:t,pushToMemory:e,context:i,type:"yaxis",contextMethod:i.addYaxisAnnotation}),i}},{key:"addPointAnnotationExternal",value:function(t,e,i){return void 0===this.invertAxis&&(this.invertAxis=i.w.globals.isBarHorizontal),this.addAnnotationExternal({params:t,pushToMemory:e,context:i,type:"point",contextMethod:i.addPointAnnotation}),i}},{key:"addAnnotationExternal",value:function(t){var e=t.params,i=t.pushToMemory,a=t.context,n=t.type,o=t.contextMethod,r=a,h=r.w,d=h.globals.dom.baseEl.querySelector(".apexcharts-".concat(n,"-annotations")),f=d.childNodes.length+1,g=new ve,x=Object.assign({},"xaxis"===n?g.xAxisAnnotation:"yaxis"===n?g.yAxisAnnotation:g.pointAnnotation),y=X.extend(x,e);switch(n){case"xaxis":this.addXaxisAnnotation(y,d,f);break;case"yaxis":this.addYaxisAnnotation(y,d,f);break;case"point":this.addPointAnnotation(y,d,f)}var C=h.globals.dom.baseEl.querySelector(".apexcharts-".concat(n,"-annotations .apexcharts-").concat(n,"-annotation-label[rel='").concat(f,"']")),k=this.helpers.addBackgroundToAnno(C,y);return k&&d.insertBefore(k.node,C),i&&h.globals.memory.methodsToExec.push({context:r,id:y.id?y.id:X.randomId(),method:o,label:"addAnnotation",params:e}),a}},{key:"clearAnnotations",value:function(t){for(var e=t.w,i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations"),a=e.globals.memory.methodsToExec.length-1;a>=0;a--)"addText"!==e.globals.memory.methodsToExec[a].label&&"addAnnotation"!==e.globals.memory.methodsToExec[a].label||e.globals.memory.methodsToExec.splice(a,1);i=X.listToArray(i),Array.prototype.forEach.call(i,function(n){for(;n.firstChild;)n.removeChild(n.firstChild)})}},{key:"removeAnnotation",value:function(t,e){var i=t.w,a=i.globals.dom.baseEl.querySelectorAll(".".concat(e));a&&(i.globals.memory.methodsToExec.map(function(n,o){n.id===e&&i.globals.memory.methodsToExec.splice(o,1)}),Array.prototype.forEach.call(a,function(n){n.parentElement.removeChild(n)}))}}]),E}(),wt=function(E){var t,e=E.isTimeline,i=E.ctx,a=E.seriesIndex,n=E.dataPointIndex,o=E.y1,r=E.y2,h=E.w,d=h.globals.seriesRangeStart[a][n],f=h.globals.seriesRangeEnd[a][n],g=h.globals.labels[n],x=h.config.series[a].name?h.config.series[a].name:"",y=h.globals.ttKeyFormatter,C=h.config.tooltip.y.title.formatter,k={w:h,seriesIndex:a,dataPointIndex:n,start:d,end:f};"function"==typeof C&&(x=C(x,k)),null!==(t=h.config.series[a].data[n])&&void 0!==t&&t.x&&(g=h.config.series[a].data[n].x),e||"datetime"===h.config.xaxis.type&&(g=new ce(i).xLabelFormat(h.globals.ttKeyFormatter,g,g,{i:void 0,dateFormatter:new Pt(i).formatDate,w:h})),"function"==typeof y&&(g=y(g,k)),Number.isFinite(o)&&Number.isFinite(r)&&(d=o,f=r);var M="",D="",I=h.globals.colors[a];if(void 0===h.config.tooltip.x.formatter)if("datetime"===h.config.xaxis.type){var c=new Pt(i);M=c.formatDate(c.getDate(d),h.config.tooltip.x.format),D=c.formatDate(c.getDate(f),h.config.tooltip.x.format)}else M=d,D=f;else M=h.config.tooltip.x.formatter(d),D=h.config.tooltip.x.formatter(f);return{start:d,end:f,startVal:M,endVal:D,ylabel:g,color:I,seriesName:x}},te=function(E){var t=E.color,e=E.seriesName,i=E.ylabel,a=E.start,n=E.end,o=E.seriesIndex,r=E.dataPointIndex,h=E.ctx.tooltip.tooltipLabels.getFormatters(o);a=h.yLbFormatter(a),n=h.yLbFormatter(n);var d=h.yLbFormatter(E.w.globals.series[o][r]),f='<span class="value start-value">\n  '.concat(a,'\n  </span> <span class="separator">-</span> <span class="value end-value">\n  ').concat(n,"\n  </span>");return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+t+'">'+(e||"")+'</span></div><div> <span class="category">'+i+": </span> "+(E.w.globals.comboCharts?"rangeArea"===E.w.config.series[o].type||"rangeBar"===E.w.config.series[o].type?f:"<span>".concat(d,"</span>"):f)+" </div></div>"},Kt=function(){function E(t){ot(this,E),this.opts=t}return v(E,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(t){return this.hideYAxis(),X.extend(t,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(t,e){return null!==t?e.w.config.series[e.seriesIndex].name+": "+t:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square"}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),$($({},this.bar()),{},{chart:{animations:{easing:"linear",speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var t=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(e){return t._getBoxTooltip(e.w,e.seriesIndex,e.dataPointIndex,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var t=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(e){return t._getBoxTooltip(e.w,e.seriesIndex,e.dataPointIndex,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:7,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(t,e){var i=e.seriesIndex,a=e.dataPointIndex,n=e.w,o=function(){return n.globals.seriesRangeEnd[i][a]-n.globals.seriesRangeStart[i][a]};return n.globals.comboCharts?"rangeBar"===n.config.series[i].type||"rangeArea"===n.config.series[i].type?o():t:o()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(t){return t.w.config.plotOptions&&t.w.config.plotOptions.bar&&t.w.config.plotOptions.bar.horizontal?(a=(i=wt($($({},e=t),{},{isTimeline:!0}))).color,n=i.seriesName,o=i.ylabel,r=i.startVal,h=i.endVal,te($($({},e),{},{color:a,seriesName:n,ylabel:o,start:r,end:h}))):function(e){var i=wt(e),a=i.color,n=i.seriesName,o=i.ylabel,r=i.start,h=i.end;return te($($({},e),{},{color:a,seriesName:n,ylabel:o,start:r,end:h}))}(t);var e,i,a,n,o,r,h}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(t){var e,i;return null!==(e=t.plotOptions.bar)&&void 0!==e&&e.barHeight||(t.plotOptions.bar.barHeight=2),null!==(i=t.plotOptions.bar)&&void 0!==i&&i.columnWidth||(t.plotOptions.bar.columnWidth=2),t}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(t){return a=(i=wt(e=t)).color,n=i.seriesName,o=i.ylabel,r=i.start,h=i.end,te($($({},e),{},{color:a,seriesName:n,ylabel:o,start:r,end:h}));var e,i,a,n,o,r,h}}}}},{key:"brush",value:function(t){return X.extend(t,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(t){t.dataLabels=t.dataLabels||{},t.dataLabels.formatter=t.dataLabels.formatter||void 0;var e=t.dataLabels.formatter;return t.yaxis.forEach(function(i,a){t.yaxis[a].min=0,t.yaxis[a].max=100}),"bar"===t.chart.type&&(t.dataLabels.formatter=e||function(i){return"number"==typeof i&&i?i.toFixed(0)+"%":i}),t}},{key:"stackedBars",value:function(){var t=this.bar();return $($({},t),{},{plotOptions:$($({},t.plotOptions),{},{bar:$($({},t.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(t){return t.xaxis.convertedCatToNumeric=!0,t}},{key:"convertCatToNumericXaxis",value:function(t,e,i){t.xaxis.type="numeric",t.xaxis.labels=t.xaxis.labels||{},t.xaxis.labels.formatter=t.xaxis.labels.formatter||function(o){return X.isNumber(o)?Math.floor(o):o};var a=t.xaxis.labels.formatter,n=t.xaxis.categories&&t.xaxis.categories.length?t.xaxis.categories:t.labels;return i&&i.length&&(n=i.map(function(o){return Array.isArray(o)?o:String(o)})),n&&n.length&&(t.xaxis.labels.formatter=function(o){return X.isNumber(o)?a(n[Math.floor(o)-1]):a(o)}),t.xaxis.categories=[],t.labels=[],t.xaxis.tickAmount=t.xaxis.tickAmount||"dataPoints",t}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square"}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{opacity:1,gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:5,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},xaxis:{labels:{formatter:function(t){return t},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"_getBoxTooltip",value:function(t,e,i,a,n){var o=t.globals.seriesCandleO[e][i],r=t.globals.seriesCandleH[e][i],h=t.globals.seriesCandleM[e][i],d=t.globals.seriesCandleL[e][i],f=t.globals.seriesCandleC[e][i];return t.config.series[e].type&&t.config.series[e].type!==n?'<div class="apexcharts-custom-tooltip">\n          '.concat(t.config.series[e].name?t.config.series[e].name:"series-"+(e+1),": <strong>").concat(t.globals.series[e][i],"</strong>\n        </div>"):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(t.config.chart.type,'">')+"<div>".concat(a[0],': <span class="value">')+o+"</span></div>"+"<div>".concat(a[1],': <span class="value">')+r+"</span></div>"+(h?"<div>".concat(a[2],': <span class="value">')+h+"</span></div>":"")+"<div>".concat(a[3],': <span class="value">')+d+"</span></div>"+"<div>".concat(a[4],': <span class="value">')+f+"</span></div></div>"}}]),E}(),Ot=function(){function E(t){ot(this,E),this.opts=t}return v(E,[{key:"init",value:function(t){var e=t.responsiveOverride,i=this.opts,a=new ve,n=new Kt(i);this.chartType=i.chart.type,i=this.extendYAxis(i),i=this.extendAnnotations(i);var o=a.init(),r={};if(i&&"object"===zt(i)){var h,d,f,g,x,y,C,k,M,D,I={};I=-1!==["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(i.chart.type)?n[i.chart.type]():n.line(),null!==(h=i.plotOptions)&&void 0!==h&&null!==(d=h.bar)&&void 0!==d&&d.isFunnel&&(I=n.funnel()),i.chart.stacked&&"bar"===i.chart.type&&(I=n.stackedBars()),null!==(f=i.chart.brush)&&void 0!==f&&f.enabled&&(I=n.brush(I)),null!==(g=i.plotOptions)&&void 0!==g&&null!==(x=g.line)&&void 0!==x&&x.isSlopeChart&&(I=n.slope()),i.chart.stacked&&"100%"===i.chart.stackType&&(i=n.stacked100(i)),null!==(y=i.plotOptions)&&void 0!==y&&null!==(C=y.bar)&&void 0!==C&&C.isDumbbell&&(i=n.dumbbell(i)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(i),i.xaxis=i.xaxis||window.Apex.xaxis||{},e||(i.xaxis.convertedCatToNumeric=!1),(null!==(k=(i=this.checkForCatToNumericXAxis(this.chartType,I,i)).chart.sparkline)&&void 0!==k&&k.enabled||null!==(M=window.Apex.chart)&&void 0!==M&&null!==(D=M.sparkline)&&void 0!==D&&D.enabled)&&(I=n.sparkline(I)),r=X.extend(o,I)}var c=X.extend(r,window.Apex);return o=X.extend(c,i),this.handleUserInputErrors(o)}},{key:"checkForCatToNumericXAxis",value:function(t,e,i){var a,n,o=new Kt(i);return("bar"===t||"boxPlot"===t)&&(null===(a=i.plotOptions)||void 0===a||null===(n=a.bar)||void 0===n?void 0:n.horizontal)||"pie"===t||"polarArea"===t||"donut"===t||"radar"===t||"radialBar"===t||"heatmap"===t||!("datetime"!==i.xaxis.type&&"numeric"!==i.xaxis.type)||"between"===(i.xaxis.tickPlacement?i.xaxis.tickPlacement:e.xaxis&&e.xaxis.tickPlacement)||(i=o.convertCatToNumeric(i)),i}},{key:"extendYAxis",value:function(t,e){var i=new ve;(void 0===t.yaxis||!t.yaxis||Array.isArray(t.yaxis)&&0===t.yaxis.length)&&(t.yaxis={}),t.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(t.yaxis=X.extend(t.yaxis,window.Apex.yaxis)),t.yaxis=t.yaxis.constructor!==Array?[X.extend(i.yAxis,t.yaxis)]:X.extendArray(t.yaxis,i.yAxis);var a=!1;t.yaxis.forEach(function(o){o.logarithmic&&(a=!0)});var n=t.series;return e&&!n&&(n=e.config.series),a&&n.length!==t.yaxis.length&&n.length&&(t.yaxis=n.map(function(o,r){if(o.name||(n[r].name="series-".concat(r+1)),t.yaxis[r])return t.yaxis[r].seriesName=n[r].name,t.yaxis[r];var h=X.extend(i.yAxis,t.yaxis[0]);return h.show=!1,h})),a&&n.length>1&&n.length!==t.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),t}},{key:"extendAnnotations",value:function(t){return void 0===t.annotations&&(t.annotations={},t.annotations.yaxis=[],t.annotations.xaxis=[],t.annotations.points=[]),t=this.extendYAxisAnnotations(t),t=this.extendXAxisAnnotations(t),this.extendPointAnnotations(t)}},{key:"extendYAxisAnnotations",value:function(t){var e=new ve;return t.annotations.yaxis=X.extendArray(void 0!==t.annotations.yaxis?t.annotations.yaxis:[],e.yAxisAnnotation),t}},{key:"extendXAxisAnnotations",value:function(t){var e=new ve;return t.annotations.xaxis=X.extendArray(void 0!==t.annotations.xaxis?t.annotations.xaxis:[],e.xAxisAnnotation),t}},{key:"extendPointAnnotations",value:function(t){var e=new ve;return t.annotations.points=X.extendArray(void 0!==t.annotations.points?t.annotations.points:[],e.pointAnnotation),t}},{key:"checkForDarkTheme",value:function(t){t.theme&&"dark"===t.theme.mode&&(t.tooltip||(t.tooltip={}),"light"!==t.tooltip.theme&&(t.tooltip.theme="dark"),t.chart.foreColor||(t.chart.foreColor="#f6f7f8"),t.theme.palette||(t.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(t){var e=t;if(e.tooltip.shared&&e.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if("bar"===e.chart.type&&e.plotOptions.bar.horizontal){if(e.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");e.yaxis[0].reversed&&(e.yaxis[0].opposite=!0),e.xaxis.tooltip.enabled=!1,e.yaxis[0].tooltip.enabled=!1,e.chart.zoom.enabled=!1}return"bar"!==e.chart.type&&"rangeBar"!==e.chart.type||e.tooltip.shared&&"barWidth"===e.xaxis.crosshairs.width&&e.series.length>1&&(e.xaxis.crosshairs.width="tickWidth"),"candlestick"!==e.chart.type&&"boxPlot"!==e.chart.type||e.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(e.chart.type," chart is not supported.")),e.yaxis[0].reversed=!1),e}}]),E}(),Et=function(){function E(){ot(this,E)}return v(E,[{key:"initGlobalVars",value:function(t){t.series=[],t.seriesCandleO=[],t.seriesCandleH=[],t.seriesCandleM=[],t.seriesCandleL=[],t.seriesCandleC=[],t.seriesRangeStart=[],t.seriesRangeEnd=[],t.seriesRange=[],t.seriesPercent=[],t.seriesGoals=[],t.seriesX=[],t.seriesZ=[],t.seriesNames=[],t.seriesTotals=[],t.seriesLog=[],t.seriesColors=[],t.stackedSeriesTotals=[],t.seriesXvalues=[],t.seriesYvalues=[],t.labels=[],t.hasXaxisGroups=!1,t.groups=[],t.barGroups=[],t.lineGroups=[],t.areaGroups=[],t.hasSeriesGroups=!1,t.seriesGroups=[],t.categoryLabels=[],t.timescaleLabels=[],t.noLabelsProvided=!1,t.resizeTimer=null,t.selectionResizeTimer=null,t.lastWheelExecution=0,t.delayedElements=[],t.pointsArray=[],t.dataLabelsRects=[],t.isXNumeric=!1,t.skipLastTimelinelabel=!1,t.skipFirstTimelinelabel=!1,t.isDataXYZ=!1,t.isMultiLineX=!1,t.isMultipleYAxis=!1,t.maxY=-Number.MAX_VALUE,t.minY=Number.MIN_VALUE,t.minYArr=[],t.maxYArr=[],t.maxX=-Number.MAX_VALUE,t.minX=Number.MAX_VALUE,t.initialMaxX=-Number.MAX_VALUE,t.initialMinX=Number.MAX_VALUE,t.maxDate=0,t.minDate=Number.MAX_VALUE,t.minZ=Number.MAX_VALUE,t.maxZ=-Number.MAX_VALUE,t.minXDiff=Number.MAX_VALUE,t.yAxisScale=[],t.xAxisScale=null,t.xAxisTicksPositions=[],t.yLabelsCoords=[],t.yTitleCoords=[],t.barPadForNumericAxis=0,t.padHorizontal=0,t.xRange=0,t.yRange=[],t.zRange=0,t.dataPoints=0,t.xTickAmount=0,t.multiAxisTickAmount=0}},{key:"globalVars",value:function(t){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:t.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:"zoom"===t.chart.toolbar.autoSelected&&t.chart.toolbar.tools.zoom&&t.chart.zoom.enabled,panEnabled:"pan"===t.chart.toolbar.autoSelected&&t.chart.toolbar.tools.pan,selectionEnabled:"selection"===t.chart.toolbar.autoSelected&&t.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:t.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(t){var e=this.globalVars(t);return this.initGlobalVars(e),e.initialConfig=X.extend({},t),e.initialSeries=X.clone(t.series),e.lastXAxis=X.clone(e.initialConfig.xaxis),e.lastYAxis=X.clone(e.initialConfig.yaxis),e}}]),E}(),_t=function(){function E(t){ot(this,E),this.opts=t}return v(E,[{key:"init",value:function(){var t=new Ot(this.opts).init({responsiveOverride:!1});return{config:t,globals:(new Et).init(t)}}}]),E}(),Ft=function(){function E(t){ot(this,E),this.ctx=t,this.w=t.w,this.opts=null,this.seriesIndex=0,this.patternIDs=[]}return v(E,[{key:"clippedImgArea",value:function(t){var e=this.w,i=e.config,a=parseInt(e.globals.gridWidth,10),n=parseInt(e.globals.gridHeight,10),o=a>n?a:n,r=t.image,h=0,d=0;void 0===t.width&&void 0===t.height?void 0!==i.fill.image.width&&void 0!==i.fill.image.height?(h=i.fill.image.width+1,d=i.fill.image.height):(h=o+1,d=o):(h=t.width,d=t.height);var f=document.createElementNS(e.globals.SVGNS,"pattern");U.setAttrs(f,{id:t.patternID,patternUnits:t.patternUnits?t.patternUnits:"userSpaceOnUse",width:h+"px",height:d+"px"});var g=document.createElementNS(e.globals.SVGNS,"image");f.appendChild(g),g.setAttributeNS(window.SVG.xlink,"href",r),U.setAttrs(g,{x:0,y:0,preserveAspectRatio:"none",width:h+"px",height:d+"px"}),g.style.opacity=t.opacity,e.globals.dom.elDefs.node.appendChild(f)}},{key:"getSeriesIndex",value:function(t){var e=this.w,i=e.config.chart.type;return this.seriesIndex=("bar"===i||"rangeBar"===i)&&e.config.plotOptions.bar.distributed||"heatmap"===i||"treemap"===i?t.seriesNumber:t.seriesNumber%e.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(t){var e=this.w;this.opts=t;var i,a,n,o=this.w.config;this.seriesIndex=this.getSeriesIndex(t);var r=this.getFillColors()[this.seriesIndex];void 0!==e.globals.seriesColors[this.seriesIndex]&&(r=e.globals.seriesColors[this.seriesIndex]),"function"==typeof r&&(r=r({seriesIndex:this.seriesIndex,dataPointIndex:t.dataPointIndex,value:t.value,w:e}));var h=t.fillType?t.fillType:this.getFillType(this.seriesIndex),d=Array.isArray(o.fill.opacity)?o.fill.opacity[this.seriesIndex]:o.fill.opacity;t.color&&(r=t.color),r||(r="#fff",console.warn("undefined color - ApexCharts"));var f=r;if(-1===r.indexOf("rgb")?r.length<9&&(f=X.hexToRgba(r,d)):r.indexOf("rgba")>-1&&(d=X.getOpacityFromRGBA(r)),t.opacity&&(d=t.opacity),"pattern"===h&&(a=this.handlePatternFill({fillConfig:t.fillConfig,patternFill:a,fillColor:r,fillOpacity:d,defaultColor:f})),"gradient"===h&&(n=this.handleGradientFill({fillConfig:t.fillConfig,fillColor:r,fillOpacity:d,i:this.seriesIndex})),"image"===h){var g=o.fill.image.src,x=t.patternID?t.patternID:"",y="pattern".concat(e.globals.cuid).concat(t.seriesNumber+1).concat(x);-1===this.patternIDs.indexOf(y)&&(this.clippedImgArea({opacity:d,image:Array.isArray(g)?t.seriesNumber<g.length?g[t.seriesNumber]:g[0]:g,width:t.width?t.width:void 0,height:t.height?t.height:void 0,patternUnits:t.patternUnits,patternID:y}),this.patternIDs.push(y)),i="url(#".concat(y,")")}else i="gradient"===h?n:"pattern"===h?a:f;return t.solid&&(i=f),i}},{key:"getFillType",value:function(t){var e=this.w;return Array.isArray(e.config.fill.type)?e.config.fill.type[t]:e.config.fill.type}},{key:"getFillColors",value:function(){var t=this.w,e=t.config,i=this.opts,a=[];return t.globals.comboCharts?"line"===t.config.series[this.seriesIndex].type?Array.isArray(t.globals.stroke.colors)?a=t.globals.stroke.colors:a.push(t.globals.stroke.colors):Array.isArray(t.globals.fill.colors)?a=t.globals.fill.colors:a.push(t.globals.fill.colors):"line"===e.chart.type?Array.isArray(t.globals.stroke.colors)?a=t.globals.stroke.colors:a.push(t.globals.stroke.colors):Array.isArray(t.globals.fill.colors)?a=t.globals.fill.colors:a.push(t.globals.fill.colors),void 0!==i.fillColors&&(a=[],Array.isArray(i.fillColors)?a=i.fillColors.slice():a.push(i.fillColors)),a}},{key:"handlePatternFill",value:function(t){var e=t.fillConfig,a=t.fillColor,n=t.fillOpacity,o=t.defaultColor,r=this.w.config.fill;e&&(r=e);var h=this.opts,d=new U(this.ctx),f=Array.isArray(r.pattern.strokeWidth)?r.pattern.strokeWidth[this.seriesIndex]:r.pattern.strokeWidth,g=a;return Array.isArray(r.pattern.style)?void 0!==r.pattern.style[h.seriesNumber]?d.drawPattern(r.pattern.style[h.seriesNumber],r.pattern.width,r.pattern.height,g,f,n):o:d.drawPattern(r.pattern.style,r.pattern.width,r.pattern.height,g,f,n)}},{key:"handleGradientFill",value:function(t){var e=t.fillColor,i=t.fillOpacity,a=t.fillConfig,n=t.i,o=this.w.config.fill;a&&(o=$($({},o),a));var r,h=this.opts,d=new U(this.ctx),f=new X,g=o.gradient.type,x=e,y=void 0===o.gradient.opacityFrom?i:Array.isArray(o.gradient.opacityFrom)?o.gradient.opacityFrom[n]:o.gradient.opacityFrom;x.indexOf("rgba")>-1&&(y=X.getOpacityFromRGBA(x));var C=void 0===o.gradient.opacityTo?i:Array.isArray(o.gradient.opacityTo)?o.gradient.opacityTo[n]:o.gradient.opacityTo;if(void 0===o.gradient.gradientToColors||0===o.gradient.gradientToColors.length)r=f.shadeColor("dark"===o.gradient.shade?-1*parseFloat(o.gradient.shadeIntensity):parseFloat(o.gradient.shadeIntensity),e.indexOf("rgb")>-1?X.rgb2hex(e):e);else if(o.gradient.gradientToColors[h.seriesNumber]){var k=o.gradient.gradientToColors[h.seriesNumber];r=k,k.indexOf("rgba")>-1&&(C=X.getOpacityFromRGBA(k))}else r=e;if(o.gradient.gradientFrom&&(x=o.gradient.gradientFrom),o.gradient.gradientTo&&(r=o.gradient.gradientTo),o.gradient.inverseColors){var M=x;x=r,r=M}return x.indexOf("rgb")>-1&&(x=X.rgb2hex(x)),r.indexOf("rgb")>-1&&(r=X.rgb2hex(r)),d.drawGradient(g,x,r,y,C,h.size,o.gradient.stops,o.gradient.colorStops,n)}}]),E}(),se=function(){function E(t,e){ot(this,E),this.ctx=t,this.w=t.w}return v(E,[{key:"setGlobalMarkerSize",value:function(){var t=this.w;if(t.globals.markers.size=Array.isArray(t.config.markers.size)?t.config.markers.size:[t.config.markers.size],t.globals.markers.size.length>0){if(t.globals.markers.size.length<t.globals.series.length+1)for(var e=0;e<=t.globals.series.length;e++)void 0===t.globals.markers.size[e]&&t.globals.markers.size.push(t.globals.markers.size[0])}else t.globals.markers.size=t.config.series.map(function(i){return t.config.markers.size})}},{key:"plotChartMarkers",value:function(t,e,i,a){var n,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=this.w,h=e,d=t,f=null,g=new U(this.ctx),x=r.config.markers.discrete&&r.config.markers.discrete.length;if((r.globals.markers.size[e]>0||o||x)&&(f=g.group({class:o||x?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(r.globals.cuid,")")),Array.isArray(d.x))for(var y=0;y<d.x.length;y++){var C=i;1===i&&0===y&&(C=0),1===i&&1===y&&(C=1);var k="apexcharts-marker";if("line"!==r.config.chart.type&&"area"!==r.config.chart.type||r.globals.comboCharts||r.config.tooltip.intersect||(k+=" no-pointer-events"),(Array.isArray(r.config.markers.size)?r.globals.markers.size[e]>0:r.config.markers.size>0)||o||x){X.isNumber(d.y[y])?k+=" w".concat(X.randomId()):k="apexcharts-nullpoint";var M=this.getMarkerConfig({cssClass:k,seriesIndex:e,dataPointIndex:C});r.config.series[h].data[C]&&(r.config.series[h].data[C].fillColor&&(M.pointFillColor=r.config.series[h].data[C].fillColor),r.config.series[h].data[C].strokeColor&&(M.pointStrokeColor=r.config.series[h].data[C].strokeColor)),void 0!==a&&(M.pSize=a),(d.x[y]<-r.globals.markers.largestSize||d.x[y]>r.globals.gridWidth+r.globals.markers.largestSize||d.y[y]<-r.globals.markers.largestSize||d.y[y]>r.globals.gridHeight+r.globals.markers.largestSize)&&(M.pSize=0),(n=g.drawMarker(d.x[y],d.y[y],M)).attr("rel",C),n.attr("j",C),n.attr("index",e),n.node.setAttribute("default-marker-size",M.pSize),new $t(this.ctx).setSelectionFilter(n,e,C),this.addEvents(n),f&&f.add(n)}else void 0===r.globals.pointsArray[e]&&(r.globals.pointsArray[e]=[]),r.globals.pointsArray[e].push([d.x[y],d.y[y]])}return f}},{key:"getMarkerConfig",value:function(t){var e=t.cssClass,i=t.seriesIndex,a=t.dataPointIndex,n=void 0===a?null:a,o=t.radius,r=void 0===o?null:o,h=t.size,d=void 0===h?null:h,f=t.strokeWidth,g=void 0===f?null:f,x=this.w,y=this.getMarkerStyle(i),C=null===d?x.globals.markers.size[i]:d,k=x.config.markers;return null!==n&&k.discrete.length&&k.discrete.map(function(M){M.seriesIndex===i&&M.dataPointIndex===n&&(y.pointStrokeColor=M.strokeColor,y.pointFillColor=M.fillColor,C=M.size,y.pointShape=M.shape)}),{pSize:null===r?C:r,pRadius:null!==r?r:k.radius,pointStrokeWidth:null!==g?g:Array.isArray(k.strokeWidth)?k.strokeWidth[i]:k.strokeWidth,pointStrokeColor:y.pointStrokeColor,pointFillColor:y.pointFillColor,shape:y.pointShape||(Array.isArray(k.shape)?k.shape[i]:k.shape),class:e,pointStrokeOpacity:Array.isArray(k.strokeOpacity)?k.strokeOpacity[i]:k.strokeOpacity,pointStrokeDashArray:Array.isArray(k.strokeDashArray)?k.strokeDashArray[i]:k.strokeDashArray,pointFillOpacity:Array.isArray(k.fillOpacity)?k.fillOpacity[i]:k.fillOpacity,seriesIndex:i}}},{key:"addEvents",value:function(t){var e=this.w,i=new U(this.ctx);t.node.addEventListener("mouseenter",i.pathMouseEnter.bind(this.ctx,t)),t.node.addEventListener("mouseleave",i.pathMouseLeave.bind(this.ctx,t)),t.node.addEventListener("mousedown",i.pathMouseDown.bind(this.ctx,t)),t.node.addEventListener("click",e.config.markers.onClick),t.node.addEventListener("dblclick",e.config.markers.onDblClick),t.node.addEventListener("touchstart",i.pathMouseDown.bind(this.ctx,t),{passive:!0})}},{key:"getMarkerStyle",value:function(t){var e=this.w,i=e.globals.markers.colors,a=e.config.markers.strokeColor||e.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(a)?a[t]:a,pointFillColor:Array.isArray(i)?i[t]:i}}}]),E}(),de=function(){function E(t){ot(this,E),this.ctx=t,this.w=t.w,this.initialAnim=this.w.config.chart.animations.enabled}return v(E,[{key:"draw",value:function(t,e,i){var a=this.w,n=new U(this.ctx),o=i.realIndex,r=i.pointsPos,h=i.zRatio,d=i.elParent,f=n.group({class:"apexcharts-series-markers apexcharts-series-".concat(a.config.chart.type)});if(f.attr("clip-path","url(#gridRectMarkerMask".concat(a.globals.cuid,")")),Array.isArray(r.x))for(var g=0;g<r.x.length;g++){var x=e+1,y=!0;0===e&&0===g&&(x=0),0===e&&1===g&&(x=1);var C=a.globals.markers.size[o];if(h!==1/0){var k=a.config.plotOptions.bubble;C=a.globals.seriesZ[o][x],k.zScaling&&(C/=h),k.minBubbleRadius&&C<k.minBubbleRadius&&(C=k.minBubbleRadius),k.maxBubbleRadius&&C>k.maxBubbleRadius&&(C=k.maxBubbleRadius)}var D=r.y[g];if(C=C||0,null!==D&&void 0!==a.globals.series[o][x]||(y=!1),y){var I=this.drawPoint(r.x[g],D,C,o,x,e);f.add(I)}d.add(f)}}},{key:"drawPoint",value:function(t,e,i,a,n,o){var r=this.w,h=a,d=new xe(this.ctx),f=new $t(this.ctx),g=new Ft(this.ctx),x=new se(this.ctx),y=new U(this.ctx),C=x.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:h,dataPointIndex:n,radius:"bubble"===r.config.chart.type||r.globals.comboCharts&&r.config.series[a]&&"bubble"===r.config.series[a].type?i:null}),k=g.fillPath({seriesNumber:a,dataPointIndex:n,color:C.pointFillColor,patternUnits:"objectBoundingBox",value:r.globals.series[a][o]}),M=y.drawMarker(t,e,C);return r.config.series[h].data[n]&&r.config.series[h].data[n].fillColor&&(k=r.config.series[h].data[n].fillColor),M.attr({fill:k}),r.config.chart.dropShadow.enabled&&f.dropShadow(M,r.config.chart.dropShadow,a),!this.initialAnim||r.globals.dataChanged||r.globals.resized?r.globals.animationEnded=!0:d.animateMarker(M,r.config.chart.animations.speed,r.globals.easing,function(){window.setTimeout(function(){d.animationCompleted(M)},100)}),M.attr({rel:n,j:n,index:a,"default-marker-size":C.pSize}),f.setSelectionFilter(M,a,n),x.addEvents(M),M.node.classList.add("apexcharts-marker"),M}},{key:"centerTextInBubble",value:function(t){return{y:t+=parseInt(this.w.config.dataLabels.style.fontSize,10)/4}}}]),E}(),ke=function(){function E(t){ot(this,E),this.ctx=t,this.w=t.w}return v(E,[{key:"dataLabelsCorrection",value:function(t,e,i,a,n,o,r){var h=this.w,d=!1,f=new U(this.ctx).getTextRects(i,r),g=f.width,x=f.height;if(e<0&&(e=0),e>h.globals.gridHeight+x&&(e=h.globals.gridHeight+x/2),void 0===h.globals.dataLabelsRects[a]&&(h.globals.dataLabelsRects[a]=[]),h.globals.dataLabelsRects[a].push({x:t,y:e,width:g,height:x}),void 0!==h.globals.dataLabelsRects[a][h.globals.dataLabelsRects[a].length-2]){var k=h.globals.dataLabelsRects[a][void 0!==h.globals.lastDrawnDataLabelsIndexes[a]?h.globals.lastDrawnDataLabelsIndexes[a][h.globals.lastDrawnDataLabelsIndexes[a].length-1]:0];(t>k.x+k.width||e>k.y+k.height||e+x<k.y||t+g<k.x)&&(d=!0)}return(0===n||o)&&(d=!0),{x:t,y:e,textRects:f,drawnextLabel:d}}},{key:"drawDataLabel",value:function(t){var e=this,i=t.type,a=t.pos,n=t.i,o=t.j,r=t.isRangeStart,h=t.strokeWidth,d=void 0===h?2:h,f=this.w,g=new U(this.ctx),x=f.config.dataLabels,y=0,C=0,k=o,M=null;if(-1!==f.globals.collapsedSeriesIndices.indexOf(n)||!x.enabled||!Array.isArray(a.x))return M;M=g.group({class:"apexcharts-data-labels"});for(var D=0;D<a.x.length;D++)if(y=a.x[D]+x.offsetX,C=a.y[D]+x.offsetY+d,!isNaN(y)){1===o&&0===D&&(k=0),1===o&&1===D&&(k=1);var I=f.globals.series[n][k];"rangeArea"===i&&(I=r?f.globals.seriesRangeStart[n][k]:f.globals.seriesRangeEnd[n][k]);var c="",u=function(w){return f.config.dataLabels.formatter(w,{ctx:e.ctx,seriesIndex:n,dataPointIndex:k,w:f})};"bubble"===f.config.chart.type?(c=u(I=f.globals.seriesZ[n][k]),C=a.y[D],C=new de(this.ctx).centerTextInBubble(C,n,k).y):void 0!==I&&(c=u(I));var m=f.config.dataLabels.textAnchor;f.globals.isSlopeChart&&(m=0===k?"end":k===f.config.series[n].data.length-1?"start":"middle"),this.plotDataLabelsText({x:y,y:C,text:c,i:n,j:k,parent:M,offsetCorrection:!0,dataLabelsConfig:f.config.dataLabels,textAnchor:m})}return M}},{key:"plotDataLabelsText",value:function(t){var e=this.w,i=new U(this.ctx),a=t.x,n=t.y,o=t.i,r=t.j,h=t.text,d=t.textAnchor,f=t.fontSize,g=t.parent,x=t.dataLabelsConfig,y=t.color,C=t.alwaysDrawDataLabel,k=t.offsetCorrection,M=t.className,D=null;if(Array.isArray(e.config.dataLabels.enabledOnSeries)&&e.config.dataLabels.enabledOnSeries.indexOf(o)<0)return D;var I={x:a,y:n,drawnextLabel:!0,textRects:null};k&&(I=this.dataLabelsCorrection(a,n,h,o,r,C,parseInt(x.style.fontSize,10))),e.globals.zoomed||(a=I.x,n=I.y),I.textRects&&(a<-20-I.textRects.width||a>e.globals.gridWidth+I.textRects.width+30)&&(h="");var c=e.globals.dataLabels.style.colors[o];(("bar"===e.config.chart.type||"rangeBar"===e.config.chart.type)&&e.config.plotOptions.bar.distributed||e.config.dataLabels.distributed)&&(c=e.globals.dataLabels.style.colors[r]),"function"==typeof c&&(c=c({series:e.globals.series,seriesIndex:o,dataPointIndex:r,w:e})),y&&(c=y);var u=x.offsetX,m=x.offsetY;if("bar"!==e.config.chart.type&&"rangeBar"!==e.config.chart.type||(u=0,m=0),e.globals.isSlopeChart&&(0!==r&&(u=-2*x.offsetX+5),0!==r&&r!==e.config.series[o].data.length-1&&(u=0)),I.drawnextLabel){if((D=i.drawText({width:100,height:parseInt(x.style.fontSize,10),x:a+u,y:n+m,foreColor:c,textAnchor:d||x.textAnchor,text:h,fontSize:f||x.style.fontSize,fontFamily:x.style.fontFamily,fontWeight:x.style.fontWeight||"normal"})).attr({class:M||"apexcharts-datalabel",cx:a,cy:n}),x.dropShadow.enabled){var w=x.dropShadow;new $t(this.ctx).dropShadow(D,w)}g.add(D),void 0===e.globals.lastDrawnDataLabelsIndexes[o]&&(e.globals.lastDrawnDataLabelsIndexes[o]=[]),e.globals.lastDrawnDataLabelsIndexes[o].push(r)}return D}},{key:"addBackgroundToDataLabel",value:function(t,e){var i=this.w,a=i.config.dataLabels.background,n=a.padding,o=a.padding/2,r=e.width,h=e.height,d=new U(this.ctx).drawRect(e.x-n,e.y-o/2,r+2*n,h+o,a.borderRadius,"transparent"!==i.config.chart.background&&i.config.chart.background?i.config.chart.background:"#fff",a.opacity,a.borderWidth,a.borderColor);return a.dropShadow.enabled&&new $t(this.ctx).dropShadow(d,a.dropShadow),d}},{key:"dataLabelsBackground",value:function(){var t=this.w;if("bubble"!==t.config.chart.type)for(var e=t.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),i=0;i<e.length;i++){var a=e[i],n=a.getBBox(),o=null;if(n.width&&n.height&&(o=this.addBackgroundToDataLabel(a,n)),o){a.parentNode.insertBefore(o.node,a);var r=a.getAttribute("fill");!t.config.chart.animations.enabled||t.globals.resized||t.globals.dataChanged?o.attr({fill:r}):o.animate().attr({fill:r}),a.setAttribute("fill",t.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var t=this.w,e=t.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),i=t.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),a=0;a<e.length;a++)i&&i.insertBefore(e[a],i.nextSibling)}}]),E}(),Jt=function(){function E(t){ot(this,E),this.ctx=t,this.w=t.w,this.legendInactiveClass="legend-mouseover-inactive"}return v(E,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(t){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(X.escapeString(t),"']"))}},{key:"isSeriesHidden",value:function(t){var e=this.getSeriesByName(t),i=parseInt(e.getAttribute("data:realIndex"),10);return{isHidden:e.classList.contains("apexcharts-series-collapsed"),realIndex:i}}},{key:"addCollapsedClassToSeries",value:function(t,e){var i=this.w;function a(n){for(var o=0;o<n.length;o++)n[o].index===e&&t.node.classList.add("apexcharts-series-collapsed")}a(i.globals.collapsedSeries),a(i.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(t){var e=this.isSeriesHidden(t);return this.ctx.legend.legendHelpers.toggleDataSeries(e.realIndex,e.isHidden),e.isHidden}},{key:"showSeries",value:function(t){var e=this.isSeriesHidden(t);e.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(e.realIndex,!0)}},{key:"hideSeries",value:function(t){var e=this.isSeriesHidden(t);e.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(e.realIndex,!1)}},{key:"resetSeries",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=this.w,n=X.clone(a.globals.initialSeries);a.globals.previousPaths=[],i?(a.globals.collapsedSeries=[],a.globals.ancillaryCollapsedSeries=[],a.globals.collapsedSeriesIndices=[],a.globals.ancillaryCollapsedSeriesIndices=[]):n=this.emptyCollapsedSeries(n),a.config.series=n,t&&(e&&(a.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(n,a.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(t){for(var e=this.w,i=0;i<t.length;i++)e.globals.collapsedSeriesIndices.indexOf(i)>-1&&(t[i].data=[]);return t}},{key:"highlightSeries",value:function(t){var e=this.w,i=this.getSeriesByName(t),a=parseInt(i?.getAttribute("data:realIndex"),10),n=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis"),o=null,r=null,h=null;e.globals.axisCharts||"radialBar"===e.config.chart.type?e.globals.axisCharts?(o=e.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(a,"']")),r=e.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(a,"']")),h=e.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e.globals.seriesYAxisReverseMap[a],"']"))):o=e.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"']")):o=e.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"'] path"));for(var f=0;f<n.length;f++)n[f].classList.add(this.legendInactiveClass);if(o)e.globals.axisCharts||o.parentNode.classList.remove(this.legendInactiveClass),o.classList.remove(this.legendInactiveClass),null!==r&&r.classList.remove(this.legendInactiveClass),null!==h&&h.classList.remove(this.legendInactiveClass);else for(var g=0;g<n.length;g++)n[g].classList.remove(this.legendInactiveClass)}},{key:"toggleSeriesOnHover",value:function(t,e){var i=this.w;e||(e=t.target);var a=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if("mousemove"===t.type){var n=parseInt(e.getAttribute("rel"),10)-1;this.highlightSeries(i.globals.seriesNames[n])}else if("mouseout"===t.type)for(var o=0;o<a.length;o++)a[o].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(t,e){var i=this,a=this.w,n=a.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),o=function(d){for(var f=0;f<n.length;f++)n[f].classList[d](i.legendInactiveClass)};if("mousemove"===t.type){var r=parseInt(e.getAttribute("rel"),10)-1;o("add");var h=a.config.plotOptions.heatmap.colorScale.ranges;!function(d,f){for(var g=0;g<n.length;g++){var x=Number(n[g].getAttribute("val"));x>=d.from&&(x<d.to||d.to===f&&x===f)&&n[g].classList.remove(i.legendInactiveClass)}}(h[r],h.reduce(function(d,f){return Math.max(d,f.to)},0))}else"mouseout"===t.type&&o("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"asc",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=this.w,a=0;if(i.config.series.length>1)for(var n=i.config.series.map(function(r,h){return r.data&&r.data.length>0&&-1===i.globals.collapsedSeriesIndices.indexOf(h)&&(!i.globals.comboCharts||0===e.length||e.length&&e.indexOf(i.config.series[h].type)>-1)?h:-1}),o="asc"===t?0:n.length-1;"asc"===t?o<n.length:o>=0;"asc"===t?o++:o--)if(-1!==n[o]){a=n[o];break}return a}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(t,e){return"bar"===t.type||"column"===t.type?e:-1}).filter(function(t){return-1!==t}):this.w.config.series.map(function(t,e){return e})}},{key:"getPreviousPaths",value:function(){var t=this.w;function e(o,r,h){for(var d=o[r].childNodes,f={type:h,paths:[],realIndex:o[r].getAttribute("data:realIndex")},g=0;g<d.length;g++)if(d[g].hasAttribute("pathTo")){var x=d[g].getAttribute("pathTo");f.paths.push({d:x})}t.globals.previousPaths.push(f)}t.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(o){for(var h=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(o,"-series .apexcharts-series")),d=0;d<h.length;d++)e(h,d,o)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var i=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t.config.chart.type," .apexcharts-series"));if(i.length>0)for(var a=function(o){for(var r=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(o,"'] rect")),h=[],d=function(g){var x=function(C){return r[g].getAttribute(C)},y={x:parseFloat(x("x")),y:parseFloat(x("y")),width:parseFloat(x("width")),height:parseFloat(x("height"))};h.push({rect:y,color:r[g].getAttribute("color")})},f=0;f<r.length;f++)d(f);t.globals.previousPaths.push(h)},n=0;n<i.length;n++)a(n);t.globals.axisCharts||(t.globals.previousPaths=t.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(t){var e=this.w,i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t,"-series .apexcharts-series"));if(i.length>0)for(var a=0;a<i.length;a++){for(var n=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t,"-series .apexcharts-series[data\\:realIndex='").concat(a,"'] circle")),o=[],r=0;r<n.length;r++)o.push({x:n[r].getAttribute("cx"),y:n[r].getAttribute("cy"),r:n[r].getAttribute("r")});e.globals.previousPaths.push(o)}}},{key:"clearPreviousPaths",value:function(){var t=this.w;t.globals.previousPaths=[],t.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var t=this.w,e=t.config.noData,i=new U(this.ctx),a=t.globals.svgWidth/2,n=t.globals.svgHeight/2,o="middle";if(t.globals.noData=!0,t.globals.animationEnded=!0,"left"===e.align?(a=10,o="start"):"right"===e.align&&(a=t.globals.svgWidth-10,o="end"),"top"===e.verticalAlign?n=50:"bottom"===e.verticalAlign&&(n=t.globals.svgHeight-50),a+=e.offsetX,n=n+parseInt(e.style.fontSize,10)+2+e.offsetY,void 0!==e.text&&""!==e.text){var r=i.drawText({x:a,y:n,text:e.text,textAnchor:o,fontSize:e.style.fontSize,fontFamily:e.style.fontFamily,foreColor:e.style.color,opacity:1,class:"apexcharts-text-nodata"});t.globals.dom.Paper.add(r)}}},{key:"setNullSeriesToZeroValues",value:function(t){for(var e=this.w,i=0;i<t.length;i++)if(0===t[i].length)for(var a=0;a<t[e.globals.maxValsInArrayIndex].length;a++)t[i].push(0);return t}},{key:"hasAllSeriesEqualX",value:function(){for(var t=!0,e=this.w,i=this.filteredSeriesX(),a=0;a<i.length-1;a++)if(i[a][0]!==i[a+1][0]){t=!1;break}return e.globals.allSeriesHasEqualX=t,t}},{key:"filteredSeriesX",value:function(){return this.w.globals.seriesX.map(function(e){return e.length>0?e:[]})}}]),E}(),Le=function(){function E(t){ot(this,E),this.ctx=t,this.w=t.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new Ht(this.ctx)}return v(E,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var t=this.w.config.series.slice(),e=new Jt(this.ctx);if(this.activeSeriesIndex=e.getActiveConfigSeriesIndex(),void 0!==t[this.activeSeriesIndex].data&&t[this.activeSeriesIndex].data.length>0&&null!==t[this.activeSeriesIndex].data[0]&&void 0!==t[this.activeSeriesIndex].data[0].x&&null!==t[this.activeSeriesIndex].data[0])return!0}},{key:"isFormat2DArray",value:function(){var t=this.w.config.series.slice(),e=new Jt(this.ctx);if(this.activeSeriesIndex=e.getActiveConfigSeriesIndex(),void 0!==t[this.activeSeriesIndex].data&&t[this.activeSeriesIndex].data.length>0&&null!=t[this.activeSeriesIndex].data[0]&&t[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(t,e){for(var i=this.w.config,a=this.w.globals,n="boxPlot"===i.chart.type||"boxPlot"===i.series[e].type,o=0;o<t[e].data.length;o++)if(void 0!==t[e].data[o][1]&&(Array.isArray(t[e].data[o][1])&&4===t[e].data[o][1].length&&!n?this.twoDSeries.push(X.parseNumber(t[e].data[o][1][3])):this.twoDSeries.push(X.parseNumber(t[e].data[o].length>=5?t[e].data[o][4]:t[e].data[o][1])),a.dataFormatXNumeric=!0),"datetime"===i.xaxis.type){var r=new Date(t[e].data[o][0]);r=new Date(r).getTime(),this.twoDSeriesX.push(r)}else this.twoDSeriesX.push(t[e].data[o][0]);for(var h=0;h<t[e].data.length;h++)void 0!==t[e].data[h][2]&&(this.threeDSeries.push(t[e].data[h][2]),a.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(t,e){var i=this.w.config,a=this.w.globals,n=new Pt(this.ctx),o=e;a.collapsedSeriesIndices.indexOf(e)>-1&&(o=this.activeSeriesIndex);for(var r=0;r<t[e].data.length;r++)void 0!==t[e].data[r].y&&(Array.isArray(t[e].data[r].y)?this.twoDSeries.push(X.parseNumber(t[e].data[r].y[t[e].data[r].y.length-1])):this.twoDSeries.push(X.parseNumber(t[e].data[r].y))),void 0!==t[e].data[r].goals&&Array.isArray(t[e].data[r].goals)?(void 0===this.seriesGoals[e]&&(this.seriesGoals[e]=[]),this.seriesGoals[e].push(t[e].data[r].goals)):(void 0===this.seriesGoals[e]&&(this.seriesGoals[e]=[]),this.seriesGoals[e].push(null));for(var h=0;h<t[o].data.length;h++){var d="string"==typeof t[o].data[h].x,f=Array.isArray(t[o].data[h].x),g=!f&&!!n.isValidDate(t[o].data[h].x);d||g?d||i.xaxis.convertedCatToNumeric?"datetime"!==i.xaxis.type||a.isBarHorizontal&&a.isRangeData?(this.fallbackToCategory=!0,this.twoDSeriesX.push(t[o].data[h].x),isNaN(t[o].data[h].x)||"category"===this.w.config.xaxis.type||"string"==typeof t[o].data[h].x||(a.isXNumeric=!0)):this.twoDSeriesX.push(n.parseDate(t[o].data[h].x)):"datetime"===i.xaxis.type?this.twoDSeriesX.push(n.parseDate(t[o].data[h].x.toString())):(a.dataFormatXNumeric=!0,a.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(t[o].data[h].x))):f?(this.fallbackToCategory=!0,this.twoDSeriesX.push(t[o].data[h].x)):(a.isXNumeric=!0,a.dataFormatXNumeric=!0,this.twoDSeriesX.push(t[o].data[h].x))}if(t[e].data[0]&&void 0!==t[e].data[0].z){for(var y=0;y<t[e].data.length;y++)this.threeDSeries.push(t[e].data[y].z);a.isDataXYZ=!0}}},{key:"handleRangeData",value:function(t,e){var i=this.w.globals,a={};return this.isFormat2DArray()?a=this.handleRangeDataFormat("array",t,e):this.isFormatXY()&&(a=this.handleRangeDataFormat("xy",t,e)),i.seriesRangeStart.push(void 0===a.start?[]:a.start),i.seriesRangeEnd.push(void 0===a.end?[]:a.end),i.seriesRange.push(a.rangeUniques),i.seriesRange.forEach(function(n,o){n&&n.forEach(function(r,h){r.y.forEach(function(d,f){for(var g=0;g<r.y.length;g++)f!==g&&d.y1<=r.y[g].y2&&r.y[g].y1<=d.y2&&(r.overlaps.indexOf(d.rangeName)<0&&r.overlaps.push(d.rangeName),r.overlaps.indexOf(r.y[g].rangeName)<0&&r.overlaps.push(r.y[g].rangeName))})})}),a}},{key:"handleCandleStickBoxData",value:function(t,e){var i=this.w.globals,a={};return this.isFormat2DArray()?a=this.handleCandleStickBoxDataFormat("array",t,e):this.isFormatXY()&&(a=this.handleCandleStickBoxDataFormat("xy",t,e)),i.seriesCandleO[e]=a.o,i.seriesCandleH[e]=a.h,i.seriesCandleM[e]=a.m,i.seriesCandleL[e]=a.l,i.seriesCandleC[e]=a.c,a}},{key:"handleRangeDataFormat",value:function(t,e,i){var a=[],n=[],o=e[i].data.filter(function(f,g,x){return g===x.findIndex(function(y){return y.x===f.x})}).map(function(f,g){return{x:f.x,overlaps:[],y:[]}});if("array"===t)for(var r=0;r<e[i].data.length;r++)Array.isArray(e[i].data[r])?(a.push(e[i].data[r][1][0]),n.push(e[i].data[r][1][1])):(a.push(e[i].data[r]),n.push(e[i].data[r]));else if("xy"===t)for(var h=function(f){var g=Array.isArray(e[i].data[f].y),x=X.randomId(),y=e[i].data[f].x,C={y1:g?e[i].data[f].y[0]:e[i].data[f].y,y2:g?e[i].data[f].y[1]:e[i].data[f].y,rangeName:x};e[i].data[f].rangeName=x;var k=o.findIndex(function(M){return M.x===y});o[k].y.push(C),a.push(C.y1),n.push(C.y2)},d=0;d<e[i].data.length;d++)h(d);return{start:a,end:n,rangeUniques:o}}},{key:"handleCandleStickBoxDataFormat",value:function(t,e,i){var a=this.w,n="boxPlot"===a.config.chart.type||"boxPlot"===a.config.series[i].type,o=[],r=[],h=[],d=[],f=[];if("array"===t)if(n&&6===e[i].data[0].length||!n&&5===e[i].data[0].length)for(var g=0;g<e[i].data.length;g++)o.push(e[i].data[g][1]),r.push(e[i].data[g][2]),n?(h.push(e[i].data[g][3]),d.push(e[i].data[g][4]),f.push(e[i].data[g][5])):(d.push(e[i].data[g][3]),f.push(e[i].data[g][4]));else for(var x=0;x<e[i].data.length;x++)Array.isArray(e[i].data[x][1])&&(o.push(e[i].data[x][1][0]),r.push(e[i].data[x][1][1]),n?(h.push(e[i].data[x][1][2]),d.push(e[i].data[x][1][3]),f.push(e[i].data[x][1][4])):(d.push(e[i].data[x][1][2]),f.push(e[i].data[x][1][3])));else if("xy"===t)for(var y=0;y<e[i].data.length;y++)Array.isArray(e[i].data[y].y)&&(o.push(e[i].data[y].y[0]),r.push(e[i].data[y].y[1]),n?(h.push(e[i].data[y].y[2]),d.push(e[i].data[y].y[3]),f.push(e[i].data[y].y[4])):(d.push(e[i].data[y].y[2]),f.push(e[i].data[y].y[3])));return{o,h:r,m:h,l:d,c:f}}},{key:"parseDataAxisCharts",value:function(t){var e=this,a=this.w.config,n=this.w.globals,o=new Pt(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx),r=a.labels.length>0?a.labels.slice():a.xaxis.categories.slice();n.isRangeBar="rangeBar"===a.chart.type&&n.isBarHorizontal,n.hasXaxisGroups="category"===a.xaxis.type&&a.xaxis.group.groups.length>0,n.hasXaxisGroups&&(n.groups=a.xaxis.group.groups),t.forEach(function(y,C){n.seriesNames.push(void 0!==y.name?y.name:"series-"+parseInt(C+1,10))}),this.coreUtils.setSeriesYAxisMappings();var h=[],d=Vt(new Set(a.series.map(function(y){return y.group})));a.series.forEach(function(y,C){var k=d.indexOf(y.group);h[k]||(h[k]=[]),h[k].push(n.seriesNames[C])}),n.seriesGroups=h;for(var f=function(){for(var y=0;y<r.length;y++)if("string"==typeof r[y]){if(!o.isValidDate(r[y]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");e.twoDSeriesX.push(o.parseDate(r[y]))}else e.twoDSeriesX.push(r[y])},g=0;g<t.length;g++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],void 0===t[g].data)return void console.error("It is a possibility that you may have not included 'data' property in series.");if("rangeBar"!==a.chart.type&&"rangeArea"!==a.chart.type&&"rangeBar"!==t[g].type&&"rangeArea"!==t[g].type||(n.isRangeData=!0,"rangeBar"!==a.chart.type&&"rangeArea"!==a.chart.type||this.handleRangeData(t,g)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(t,g):this.isFormatXY()&&this.handleFormatXY(t,g),"candlestick"!==a.chart.type&&"candlestick"!==t[g].type&&"boxPlot"!==a.chart.type&&"boxPlot"!==t[g].type||this.handleCandleStickBoxData(t,g),n.series.push(this.twoDSeries),n.labels.push(this.twoDSeriesX),n.seriesX.push(this.twoDSeriesX),n.seriesGoals=this.seriesGoals,g!==this.activeSeriesIndex||this.fallbackToCategory||(n.isXNumeric=!0);else{"datetime"===a.xaxis.type?(n.isXNumeric=!0,f(),n.seriesX.push(this.twoDSeriesX)):"numeric"===a.xaxis.type&&(n.isXNumeric=!0,r.length>0&&(this.twoDSeriesX=r,n.seriesX.push(this.twoDSeriesX))),n.labels.push(this.twoDSeriesX);var x=t[g].data.map(function(y){return X.parseNumber(y)});n.series.push(x)}n.seriesZ.push(this.threeDSeries),n.seriesColors.push(void 0!==t[g].color?t[g].color:void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(t){var e=this.w.globals,i=this.w.config;e.series=t.slice(),e.seriesNames=i.labels.slice();for(var a=0;a<e.series.length;a++)void 0===e.seriesNames[a]&&e.seriesNames.push("series-"+(a+1));return this.w}},{key:"handleExternalLabelsData",value:function(t){var e=this.w.config,i=this.w.globals;e.xaxis.categories.length>0?i.labels=e.xaxis.categories:e.labels.length>0?i.labels=e.labels.slice():this.fallbackToCategory?(i.labels=i.labels[0],i.seriesRange.length&&(i.seriesRange.map(function(a){a.forEach(function(n){i.labels.indexOf(n.x)<0&&n.x&&i.labels.push(n.x)})}),i.labels=Array.from(new Set(i.labels.map(JSON.stringify)),JSON.parse)),e.xaxis.convertedCatToNumeric&&(new Kt(e).convertCatToNumericXaxis(e,this.ctx,i.seriesX[0]),this._generateExternalLabels(t))):this._generateExternalLabels(t)}},{key:"_generateExternalLabels",value:function(t){var e=this.w.globals,i=this.w.config,a=[];if(e.axisCharts){if(e.series.length>0)if(this.isFormatXY())for(var n=i.series.map(function(g,x){return g.data.filter(function(y,C,k){return k.findIndex(function(M){return M.x===y.x})===C})}),o=n.reduce(function(g,x,y,C){return C[g].length>x.length?g:y},0),r=0;r<n[o].length;r++)a.push(r+1);else for(var h=0;h<e.series[e.maxValsInArrayIndex].length;h++)a.push(h+1);e.seriesX=[];for(var d=0;d<t.length;d++)e.seriesX.push(a);this.w.globals.isBarHorizontal||(e.isXNumeric=!0)}if(0===a.length){a=e.axisCharts?[]:e.series.map(function(g,x){return x+1});for(var f=0;f<t.length;f++)e.seriesX.push(a)}e.labels=a,i.xaxis.convertedCatToNumeric&&(e.categoryLabels=a.map(function(g){return i.xaxis.labels.formatter(g)})),e.noLabelsProvided=!0}},{key:"parseData",value:function(t){var e=this.w,i=e.config,a=e.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),a.axisCharts?(this.parseDataAxisCharts(t),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(t),i.chart.stacked){var n=new Jt(this.ctx);a.series=n.setNullSeriesToZeroValues(a.series)}this.coreUtils.getSeriesTotals(),a.axisCharts&&(a.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),a.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),a.dataFormatXNumeric||a.isXNumeric&&("numeric"!==i.xaxis.type||0!==i.labels.length||0!==i.xaxis.categories.length)||this.handleExternalLabelsData(t);for(var o=this.coreUtils.getCategoryLabels(a.labels),r=0;r<o.length;r++)if(Array.isArray(o[r])){a.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var t=this.w,e=[];t.globals.seriesYAxisMap.forEach(function(i,a){var n=0;i.forEach(function(o){-1!==t.globals.collapsedSeriesIndices.indexOf(o)&&n++}),n>0&&n==i.length&&e.push(a)}),t.globals.ignoreYAxisIndexes=e.map(function(i){return i})}}]),E}(),Fe=function(){function E(t){ot(this,E),this.ctx=t,this.w=t.w}return v(E,[{key:"scaleSvgNode",value:function(t,e){var i=parseFloat(t.getAttributeNS(null,"width")),a=parseFloat(t.getAttributeNS(null,"height"));t.setAttributeNS(null,"width",i*e),t.setAttributeNS(null,"height",a*e),t.setAttributeNS(null,"viewBox","0 0 "+i+" "+a)}},{key:"getSvgString",value:function(){var t=this;return new Promise(function(e){var i=t.w,n=i.config.chart.toolbar.export.scale||i.config.chart.toolbar.export.width/i.globals.svgWidth;n||(n=1);var o=t.w.globals.dom.Paper.svg(),r=t.w.globals.dom.Paper.node.cloneNode(!0);1!==n&&t.scaleSvgNode(r,n),t.convertImagesToBase64(r).then(function(){o=(new XMLSerializer).serializeToString(r),e(o.replace(/&nbsp;/g,"&#160;"))})})}},{key:"convertImagesToBase64",value:function(t){var e=this,i=t.getElementsByTagName("image"),a=Array.from(i).map(function(n){var o=n.getAttributeNS("http://www.w3.org/1999/xlink","href");return o&&!o.startsWith("data:")?e.getBase64FromUrl(o).then(function(r){n.setAttributeNS("http://www.w3.org/1999/xlink","href",r)}).catch(function(r){console.error("Error converting image to base64:",r)}):Promise.resolve()});return Promise.all(a)}},{key:"getBase64FromUrl",value:function(t){return new Promise(function(e,i){var a=new Image;a.crossOrigin="Anonymous",a.onload=function(){var n=document.createElement("canvas");n.width=a.width,n.height=a.height,n.getContext("2d").drawImage(a,0,0),e(n.toDataURL())},a.onerror=i,a.src=t})}},{key:"cleanup",value:function(){var t=this.w,e=t.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),i=t.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),a=t.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(a,function(n){n.setAttribute("width",0)}),e&&e[0]&&(e[0].setAttribute("x",-500),e[0].setAttribute("x1",-500),e[0].setAttribute("x2",-500)),i&&i[0]&&(i[0].setAttribute("y",-100),i[0].setAttribute("y1",-100),i[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){var t=this;return new Promise(function(e){t.cleanup(),t.getSvgString().then(function(i){var a=new Blob([i],{type:"image/svg+xml;charset=utf-8"});e(URL.createObjectURL(a))})})}},{key:"dataURI",value:function(t){var e=this;return new Promise(function(i){var a=e.w,n=t?t.scale||t.width/a.globals.svgWidth:1;e.cleanup();var o=document.createElement("canvas");o.width=a.globals.svgWidth*n,o.height=parseInt(a.globals.dom.elWrap.style.height,10)*n;var r="transparent"!==a.config.chart.background&&a.config.chart.background?a.config.chart.background:"#fff",h=o.getContext("2d");h.fillStyle=r,h.fillRect(0,0,o.width*n,o.height*n),e.getSvgString().then(function(d){var f="data:image/svg+xml,"+encodeURIComponent(d),g=new Image;g.crossOrigin="anonymous",g.onload=function(){if(h.drawImage(g,0,0),o.msToBlob){var x=o.msToBlob();i({blob:x})}else{var y=o.toDataURL("image/png");i({imgURI:y})}},g.src=f})})}},{key:"exportToSVG",value:function(){var t=this;this.svgUrl().then(function(e){t.triggerDownload(e,t.w.config.chart.toolbar.export.svg.filename,".svg")})}},{key:"exportToPng",value:function(){var t=this,e=this.w.config.chart.toolbar.export.scale,i=this.w.config.chart.toolbar.export.width;this.dataURI(e?{scale:e}:i?{width:i}:void 0).then(function(n){var o=n.imgURI,r=n.blob;r?navigator.msSaveOrOpenBlob(r,t.w.globals.chartID+".png"):t.triggerDownload(o,t.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(t){var e=this,i=t.series,a=t.fileName,n=t.columnDelimiter,o=void 0===n?",":n,r=t.lineDelimiter,h=void 0===r?"\n":r,d=this.w;i||(i=d.config.series);var f,g,x=[],y=[],C="",k=d.globals.series.map(function(b,A){return-1===d.globals.collapsedSeriesIndices.indexOf(A)?b:[]}),M=function(b){return"function"==typeof d.config.chart.toolbar.export.csv.categoryFormatter?d.config.chart.toolbar.export.csv.categoryFormatter(b):"datetime"===d.config.xaxis.type&&String(b).length>=10?new Date(b).toDateString():X.isNumber(b)?b:b.split(o).join("")},D=function(b){return"function"==typeof d.config.chart.toolbar.export.csv.valueFormatter?d.config.chart.toolbar.export.csv.valueFormatter(b):b},I=Math.max.apply(Math,Vt(i.map(function(b){return b.data?b.data.length:0}))),c=new Le(this.ctx),u=new Zt(this.ctx),m=function(b){var A="";if(d.globals.axisCharts){if("category"===d.config.xaxis.type||d.config.xaxis.convertedCatToNumeric)if(d.globals.isBarHorizontal){var T=d.globals.yLabelFormatters[0],z=new Jt(e.ctx).getActiveConfigSeriesIndex();A=T(d.globals.labels[b],{seriesIndex:z,dataPointIndex:b,w:d})}else A=u.getLabel(d.globals.labels,d.globals.timescaleLabels,0,b).text;"datetime"===d.config.xaxis.type&&(d.config.xaxis.categories.length?A=d.config.xaxis.categories[b]:d.config.labels.length&&(A=d.config.labels[b]))}else A=d.config.labels[b];return null===A?"nullvalue":(Array.isArray(A)&&(A=A.join(" ")),X.isNumber(A)?A:A.split(o).join(""))};x.push(d.config.chart.toolbar.export.csv.headerCategory),"boxPlot"===d.config.chart.type?(x.push("minimum"),x.push("q1"),x.push("median"),x.push("q3"),x.push("maximum")):"candlestick"===d.config.chart.type?(x.push("open"),x.push("high"),x.push("low"),x.push("close")):"rangeBar"===d.config.chart.type?(x.push("minimum"),x.push("maximum")):i.map(function(b,A){var T=(b.name?b.name:"series-".concat(A))+"";d.globals.axisCharts&&x.push(T.split(o).join("")?T.split(o).join(""):"series-".concat(A))}),d.globals.axisCharts||(x.push(d.config.chart.toolbar.export.csv.headerValue),y.push(x.join(o))),d.globals.allSeriesHasEqualX||!d.globals.axisCharts||d.config.xaxis.categories.length||d.config.labels.length?i.map(function(b,A){d.globals.axisCharts?function(b,A){if(x.length&&0===A&&y.push(x.join(o)),b.data){b.data=b.data.length&&b.data||Vt(Array(I)).map(function(){return""});for(var T=0;T<b.data.length;T++){x=[];var z=m(T);if("nullvalue"!==z){if(z||(c.isFormatXY()?z=i[A].data[T].x:c.isFormat2DArray()&&(z=i[A].data[T]?i[A].data[T][0]:"")),0===A){x.push(M(z));for(var N=0;N<d.globals.series.length;N++){var F,B=c.isFormatXY()?null===(F=i[N].data[T])||void 0===F?void 0:F.y:k[N][T];x.push(D(B))}}("candlestick"===d.config.chart.type||b.type&&"candlestick"===b.type)&&(x.pop(),x.push(d.globals.seriesCandleO[A][T]),x.push(d.globals.seriesCandleH[A][T]),x.push(d.globals.seriesCandleL[A][T]),x.push(d.globals.seriesCandleC[A][T])),("boxPlot"===d.config.chart.type||b.type&&"boxPlot"===b.type)&&(x.pop(),x.push(d.globals.seriesCandleO[A][T]),x.push(d.globals.seriesCandleH[A][T]),x.push(d.globals.seriesCandleM[A][T]),x.push(d.globals.seriesCandleL[A][T]),x.push(d.globals.seriesCandleC[A][T])),"rangeBar"===d.config.chart.type&&(x.pop(),x.push(d.globals.seriesRangeStart[A][T]),x.push(d.globals.seriesRangeEnd[A][T])),x.length&&y.push(x.join(o))}}}}(b,A):((x=[]).push(M(d.globals.labels[A])),x.push(D(k[A])),y.push(x.join(o)))}):(f=new Set,g={},i.forEach(function(b,A){b?.data.forEach(function(T){var z,N;if(c.isFormatXY())z=T.x,N=T.y;else{if(!c.isFormat2DArray())return;z=T[0],N=T[1]}g[z]||(g[z]=Array(i.length).fill("")),g[z][A]=D(N),f.add(z)})}),x.length&&y.push(x.join(o)),Array.from(f).sort().forEach(function(b){y.push([M(b),g[b].join(o)])})),C+=y.join(h),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\ufeff"+C),a||d.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(t,e,i){var a=document.createElement("a");a.href=t,a.download=(e||this.w.globals.chartID)+i,document.body.appendChild(a),a.click(),document.body.removeChild(a)}}]),E}(),Pe=function(){function E(t,e){ot(this,E),this.ctx=t,this.elgrid=e,this.w=t.w;var i=this.w;this.axesUtils=new Zt(t),this.xaxisLabels=i.globals.labels.slice(),i.globals.timescaleLabels.length>0&&!i.globals.isBarHorizontal&&(this.xaxisLabels=i.globals.timescaleLabels.slice()),i.config.xaxis.overwriteCategories&&(this.xaxisLabels=i.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],this.offY="top"===i.config.xaxis.position?0:i.globals.gridHeight,this.offY=this.offY+i.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal="bar"===i.config.chart.type&&i.config.plotOptions.bar.horizontal,this.xaxisFontSize=i.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=i.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=i.config.xaxis.labels.style.colors,this.xaxisBorderWidth=i.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=i.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth=this.xaxisBorderWidth.indexOf("%")>-1?i.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=i.config.xaxis.axisBorder.height,this.yaxis=i.config.yaxis[0]}return v(E,[{key:"drawXaxis",value:function(){var t=this.w,e=new U(this.ctx),i=e.group({class:"apexcharts-xaxis",transform:"translate(".concat(t.config.xaxis.offsetX,", ").concat(t.config.xaxis.offsetY,")")}),a=e.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(t.globals.translateXAxisX,", ").concat(t.globals.translateXAxisY,")")});i.add(a);for(var n=[],o=0;o<this.xaxisLabels.length;o++)n.push(this.xaxisLabels[o]);if(this.drawXAxisLabelAndGroup(!0,e,a,n,t.globals.isXNumeric,function(C,k){return k}),t.globals.hasXaxisGroups){var r=t.globals.groups;n=[];for(var h=0;h<r.length;h++)n.push(r[h].title);var d={};t.config.xaxis.group.style&&(d.xaxisFontSize=t.config.xaxis.group.style.fontSize,d.xaxisFontFamily=t.config.xaxis.group.style.fontFamily,d.xaxisForeColors=t.config.xaxis.group.style.colors,d.fontWeight=t.config.xaxis.group.style.fontWeight,d.cssClass=t.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,e,a,n,!1,function(C,k){return r[C].cols*k},d)}if(void 0!==t.config.xaxis.title.text){var f=e.group({class:"apexcharts-xaxis-title"}),g=e.drawText({x:t.globals.gridWidth/2+t.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+("bottom"===t.config.xaxis.position?t.globals.xAxisLabelsHeight:-t.globals.xAxisLabelsHeight-10)+t.config.xaxis.title.offsetY,text:t.config.xaxis.title.text,textAnchor:"middle",fontSize:t.config.xaxis.title.style.fontSize,fontFamily:t.config.xaxis.title.style.fontFamily,fontWeight:t.config.xaxis.title.style.fontWeight,foreColor:t.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+t.config.xaxis.title.style.cssClass});f.add(g),i.add(f)}if(t.config.xaxis.axisBorder.show){var x=t.globals.barPadForNumericAxis,y=e.drawLine(t.globals.padHorizontal+t.config.xaxis.axisBorder.offsetX-x,this.offY,this.xaxisBorderWidth+x,this.offY,t.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&t.config.grid.show?this.elgrid.elGridBorders.add(y):i.add(y)}return i}},{key:"drawXAxisLabelAndGroup",value:function(t,e,i,a,n,o){var r,h=this,d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},f=[],g=[],x=this.w,y=d.xaxisFontSize||this.xaxisFontSize,C=d.xaxisFontFamily||this.xaxisFontFamily,k=d.xaxisForeColors||this.xaxisForeColors,M=d.fontWeight||x.config.xaxis.labels.style.fontWeight,D=d.cssClass||x.config.xaxis.labels.style.cssClass,I=x.globals.padHorizontal,c=a.length,u="category"===x.config.xaxis.type?x.globals.dataPoints:c;0===u&&c>u&&(u=c),n?(r=x.globals.gridWidth/Math.min(u>1?u-1:u,c-1),I=I+o(0,r)/2+x.config.xaxis.labels.offsetX):I=I+o(0,r=x.globals.gridWidth/u)+x.config.xaxis.labels.offsetX;for(var w=function(A){var T=I-o(A,r)/2+x.config.xaxis.labels.offsetX;0===A&&1===c&&r/2===I&&1===u&&(T=x.globals.gridWidth/2);var z=h.axesUtils.getLabel(a,x.globals.timescaleLabels,T,A,f,y,t),N=28;if(x.globals.rotateXLabels&&t&&(N=22),x.config.xaxis.title.text&&"top"===x.config.xaxis.position&&(N+=parseFloat(x.config.xaxis.title.style.fontSize)+2),t||(N=N+parseFloat(y)+(x.globals.xAxisLabelsHeight-x.globals.xAxisGroupLabelsHeight)+(x.globals.rotateXLabels?10:0)),z=void 0!==x.config.xaxis.tickAmount&&"dataPoints"!==x.config.xaxis.tickAmount&&"datetime"!==x.config.xaxis.type?h.axesUtils.checkLabelBasedOnTickamount(A,z,c):h.axesUtils.checkForOverflowingLabels(A,z,c,f,g),x.config.xaxis.labels.show){var F=e.drawText({x:z.x,y:h.offY+x.config.xaxis.labels.offsetY+N-("top"===x.config.xaxis.position?x.globals.xAxisHeight+x.config.xaxis.axisTicks.height-2:0),text:z.text,textAnchor:"middle",fontWeight:z.isBold?600:M,fontSize:y,fontFamily:C,foreColor:Array.isArray(k)?t&&x.config.xaxis.convertedCatToNumeric?k[x.globals.minX+A-1]:k[A]:k,isPlainText:!1,cssClass:(t?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+D});if(i.add(F),F.on("click",function(H){if("function"==typeof x.config.chart.events.xAxisLabelClick){var Y=Object.assign({},x,{labelIndex:A});x.config.chart.events.xAxisLabelClick(H,h.ctx,Y)}}),t){var B=document.createElementNS(x.globals.SVGNS,"title");B.textContent=Array.isArray(z.text)?z.text.join(" "):z.text,F.node.appendChild(B),""!==z.text&&(f.push(z.text),g.push(z))}}A<c-1&&(I+=o(A+1,r))},b=0;b<=c-1;b++)w(b)}},{key:"drawXaxisInversed",value:function(t){var e,i,a=this,n=this.w,o=new U(this.ctx),r=n.config.yaxis[0].opposite?n.globals.translateYAxisX[t]:0,h=o.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:t}),d=o.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+r+", 0)"});h.add(d);var f=[];if(n.config.yaxis[t].show)for(var g=0;g<this.xaxisLabels.length;g++)f.push(this.xaxisLabels[g]);i=-(e=n.globals.gridHeight/f.length)/2.2;var x=n.globals.yLabelFormatters[0],y=n.config.yaxis[0].labels;if(y.show)for(var C=function(m){var w=void 0===f[m]?"":f[m];w=x(w,{seriesIndex:t,dataPointIndex:m,w:n});var b=a.axesUtils.getYAxisForeColor(y.style.colors,t),A=0;Array.isArray(w)&&(A=w.length/2*parseInt(y.style.fontSize,10));var T=y.offsetX-15,z="end";a.yaxis.opposite&&(z="start"),"left"===n.config.yaxis[0].labels.align?(T=y.offsetX,z="start"):"center"===n.config.yaxis[0].labels.align?(T=y.offsetX,z="middle"):"right"===n.config.yaxis[0].labels.align&&(z="end");var N=o.drawText({x:T,y:i+e+y.offsetY-A,text:w,textAnchor:z,foreColor:Array.isArray(b)?b[m]:b,fontSize:y.style.fontSize,fontFamily:y.style.fontFamily,fontWeight:y.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+y.style.cssClass,maxWidth:y.maxWidth});d.add(N),N.on("click",function(H){if("function"==typeof n.config.chart.events.xAxisLabelClick){var Y=Object.assign({},n,{labelIndex:m});n.config.chart.events.xAxisLabelClick(H,a.ctx,Y)}});var F=document.createElementNS(n.globals.SVGNS,"title");if(F.textContent=Array.isArray(w)?w.join(" "):w,N.node.appendChild(F),0!==n.config.yaxis[t].labels.rotate){var B=o.rotateAroundCenter(N.node);N.node.setAttribute("transform","rotate(".concat(n.config.yaxis[t].labels.rotate," 0 ").concat(B.y,")"))}i+=e},k=0;k<=f.length-1;k++)C(k);if(void 0!==n.config.yaxis[0].title.text){var M=o.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+r+", 0)"}),D=o.drawText({x:n.config.yaxis[0].title.offsetX,y:n.globals.gridHeight/2+n.config.yaxis[0].title.offsetY,text:n.config.yaxis[0].title.text,textAnchor:"middle",foreColor:n.config.yaxis[0].title.style.color,fontSize:n.config.yaxis[0].title.style.fontSize,fontWeight:n.config.yaxis[0].title.style.fontWeight,fontFamily:n.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+n.config.yaxis[0].title.style.cssClass});M.add(D),h.add(M)}var I=0;this.isCategoryBarHorizontal&&n.config.yaxis[0].opposite&&(I=n.globals.gridWidth);var c=n.config.xaxis.axisBorder;if(c.show){var u=o.drawLine(n.globals.padHorizontal+c.offsetX+I,1+c.offsetY,n.globals.padHorizontal+c.offsetX+I,n.globals.gridHeight+c.offsetY,c.color,0);this.elgrid&&this.elgrid.elGridBorders&&n.config.grid.show?this.elgrid.elGridBorders.add(u):h.add(u)}return n.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(I,f.length,n.config.yaxis[0].axisBorder,n.config.yaxis[0].axisTicks,0,e,h),h}},{key:"drawXaxisTicks",value:function(t,e,i){var a=this.w,n=t;if(!(t<0||t-2>a.globals.gridWidth)){var o=this.offY+a.config.xaxis.axisTicks.offsetY;if(e=e+o+a.config.xaxis.axisTicks.height,"top"===a.config.xaxis.position&&(e=o-a.config.xaxis.axisTicks.height),a.config.xaxis.axisTicks.show){var r=new U(this.ctx).drawLine(t+a.config.xaxis.axisTicks.offsetX,o+a.config.xaxis.offsetY,n+a.config.xaxis.axisTicks.offsetX,e+a.config.xaxis.offsetY,a.config.xaxis.axisTicks.color);i.add(r),r.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var t=this.w,e=[],i=this.xaxisLabels.length,a=t.globals.padHorizontal;if(t.globals.timescaleLabels.length>0)for(var n=0;n<i;n++)e.push(a=this.xaxisLabels[n].position);else for(var o=i,r=0;r<o;r++){var h=o;t.globals.isXNumeric&&"bar"!==t.config.chart.type&&(h-=1),e.push(a+=t.globals.gridWidth/h)}return e}},{key:"xAxisLabelCorrections",value:function(){var t=this.w,e=new U(this.ctx),i=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),a=t.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),n=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),o=t.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(t.globals.rotateXLabels||t.config.xaxis.labels.rotateAlways)for(var r=0;r<a.length;r++){var h=e.rotateAroundCenter(a[r]);h.y=h.y-1,h.x=h.x+1,a[r].setAttribute("transform","rotate(".concat(t.config.xaxis.labels.rotate," ").concat(h.x," ").concat(h.y,")")),a[r].setAttribute("text-anchor","end"),i.setAttribute("transform","translate(0, ".concat(-10,")")),t.config.xaxis.labels.trim&&Array.prototype.forEach.call(a[r].childNodes,function(y){e.placeTextWithEllipsis(y,y.textContent,t.globals.xAxisLabelsHeight-("bottom"===t.config.legend.position?20:10))})}else!function(){for(var y=t.globals.gridWidth/(t.globals.labels.length+1),C=0;C<a.length;C++)t.config.xaxis.labels.trim&&"datetime"!==t.config.xaxis.type&&Array.prototype.forEach.call(a[C].childNodes,function(M){e.placeTextWithEllipsis(M,M.textContent,y)})}();if(n.length>0){var f=n[n.length-1].getBBox(),g=n[0].getBBox();f.x<-20&&n[n.length-1].parentNode.removeChild(n[n.length-1]),g.x+g.width>t.globals.gridWidth&&!t.globals.isBarHorizontal&&n[0].parentNode.removeChild(n[0]);for(var x=0;x<o.length;x++)e.placeTextWithEllipsis(o[x],o[x].textContent,t.config.yaxis[0].labels.maxWidth-(t.config.yaxis[0].title.text?2*parseFloat(t.config.yaxis[0].title.style.fontSize):0)-15)}}}]),E}(),ai=function(){function E(t){ot(this,E),this.ctx=t,this.w=t.w;var e=this.w;this.xaxisLabels=e.globals.labels.slice(),this.axesUtils=new Zt(t),this.isRangeBar=e.globals.seriesRange.length&&e.globals.isBarHorizontal,e.globals.timescaleLabels.length>0&&(this.xaxisLabels=e.globals.timescaleLabels.slice())}return v(E,[{key:"drawGridArea",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.w,i=new U(this.ctx);t||(t=i.group({class:"apexcharts-grid"}));var a=i.drawLine(e.globals.padHorizontal,1,e.globals.padHorizontal,e.globals.gridHeight,"transparent"),n=i.drawLine(e.globals.padHorizontal,e.globals.gridHeight,e.globals.gridWidth,e.globals.gridHeight,"transparent");return t.add(n),t.add(a),t}},{key:"drawGrid",value:function(){if(this.w.globals.axisCharts){var t=this.renderGrid();return this.drawGridArea(t.el),t}return null}},{key:"createGridMask",value:function(){var t=this.w,e=t.globals,i=new U(this.ctx),a=Array.isArray(t.config.stroke.width)?Math.max.apply(Math,Vt(t.config.stroke.width)):t.config.stroke.width,n=function(f){var g=document.createElementNS(e.SVGNS,"clipPath");return g.setAttribute("id",f),g};e.dom.elGridRectMask=n("gridRectMask".concat(e.cuid)),e.dom.elGridRectBarMask=n("gridRectBarMask".concat(e.cuid)),e.dom.elGridRectMarkerMask=n("gridRectMarkerMask".concat(e.cuid)),e.dom.elForecastMask=n("forecastMask".concat(e.cuid)),e.dom.elNonForecastMask=n("nonForecastMask".concat(e.cuid));var o=0,r=0;(["bar","rangeBar","candlestick","boxPlot"].includes(t.config.chart.type)||t.globals.comboBarCount>0)&&t.globals.isXNumeric&&!t.globals.isBarHorizontal&&(o=Math.max(t.config.grid.padding.left,e.barPadForNumericAxis),r=Math.max(t.config.grid.padding.right,e.barPadForNumericAxis)),e.dom.elGridRect=i.drawRect(0,0,e.gridWidth,e.gridHeight,0,"#fff"),e.dom.elGridRectBar=i.drawRect(-a/2-o-2,-a/2-2,e.gridWidth+a+r+o+4,e.gridHeight+a+4,0,"#fff");var h=t.globals.markers.largestSize;e.dom.elGridRectMarker=i.drawRect(-h,-h,e.gridWidth+2*h,e.gridHeight+2*h,0,"#fff"),e.dom.elGridRectMask.appendChild(e.dom.elGridRect.node),e.dom.elGridRectBarMask.appendChild(e.dom.elGridRectBar.node),e.dom.elGridRectMarkerMask.appendChild(e.dom.elGridRectMarker.node);var d=e.dom.baseEl.querySelector("defs");d.appendChild(e.dom.elGridRectMask),d.appendChild(e.dom.elGridRectBarMask),d.appendChild(e.dom.elGridRectMarkerMask),d.appendChild(e.dom.elForecastMask),d.appendChild(e.dom.elNonForecastMask)}},{key:"_drawGridLines",value:function(t){var e=t.i,i=t.x1,r=t.xCount,d=this.w;if(!(0===e&&d.globals.skipFirstTimelinelabel||e===r-1&&d.globals.skipLastTimelinelabel&&!d.config.xaxis.labels.formatter||"radar"===d.config.chart.type)){d.config.grid.xaxis.lines.show&&this._drawGridLine({i:e,x1:i,y1:t.y1,x2:t.x2,y2:t.y2,xCount:r,parent:t.parent});var f=0;if(d.globals.hasXaxisGroups&&"between"===d.config.xaxis.tickPlacement){var g=d.globals.groups;if(g){for(var x=0,y=0;x<e&&y<g.length;y++)x+=g[y].cols;x===e&&(f=.6*d.globals.xAxisLabelsHeight)}}new Pe(this.ctx).drawXaxisTicks(i,f,d.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(t){var e=t.i,i=t.x1,a=t.y1,n=t.x2,o=t.y2,r=t.xCount,h=t.parent,d=this.w,f=h.node.classList.contains("apexcharts-gridlines-horizontal"),g=d.globals.barPadForNumericAxis,x=0===a&&0===o||0===i&&0===n||a===d.globals.gridHeight&&o===d.globals.gridHeight||d.globals.isBarHorizontal&&(0===e||e===r-1),y=new U(this).drawLine(i-(f?g:0),a,n+(f?g:0),o,d.config.grid.borderColor,d.config.grid.strokeDashArray);y.node.classList.add("apexcharts-gridline"),x&&d.config.grid.show?this.elGridBorders.add(y):h.add(y)}},{key:"_drawGridBandRect",value:function(t){var e=t.c,i=t.x1,a=t.y1,n=t.x2,o=t.y2,r=t.type,h=this.w,d=new U(this.ctx),f=h.globals.barPadForNumericAxis,x=d.drawRect(i-("row"===r?f:0),a,n+("row"===r?2*f:0),o,0,h.config.grid[r].colors[e],h.config.grid[r].opacity);this.elg.add(x),x.attr("clip-path","url(#gridRectMask".concat(h.globals.cuid,")")),x.node.classList.add("apexcharts-grid-".concat(r))}},{key:"_drawXYLines",value:function(t){var e=this,i=t.xCount,a=t.tickAmount,n=this.w;if(n.config.grid.xaxis.lines.show||n.config.xaxis.axisTicks.show){var o,r=n.globals.padHorizontal,h=n.globals.gridHeight;n.globals.timescaleLabels.length?function(C){for(var k=C.xC,D=C.y1,c=C.y2,u=0;u<k;u++)e._drawGridLines({i:u,x1:e.xaxisLabels[u].position,y1:D,x2:e.xaxisLabels[u].position,y2:c,xCount:i,parent:e.elgridLinesV})}({xC:i,x1:r,y1:0,x2:o,y2:h}):(n.globals.isXNumeric&&(i=n.globals.xAxisScale.result.length),function(C){for(var k=C.xC,M=C.x1,D=C.y1,I=C.x2,c=C.y2,u=0;u<k+(n.globals.isXNumeric?0:1);u++)0===u&&1===k&&1===n.globals.dataPoints&&(I=M=n.globals.gridWidth/2),e._drawGridLines({i:u,x1:M,y1:D,x2:I,y2:c,xCount:i,parent:e.elgridLinesV}),I=M+=n.globals.gridWidth/(n.globals.isXNumeric?k-1:k)}({xC:i,x1:r,y1:0,x2:o,y2:h}))}if(n.config.grid.yaxis.lines.show){var d=0,f=0,g=n.globals.gridWidth,x=a+1;this.isRangeBar&&(x=n.globals.labels.length);for(var y=0;y<x+(this.isRangeBar?1:0);y++)this._drawGridLine({i:y,xCount:x+(this.isRangeBar?1:0),x1:0,y1:d,x2:g,y2:f,parent:this.elgridLinesH}),f=d+=n.globals.gridHeight/(this.isRangeBar?x:a)}}},{key:"_drawInvertedXYLines",value:function(t){var e=t.xCount,i=this.w;if(i.config.grid.xaxis.lines.show||i.config.xaxis.axisTicks.show)for(var a,n=i.globals.padHorizontal,o=i.globals.gridHeight,r=0;r<e+1;r++)i.config.grid.xaxis.lines.show&&this._drawGridLine({i:r,xCount:e+1,x1:n,y1:0,x2:a,y2:o,parent:this.elgridLinesV}),new Pe(this.ctx).drawXaxisTicks(n,0,i.globals.dom.elGraphical),a=n+=i.globals.gridWidth/e;if(i.config.grid.yaxis.lines.show)for(var h=0,d=0,f=i.globals.gridWidth,g=0;g<i.globals.dataPoints+1;g++)this._drawGridLine({i:g,xCount:i.globals.dataPoints+1,x1:0,y1:h,x2:f,y2:d,parent:this.elgridLinesH}),d=h+=i.globals.gridHeight/i.globals.dataPoints}},{key:"renderGrid",value:function(){var t=this.w,e=t.globals,i=new U(this.ctx);this.elg=i.group({class:"apexcharts-grid"}),this.elgridLinesH=i.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=i.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=i.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),t.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var a=0;a<e.seriesYAxisMap.length&&e.ignoreYAxisIndexes.includes(a);)a++;a===e.seriesYAxisMap.length&&(a=0);var n,r,h,d,o=e.yAxisScale[a].result.length-1;return!e.isBarHorizontal||this.isRangeBar?(n=this.xaxisLabels.length,this.isRangeBar&&(o=e.labels.length,t.config.xaxis.tickAmount&&t.config.xaxis.labels.formatter&&(n=t.config.xaxis.tickAmount),(null===(r=e.yAxisScale)||void 0===r||null===(h=r[a])||void 0===h||null===(d=h.result)||void 0===d?void 0:d.length)>0&&"datetime"!==t.config.xaxis.type&&(n=e.yAxisScale[a].result.length-1)),this._drawXYLines({xCount:n,tickAmount:o})):this._drawInvertedXYLines({xCount:n=o,tickAmount:o=e.xTickAmount}),this.drawGridBands(n,o),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:e.gridWidth/n}}},{key:"drawGridBands",value:function(t,e){var i,a,n=this,o=this.w;if((null===(i=o.config.grid.row.colors)||void 0===i?void 0:i.length)>0&&function(C,k,M,D,I,c){for(var u=0,m=0;u<k;u++,m++)m>=o.config.grid.row.colors.length&&(m=0),n._drawGridBandRect({c:m,x1:0,y1:D,x2:I,y2:c,type:"row"}),D+=o.globals.gridHeight/e}(0,e,0,0,o.globals.gridWidth,o.globals.gridHeight/e),(null===(a=o.config.grid.column.colors)||void 0===a?void 0:a.length)>0){var r=o.globals.isBarHorizontal||"on"!==o.config.xaxis.tickPlacement||"category"!==o.config.xaxis.type&&!o.config.xaxis.convertedCatToNumeric?t:t-1;o.globals.isXNumeric&&(r=o.globals.xAxisScale.result.length-1);for(var h=o.globals.padHorizontal,d=o.globals.padHorizontal+o.globals.gridWidth/r,f=o.globals.gridHeight,g=0,x=0;g<t;g++,x++){var y;x>=o.config.grid.column.colors.length&&(x=0),"datetime"===o.config.xaxis.type&&(h=this.xaxisLabels[g].position,d=((null===(y=this.xaxisLabels[g+1])||void 0===y?void 0:y.position)||o.globals.gridWidth)-this.xaxisLabels[g].position),this._drawGridBandRect({c:x,x1:h,y1:0,x2:d,y2:f,type:"column"}),h+=o.globals.gridWidth/r}}}}]),E}(),Ne=function(){function E(t){ot(this,E),this.ctx=t,this.w=t.w,this.coreUtils=new Ht(this.ctx)}return v(E,[{key:"niceScale",value:function(t,e){var i,a,n,o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,h=1e-11,d=this.w,f=d.globals;f.isBarHorizontal?(i=d.config.xaxis,a=Math.max((f.svgWidth-100)/25,2)):(i=d.config.yaxis[r],a=Math.max((f.svgHeight-100)/15,2)),X.isNumber(a)||(a=10),n=null!=i.min,o=void 0!==i.max&&null!==i.min;var g=null!=i.stepSize,x=null!=i.tickAmount,y=x?i.tickAmount:f.niceScaleDefaultTicks[Math.min(Math.round(a/2),f.niceScaleDefaultTicks.length-1)];if(f.isMultipleYAxis&&!x&&f.multiAxisTickAmount>0&&(y=f.multiAxisTickAmount,x=!0),y="dataPoints"===y?f.dataPoints-1:Math.abs(Math.round(y)),(t===Number.MIN_VALUE&&0===e||!X.isNumber(t)&&!X.isNumber(e)||t===Number.MIN_VALUE&&e===-Number.MAX_VALUE)&&(t=X.isNumber(i.min)?i.min:0,e=X.isNumber(i.max)?i.max:t+y,f.allSeriesCollapsed=!1),t>e){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var C=e;e=t,t=C}else t===e&&(t=0===t?0:t-1,e=0===e?2:e+1);var k=[];y<1&&(y=1);var M=y,D=Math.abs(e-t);!n&&t>0&&t/D<.15&&(t=0,n=!0),!o&&e<0&&-e/D<.15&&(e=0,o=!0);var I=(D=Math.abs(e-t))/M,c=I,u=Math.floor(Math.log10(c)),m=Math.pow(10,u),w=Math.ceil(c/m);if(I=c=(w=f.niceScaleAllowedMagMsd[0===f.yValueDecimal?0:1][w])*m,f.isBarHorizontal&&i.stepSize&&"datetime"!==i.type?(I=i.stepSize,g=!0):g&&(I=i.stepSize),g&&i.forceNiceScale){var b=Math.floor(Math.log10(I));I*=Math.pow(10,u-b)}if(n&&o){var A=D/M;if(x)if(g)if(0!=X.mod(D,I)){var T=X.getGCD(I,A);I=A/T<10?T:A}else 0==X.mod(I,A)?I=A:(A=I,x=!1);else I=A;else if(g)0==X.mod(D,I)?A=I:I=A;else if(0==X.mod(D,I))A=I;else{A=D/(M=Math.ceil(D/I));var z=X.getGCD(D,I);D/z<a&&(A=z),I=A}M=Math.round(D/I)}else{if(n||o){if(o)if(x)t=e-I*M;else{var N=t;t=I*Math.floor(t/I),Math.abs(e-t)/X.getGCD(D,I)>a&&(t=e-I*y,t+=I*Math.floor((N-t)/I))}else if(n)if(x)e=t+I*M;else{var F=e;e=I*Math.ceil(e/I),Math.abs(e-t)/X.getGCD(D,I)>a&&(e=t+I*y,e+=I*Math.ceil((F-e)/I))}}else if(f.isMultipleYAxis&&x){var B=I*Math.floor(t/I),H=B+I*M;H<e&&(I*=2),H=e,e=(t=B)+I*M,D=Math.abs(e-t),t>0&&t<Math.abs(H-e)&&(t=0,e=I*M),e<0&&-e<Math.abs(B-t)&&(e=0,t=-I*M)}else t=I*Math.floor(t/I),e=I*Math.ceil(e/I);D=Math.abs(e-t),I=X.getGCD(D,I),M=Math.round(D/I)}if(x||n||o||(M=Math.ceil((D-h)/(I+h)))>16&&X.getPrimeFactors(M).length<2&&M++,!x&&i.forceNiceScale&&0===f.yValueDecimal&&M>D&&(M=D,I=Math.round(D/M)),M>a&&(!x&&!g||i.forceNiceScale)){var Y=X.getPrimeFactors(M),V=Y.length-1,tt=M;t:for(var et=0;et<V;et++)for(var rt=0;rt<=V-et;rt++){for(var st=Math.min(rt+et,V),ht=tt,bt=1,mt=rt;mt<=st;mt++)bt*=Y[mt];if((ht/=bt)<a){tt=ht;break t}}I=tt===M?D:D/tt,M=Math.round(D/I)}f.isMultipleYAxis&&0==f.multiAxisTickAmount&&f.ignoreYAxisIndexes.indexOf(r)<0&&(f.multiAxisTickAmount=M);var kt=t-I,Rt=I*h;do{k.push(X.stripNumber(kt+=I,7))}while(e-kt>Rt);return{result:k,niceMin:k[0],niceMax:k[k.length-1]}}},{key:"linearScale",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=Math.abs(e-t),r=[];if(t===e)return{result:r=[t],niceMin:r[0],niceMax:r[r.length-1]};"dataPoints"===(i=this._adjustTicksForSmallRange(i,a,o))&&(i=this.w.globals.dataPoints-1),n||(n=o/i),n=Math.round(10*(n+Number.EPSILON))/10,i===Number.MAX_VALUE&&(i=5,n=1);for(var h=t;i>=0;)r.push(h),h=X.preciseAddition(h,n),i-=1;return{result:r,niceMin:r[0],niceMax:r[r.length-1]}}},{key:"logarithmicScaleNice",value:function(t,e,i){e<=0&&(e=Math.max(t,i)),t<=0&&(t=Math.min(e,i));for(var a=[],n=Math.ceil(Math.log(e)/Math.log(i)+1),o=Math.floor(Math.log(t)/Math.log(i));o<n;o++)a.push(Math.pow(i,o));return{result:a,niceMin:a[0],niceMax:a[a.length-1]}}},{key:"logarithmicScale",value:function(t,e,i){e<=0&&(e=Math.max(t,i)),t<=0&&(t=Math.min(e,i));for(var a=[],n=Math.log(e)/Math.log(i),o=Math.log(t)/Math.log(i),r=n-o,h=Math.round(r),d=r/h,f=0,g=o;f<h;f++,g+=d)a.push(Math.pow(i,g));return a.push(Math.pow(i,n)),{result:a,niceMin:t,niceMax:e}}},{key:"_adjustTicksForSmallRange",value:function(t,e,i){var a=t;if(void 0!==e&&this.w.config.yaxis[e].labels.formatter&&void 0===this.w.config.yaxis[e].tickAmount){var n=Number(this.w.config.yaxis[e].labels.formatter(1));X.isNumber(n)&&0===this.w.globals.yValueDecimal&&(a=Math.ceil(i))}return a<t?a:t}},{key:"setYScaleForIndex",value:function(t,e,i){var a=this.w.globals,n=this.w.config,o=a.isBarHorizontal?n.xaxis:n.yaxis[t];void 0===a.yAxisScale[t]&&(a.yAxisScale[t]=[]);var r=Math.abs(i-e);o.logarithmic&&r<=5&&(a.invalidLogScale=!0),o.logarithmic&&r>5?(a.allSeriesCollapsed=!1,a.yAxisScale[t]=o.forceNiceScale?this.logarithmicScaleNice(e,i,o.logBase):this.logarithmicScale(e,i,o.logBase)):i!==-Number.MAX_VALUE&&X.isNumber(i)&&e!==Number.MAX_VALUE&&X.isNumber(e)?(a.allSeriesCollapsed=!1,a.yAxisScale[t]=this.niceScale(e,i,t)):a.yAxisScale[t]=this.niceScale(Number.MIN_VALUE,0,t)}},{key:"setXScale",value:function(t,e){var i=this.w,a=i.globals,n=Math.abs(e-t);if(e!==-Number.MAX_VALUE&&X.isNumber(e)){var o=a.xTickAmount+1;n<10&&n>1&&(o=n),a.xAxisScale=this.linearScale(t,e,o,0,i.config.xaxis.stepSize)}else a.xAxisScale=this.linearScale(0,10,10);return a.xAxisScale}},{key:"scaleMultipleYAxes",value:function(){var t=this,e=this.w.config,i=this.w.globals;this.coreUtils.setSeriesYAxisMappings();var a=i.seriesYAxisMap,n=i.minYArr,o=i.maxYArr;i.allSeriesCollapsed=!0,i.barGroups=[],a.forEach(function(r,h){var d=[];r.forEach(function(f){var g=e.series[f].group;d.indexOf(g)<0&&d.push(g)}),r.length>0?function(){var f,g,x=Number.MAX_VALUE,y=-Number.MAX_VALUE,C=x,k=y;if(e.chart.stacked)!function(){var I=new Array(i.dataPoints).fill(0),c=[],u=[],m=[];d.forEach(function(){c.push(I.map(function(){return Number.MIN_VALUE})),u.push(I.map(function(){return Number.MIN_VALUE})),m.push(I.map(function(){return Number.MIN_VALUE}))});for(var w=function(A){!f&&e.series[r[A]].type&&(f=e.series[r[A]].type);var T=r[A];g=e.series[T].group?e.series[T].group:"axis-".concat(h),!(i.collapsedSeriesIndices.indexOf(T)<0&&i.ancillaryCollapsedSeriesIndices.indexOf(T)<0)||(i.allSeriesCollapsed=!1,d.forEach(function(z,N){if(e.series[T].group===z)for(var F=0;F<i.series[T].length;F++){var B=i.series[T][F];B>=0?u[N][F]+=B:m[N][F]+=B,c[N][F]+=B,C=Math.min(C,B),k=Math.max(k,B)}})),"bar"!==f&&"column"!==f||i.barGroups.push(g)},b=0;b<r.length;b++)w(b);f||(f=e.chart.type),"bar"===f||"column"===f?d.forEach(function(A,T){x=Math.min(x,Math.min.apply(null,m[T])),y=Math.max(y,Math.max.apply(null,u[T]))}):(d.forEach(function(A,T){C=Math.min(C,Math.min.apply(null,c[T])),k=Math.max(k,Math.max.apply(null,c[T]))}),x=C,y=k),x===Number.MIN_VALUE&&y===Number.MIN_VALUE&&(y=-Number.MAX_VALUE)}();else for(var M=0;M<r.length;M++){var D=r[M];x=Math.min(x,n[D]),y=Math.max(y,o[D]),!(i.collapsedSeriesIndices.indexOf(D)<0&&i.ancillaryCollapsedSeriesIndices.indexOf(D)<0)||(i.allSeriesCollapsed=!1)}void 0!==e.yaxis[h].min&&(x="function"==typeof e.yaxis[h].min?e.yaxis[h].min(x):e.yaxis[h].min),void 0!==e.yaxis[h].max&&(y="function"==typeof e.yaxis[h].max?e.yaxis[h].max(y):e.yaxis[h].max),i.barGroups=i.barGroups.filter(function(I,c,u){return u.indexOf(I)===c}),t.setYScaleForIndex(h,x,y),r.forEach(function(I){n[I]=i.yAxisScale[h].niceMin,o[I]=i.yAxisScale[h].niceMax})}():t.setYScaleForIndex(h,0,-Number.MAX_VALUE)})}}]),E}(),We=function(){function E(t){ot(this,E),this.ctx=t,this.w=t.w,this.scales=new Ne(t)}return v(E,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-Number.MAX_VALUE,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=this.w.config,o=this.w.globals,r=-Number.MAX_VALUE,h=Number.MIN_VALUE;null===a&&(a=t+1);var d=o.series,f=d,g=d;"candlestick"===n.chart.type?(f=o.seriesCandleL,g=o.seriesCandleH):"boxPlot"===n.chart.type?(f=o.seriesCandleO,g=o.seriesCandleC):o.isRangeData&&(f=o.seriesRangeStart,g=o.seriesRangeEnd);var x=!1;if(o.seriesX.length>=a){var y,C=null===(y=o.brushSource)||void 0===y?void 0:y.w.config.chart.brush;(n.chart.zoom.enabled&&n.chart.zoom.autoScaleYaxis||null!=C&&C.enabled&&null!=C&&C.autoScaleYaxis)&&(x=!0)}for(var k=t;k<a;k++){o.dataPoints=Math.max(o.dataPoints,d[k].length);var M=n.series[k].type;o.categoryLabels.length&&(o.dataPoints=o.categoryLabels.filter(function(m){return void 0!==m}).length),o.labels.length&&"datetime"!==n.xaxis.type&&0!==o.series.reduce(function(m,w){return m+w.length},0)&&(o.dataPoints=Math.max(o.dataPoints,o.labels.length));var D=0,I=d[k].length-1;if(x){if(n.xaxis.min)for(;D<I&&o.seriesX[k][D]<n.xaxis.min;D++);if(n.xaxis.max)for(;I>D&&o.seriesX[k][I]>n.xaxis.max;I--);}for(var c=D;c<=I&&c<o.series[k].length;c++){var u=d[k][c];if(null!==u&&X.isNumber(u)){switch(void 0!==g[k][c]&&(r=Math.max(r,g[k][c]),e=Math.min(e,g[k][c])),void 0!==f[k][c]&&(e=Math.min(e,f[k][c]),i=Math.max(i,f[k][c])),M){case"candlestick":void 0!==o.seriesCandleC[k][c]&&(r=Math.max(r,o.seriesCandleH[k][c]),e=Math.min(e,o.seriesCandleL[k][c]));break;case"boxPlot":void 0!==o.seriesCandleC[k][c]&&(r=Math.max(r,o.seriesCandleC[k][c]),e=Math.min(e,o.seriesCandleO[k][c]))}M&&"candlestick"!==M&&"boxPlot"!==M&&"rangeArea"!==M&&"rangeBar"!==M&&(r=Math.max(r,o.series[k][c]),e=Math.min(e,o.series[k][c])),i=r,o.seriesGoals[k]&&o.seriesGoals[k][c]&&Array.isArray(o.seriesGoals[k][c])&&o.seriesGoals[k][c].forEach(function(m){h!==Number.MIN_VALUE&&(h=Math.min(h,m.value),e=h),r=Math.max(r,m.value),i=r}),X.isFloat(u)&&(u=X.noExponents(u),o.yValueDecimal=Math.max(o.yValueDecimal,u.toString().split(".")[1].length)),h>f[k][c]&&f[k][c]<0&&(h=f[k][c])}else o.hasNullValues=!0}"bar"!==M&&"column"!==M||(h<0&&r<0&&(r=0,i=Math.max(i,0)),h===Number.MIN_VALUE&&(h=0,e=Math.min(e,0)))}return"rangeBar"===n.chart.type&&o.seriesRangeStart.length&&o.isBarHorizontal&&(h=e),"bar"===n.chart.type&&(h<0&&r<0&&(r=0),h===Number.MIN_VALUE&&(h=0)),{minY:h,maxY:r,lowestY:e,highestY:i}}},{key:"setYRange",value:function(){var t=this.w.globals,e=this.w.config;t.maxY=-Number.MAX_VALUE,t.minY=Number.MIN_VALUE;var i,a=Number.MAX_VALUE;if(t.isMultipleYAxis){a=Number.MAX_VALUE;for(var n=0;n<t.series.length;n++)i=this.getMinYMaxY(n),t.minYArr[n]=i.lowestY,t.maxYArr[n]=i.highestY,a=Math.min(a,i.lowestY)}return i=this.getMinYMaxY(0,a,null,t.series.length),"bar"===e.chart.type?(t.minY=i.minY,t.maxY=i.maxY):(t.minY=i.lowestY,t.maxY=i.highestY),a=i.lowestY,e.chart.stacked&&this._setStackedMinMax(),"line"===e.chart.type||"area"===e.chart.type||"scatter"===e.chart.type||"candlestick"===e.chart.type||"boxPlot"===e.chart.type||"rangeBar"===e.chart.type&&!t.isBarHorizontal?t.minY===Number.MIN_VALUE&&a!==-Number.MAX_VALUE&&a!==t.maxY&&(t.minY=a):t.minY=t.minY!==Number.MIN_VALUE?Math.min(i.minY,t.minY):i.minY,e.yaxis.forEach(function(o,r){void 0!==o.max&&("number"==typeof o.max?t.maxYArr[r]=o.max:"function"==typeof o.max&&(t.maxYArr[r]=o.max(t.isMultipleYAxis?t.maxYArr[r]:t.maxY)),t.maxY=t.maxYArr[r]),void 0!==o.min&&("number"==typeof o.min?t.minYArr[r]=o.min:"function"==typeof o.min&&(t.minYArr[r]=o.min(t.isMultipleYAxis?t.minYArr[r]===Number.MIN_VALUE?0:t.minYArr[r]:t.minY)),t.minY=t.minYArr[r])}),t.isBarHorizontal&&["min","max"].forEach(function(o){void 0!==e.xaxis[o]&&"number"==typeof e.xaxis[o]&&("min"===o?t.minY=e.xaxis[o]:t.maxY=e.xaxis[o])}),t.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),t.minY=a):(this.scales.setYScaleForIndex(0,t.minY,t.maxY),t.minY=t.yAxisScale[0].niceMin,t.maxY=t.yAxisScale[0].niceMax,t.minYArr[0]=t.minY,t.maxYArr[0]=t.maxY),t.barGroups=[],t.lineGroups=[],t.areaGroups=[],e.series.forEach(function(o){switch(o.type||e.chart.type){case"bar":case"column":t.barGroups.push(o.group);break;case"line":t.lineGroups.push(o.group);break;case"area":t.areaGroups.push(o.group)}}),t.barGroups=t.barGroups.filter(function(o,r,h){return h.indexOf(o)===r}),t.lineGroups=t.lineGroups.filter(function(o,r,h){return h.indexOf(o)===r}),t.areaGroups=t.areaGroups.filter(function(o,r,h){return h.indexOf(o)===r}),{minY:t.minY,maxY:t.maxY,minYArr:t.minYArr,maxYArr:t.maxYArr,yAxisScale:t.yAxisScale}}},{key:"setXRange",value:function(){var t=this.w.globals,e=this.w.config,i="numeric"===e.xaxis.type||"datetime"===e.xaxis.type||"category"===e.xaxis.type&&!t.noLabelsProvided||t.noLabelsProvided||t.isXNumeric;if(t.isXNumeric&&function(){for(var h=0;h<t.series.length;h++)if(t.labels[h])for(var d=0;d<t.labels[h].length;d++)null!==t.labels[h][d]&&X.isNumber(t.labels[h][d])&&(t.maxX=Math.max(t.maxX,t.labels[h][d]),t.initialMaxX=Math.max(t.maxX,t.labels[h][d]),t.minX=Math.min(t.minX,t.labels[h][d]),t.initialMinX=Math.min(t.minX,t.labels[h][d]))}(),t.noLabelsProvided&&0===e.xaxis.categories.length&&(t.maxX=t.labels[t.labels.length-1],t.initialMaxX=t.labels[t.labels.length-1],t.minX=1,t.initialMinX=1),t.isXNumeric||t.noLabelsProvided||t.dataFormatXNumeric){var a=10;if(void 0===e.xaxis.tickAmount)a=Math.round(t.svgWidth/150),"numeric"===e.xaxis.type&&t.dataPoints<30&&(a=t.dataPoints-1),a>t.dataPoints&&0!==t.dataPoints&&(a=t.dataPoints-1);else if("dataPoints"===e.xaxis.tickAmount){if(t.series.length>1&&(a=t.series[t.maxValsInArrayIndex].length-1),t.isXNumeric){var n=t.maxX-t.minX;n<30&&(a=n-1)}}else a=e.xaxis.tickAmount;if(t.xTickAmount=a,void 0!==e.xaxis.max&&"number"==typeof e.xaxis.max&&(t.maxX=e.xaxis.max),void 0!==e.xaxis.min&&"number"==typeof e.xaxis.min&&(t.minX=e.xaxis.min),void 0!==e.xaxis.range&&(t.minX=t.maxX-e.xaxis.range),t.minX!==Number.MAX_VALUE&&t.maxX!==-Number.MAX_VALUE)if(e.xaxis.convertedCatToNumeric&&!t.dataFormatXNumeric){for(var o=[],r=t.minX-1;r<t.maxX;r++)o.push(r+1);t.xAxisScale={result:o,niceMin:o[0],niceMax:o[o.length-1]}}else t.xAxisScale=this.scales.setXScale(t.minX,t.maxX);else t.xAxisScale=this.scales.linearScale(0,a,a,0,e.xaxis.stepSize),t.noLabelsProvided&&t.labels.length>0&&(t.xAxisScale=this.scales.linearScale(1,t.labels.length,a-1,0,e.xaxis.stepSize),t.seriesX=t.labels.slice());i&&(t.labels=t.xAxisScale.result.slice())}return t.isBarHorizontal&&t.labels.length&&(t.xTickAmount=t.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:t.minX,maxX:t.maxX}}},{key:"setZRange",value:function(){var t=this.w.globals;if(t.isDataXYZ)for(var e=0;e<t.series.length;e++)if(void 0!==t.seriesZ[e])for(var i=0;i<t.seriesZ[e].length;i++)null!==t.seriesZ[e][i]&&X.isNumber(t.seriesZ[e][i])&&(t.maxZ=Math.max(t.maxZ,t.seriesZ[e][i]),t.minZ=Math.min(t.minZ,t.seriesZ[e][i]))}},{key:"_handleSingleDataPoint",value:function(){var t=this.w.globals,e=this.w.config;if(t.minX===t.maxX){var i=new Pt(this.ctx);if("datetime"===e.xaxis.type){var a=i.getDate(t.minX);e.xaxis.labels.datetimeUTC?a.setUTCDate(a.getUTCDate()-2):a.setDate(a.getDate()-2),t.minX=new Date(a).getTime();var n=i.getDate(t.maxX);e.xaxis.labels.datetimeUTC?n.setUTCDate(n.getUTCDate()+2):n.setDate(n.getDate()+2),t.maxX=new Date(n).getTime()}else("numeric"===e.xaxis.type||"category"===e.xaxis.type&&!t.noLabelsProvided)&&(t.minX=t.minX-2,t.initialMinX=t.minX,t.maxX=t.maxX+2,t.initialMaxX=t.maxX)}}},{key:"_getMinXDiff",value:function(){var t=this.w.globals;t.isXNumeric&&t.seriesX.forEach(function(e,i){1===e.length&&e.push(t.seriesX[t.maxValsInArrayIndex][t.seriesX[t.maxValsInArrayIndex].length-1]);var a=e.slice();a.sort(function(n,o){return n-o}),a.forEach(function(n,o){if(o>0){var r=n-a[o-1];r>0&&(t.minXDiff=Math.min(r,t.minXDiff))}}),1!==t.dataPoints&&t.minXDiff!==Number.MAX_VALUE||(t.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var t=this,e=this.w.globals;if(e.series.length){var i=e.seriesGroups;i.length||(i=[this.w.globals.seriesNames.map(function(o){return o})]);var a={},n={};i.forEach(function(o){a[o]=[],n[o]=[],t.w.config.series.map(function(r,h){return o.indexOf(e.seriesNames[h])>-1?h:null}).filter(function(r){return null!==r}).forEach(function(r){for(var h=0;h<e.series[e.maxValsInArrayIndex].length;h++){var d,f,g,x;void 0===a[o][h]&&(a[o][h]=0,n[o][h]=0),(t.w.config.chart.stacked&&!e.comboCharts||t.w.config.chart.stacked&&e.comboCharts&&(!t.w.config.chart.stackOnlyBar||"bar"===(null===(d=t.w.config.series)||void 0===d||null===(f=d[r])||void 0===f?void 0:f.type)||"column"===(null===(g=t.w.config.series)||void 0===g||null===(x=g[r])||void 0===x?void 0:x.type)))&&null!==e.series[r][h]&&X.isNumber(e.series[r][h])&&(e.series[r][h]>0?a[o][h]+=parseFloat(e.series[r][h])+1e-4:n[o][h]+=parseFloat(e.series[r][h]))}})}),Object.entries(a).forEach(function(o){var r=je(o,1)[0];a[r].forEach(function(h,d){e.maxY=Math.max(e.maxY,a[r][d]),e.minY=Math.min(e.minY,n[r][d])})})}}}]),E}(),Be=function(){function E(t,e){ot(this,E),this.ctx=t,this.elgrid=e,this.w=t.w;var i=this.w;this.xaxisFontSize=i.config.xaxis.labels.style.fontSize,this.axisFontFamily=i.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=i.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal="bar"===i.config.chart.type&&i.config.plotOptions.bar.horizontal,this.xAxisoffX="bottom"===i.config.xaxis.position?i.globals.gridHeight:0,this.drawnLabels=[],this.axesUtils=new Zt(t)}return v(E,[{key:"drawYaxis",value:function(t){var e=this.w,i=new U(this.ctx),a=e.config.yaxis[t].labels.style,n=a.fontSize,o=a.fontFamily,r=a.fontWeight,h=i.group({class:"apexcharts-yaxis",rel:t,transform:"translate(".concat(e.globals.translateYAxisX[t],", 0)")});if(this.axesUtils.isYAxisHidden(t))return h;var d=i.group({class:"apexcharts-yaxis-texts-g"});h.add(d);var f=e.globals.yAxisScale[t].result.length-1,g=e.globals.gridHeight/f,x=e.globals.yLabelFormatters[t],y=this.axesUtils.checkForReversedLabels(t,e.globals.yAxisScale[t].result.slice());if(e.config.yaxis[t].labels.show){var C=e.globals.translateY+e.config.yaxis[t].labels.offsetY;e.globals.isBarHorizontal?C=0:"heatmap"===e.config.chart.type&&(C-=g/2),C+=parseInt(n,10)/3;for(var k=f;k>=0;k--){var M=x(y[k],k,e),D=e.config.yaxis[t].labels.padding;e.config.yaxis[t].opposite&&0!==e.config.yaxis.length&&(D*=-1);var I=this.getTextAnchor(e.config.yaxis[t].labels.align,e.config.yaxis[t].opposite),c=this.axesUtils.getYAxisForeColor(a.colors,t),u=Array.isArray(c)?c[k]:c,m=X.listToArray(e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(t,"'] .apexcharts-yaxis-label tspan"))).map(function(b){return b.textContent}),w=i.drawText({x:D,y:C,text:m.includes(M)&&!e.config.yaxis[t].labels.showDuplicates?"":M,textAnchor:I,fontSize:n,fontFamily:o,fontWeight:r,maxWidth:e.config.yaxis[t].labels.maxWidth,foreColor:u,isPlainText:!1,cssClass:"apexcharts-yaxis-label ".concat(a.cssClass)});d.add(w),this.addTooltip(w,M),0!==e.config.yaxis[t].labels.rotate&&this.rotateLabel(i,w,firstLabel,e.config.yaxis[t].labels.rotate),C+=g}}return this.addYAxisTitle(i,h,t),this.addAxisBorder(i,h,t,f,g),h}},{key:"getTextAnchor",value:function(t,e){return"left"===t?"start":"center"===t?"middle":"right"===t?"end":e?"start":"end"}},{key:"addTooltip",value:function(t,e){var i=document.createElementNS(this.w.globals.SVGNS,"title");i.textContent=Array.isArray(e)?e.join(" "):e,t.node.appendChild(i)}},{key:"rotateLabel",value:function(t,e,i,a){var n=t.rotateAroundCenter(i.node),o=t.rotateAroundCenter(e.node);e.node.setAttribute("transform","rotate(".concat(a," ").concat(n.x," ").concat(o.y,")"))}},{key:"addYAxisTitle",value:function(t,e,i){var a=this.w;if(void 0!==a.config.yaxis[i].title.text){var n=t.group({class:"apexcharts-yaxis-title"}),r=t.drawText({x:a.config.yaxis[i].opposite?a.globals.translateYAxisX[i]:0,y:a.globals.gridHeight/2+a.globals.translateY+a.config.yaxis[i].title.offsetY,text:a.config.yaxis[i].title.text,textAnchor:"end",foreColor:a.config.yaxis[i].title.style.color,fontSize:a.config.yaxis[i].title.style.fontSize,fontWeight:a.config.yaxis[i].title.style.fontWeight,fontFamily:a.config.yaxis[i].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text ".concat(a.config.yaxis[i].title.style.cssClass)});n.add(r),e.add(n)}}},{key:"addAxisBorder",value:function(t,e,i,a,n){var o=this.w,r=o.config.yaxis[i].axisBorder,h=31+r.offsetX;if(o.config.yaxis[i].opposite&&(h=-31-r.offsetX),r.show){var d=t.drawLine(h,o.globals.translateY+r.offsetY-2,h,o.globals.gridHeight+o.globals.translateY+r.offsetY+2,r.color,0,r.width);e.add(d)}o.config.yaxis[i].axisTicks.show&&this.axesUtils.drawYAxisTicks(h,a,r,o.config.yaxis[i].axisTicks,i,n,e)}},{key:"drawYaxisInversed",value:function(t){var e=this.w,i=new U(this.ctx),a=i.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),n=i.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});a.add(n);var o=e.globals.yAxisScale[t].result.length-1,r=e.globals.gridWidth/o+.1,h=r+e.config.xaxis.labels.offsetX,d=e.globals.xLabelFormatter,f=this.axesUtils.checkForReversedLabels(t,e.globals.yAxisScale[t].result.slice()),g=e.globals.timescaleLabels;if(g.length>0&&(this.xaxisLabels=g.slice(),o=(f=g.slice()).length),e.config.xaxis.labels.show)for(var x=g.length?0:o;g.length?x<g.length:x>=0;g.length?x++:x--){var y=d(f[x],x,e),C=e.globals.gridWidth+e.globals.padHorizontal-(h-r+e.config.xaxis.labels.offsetX);if(g.length){var k=this.axesUtils.getLabel(f,g,C,x,this.drawnLabels,this.xaxisFontSize);C=k.x,y=k.text,this.drawnLabels.push(k.text),0===x&&e.globals.skipFirstTimelinelabel&&(y=""),x===f.length-1&&e.globals.skipLastTimelinelabel&&(y="")}var M=i.drawText({x:C,y:this.xAxisoffX+e.config.xaxis.labels.offsetY+30-("top"===e.config.xaxis.position?e.globals.xAxisHeight+e.config.xaxis.axisTicks.height-2:0),text:y,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[t]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:e.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label ".concat(e.config.xaxis.labels.style.cssClass)});n.add(M),M.tspan(y),this.addTooltip(M,y),h+=r}return this.inversedYAxisTitleText(a),this.inversedYAxisBorder(a),a}},{key:"inversedYAxisBorder",value:function(t){var e=this.w,i=new U(this.ctx),a=e.config.xaxis.axisBorder;if(a.show){var n=0;"bar"===e.config.chart.type&&e.globals.isXNumeric&&(n-=15);var o=i.drawLine(e.globals.padHorizontal+n+a.offsetX,this.xAxisoffX,e.globals.gridWidth,this.xAxisoffX,a.color,0,a.height);this.elgrid&&this.elgrid.elGridBorders&&e.config.grid.show?this.elgrid.elGridBorders.add(o):t.add(o)}}},{key:"inversedYAxisTitleText",value:function(t){var e=this.w,i=new U(this.ctx);if(void 0!==e.config.xaxis.title.text){var a=i.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),n=i.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(e.config.xaxis.title.style.fontSize)+e.config.xaxis.title.offsetY+20,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text ".concat(e.config.xaxis.title.style.cssClass)});a.add(n),t.add(a)}}},{key:"yAxisTitleRotate",value:function(t,e){var i=this.w,a=new U(this.ctx),n=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(t,"'] .apexcharts-yaxis-texts-g")),o=n?n.getBoundingClientRect():{width:0,height:0},r=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(t,"'] .apexcharts-yaxis-title text")),h=r?r.getBoundingClientRect():{width:0,height:0};if(r){var d=this.xPaddingForYAxisTitle(t,o,h,e);r.setAttribute("x",d.xPos-(e?10:0));var f=a.rotateAroundCenter(r);r.setAttribute("transform","rotate(".concat(e?-1*i.config.yaxis[t].title.rotate:i.config.yaxis[t].title.rotate," ").concat(f.x," ").concat(f.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(t,e,i,a){var n=this.w,o=0,r=10;return void 0===n.config.yaxis[t].title.text||t<0?{xPos:o,padd:0}:(a?o=e.width+n.config.yaxis[t].title.offsetX+i.width/2+r/2:(o=-1*e.width+n.config.yaxis[t].title.offsetX+r/2+i.width/2,n.globals.isBarHorizontal&&(o=-1*e.width-n.config.yaxis[t].title.offsetX-(r=25))),{xPos:o,padd:r})}},{key:"setYAxisXPosition",value:function(t,e){var i=this.w,a=0,n=0,o=18,r=1;i.config.yaxis.length>1&&(this.multipleYs=!0),i.config.yaxis.forEach(function(h,d){var f=i.globals.ignoreYAxisIndexes.includes(d)||!h.show||h.floating||0===t[d].width,g=t[d].width+e[d].width;h.opposite?i.globals.isBarHorizontal?i.globals.translateYAxisX[d]=(n=i.globals.gridWidth+i.globals.translateX-1)-h.labels.offsetX:(n=i.globals.gridWidth+i.globals.translateX+r,f||(r+=g+20),i.globals.translateYAxisX[d]=n-h.labels.offsetX+20):(a=i.globals.translateX-o,f||(o+=g+20),i.globals.translateYAxisX[d]=a+h.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var t=this.w;X.listToArray(t.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis")).forEach(function(e,i){var a=t.config.yaxis[i];if(a&&!a.floating&&void 0!==a.labels.align){var n=t.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(i,"'] .apexcharts-yaxis-texts-g")),o=X.listToArray(t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(i,"'] .apexcharts-yaxis-label"))),r=n.getBoundingClientRect();o.forEach(function(h){h.setAttribute("text-anchor",a.labels.align)}),"left"!==a.labels.align||a.opposite?"center"===a.labels.align?n.setAttribute("transform","translate(".concat(r.width/2*(a.opposite?1:-1),", 0)")):"right"===a.labels.align&&a.opposite&&n.setAttribute("transform","translate(".concat(r.width,", 0)")):n.setAttribute("transform","translate(-".concat(r.width,", 0)"))}})}}]),E}(),fi=function(){function E(t){ot(this,E),this.ctx=t,this.w=t.w,this.documentEvent=X.bind(this.documentEvent,this)}return v(E,[{key:"addEventListener",value:function(t,e){var i=this.w;i.globals.events.hasOwnProperty(t)?i.globals.events[t].push(e):i.globals.events[t]=[e]}},{key:"removeEventListener",value:function(t,e){var i=this.w;if(i.globals.events.hasOwnProperty(t)){var a=i.globals.events[t].indexOf(e);-1!==a&&i.globals.events[t].splice(a,1)}}},{key:"fireEvent",value:function(t,e){var i=this.w;if(i.globals.events.hasOwnProperty(t)){e&&e.length||(e=[]);for(var a=i.globals.events[t],n=a.length,o=0;o<n;o++)a[o].apply(null,e)}}},{key:"setupEventHandlers",value:function(){var t=this,e=this.w,i=this.ctx,a=e.globals.dom.baseEl.querySelector(e.globals.chartClass);this.ctx.eventList.forEach(function(n){a.addEventListener(n,function(o){var r=Object.assign({},e,{seriesIndex:e.globals.axisCharts?e.globals.capturedSeriesIndex:0,dataPointIndex:e.globals.capturedDataPointIndex});"mousemove"===o.type||"touchmove"===o.type?"function"==typeof e.config.chart.events.mouseMove&&e.config.chart.events.mouseMove(o,i,r):"mouseleave"===o.type||"touchleave"===o.type?"function"==typeof e.config.chart.events.mouseLeave&&e.config.chart.events.mouseLeave(o,i,r):("mouseup"===o.type&&1===o.which||"touchend"===o.type)&&("function"==typeof e.config.chart.events.click&&e.config.chart.events.click(o,i,r),i.ctx.events.fireEvent("click",[o,i,r]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(n){e.globals.dom.baseEl.addEventListener(n,t.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(t){var e=this.w,i=t.target.className;if("click"===t.type){var a=e.globals.dom.baseEl.querySelector(".apexcharts-menu");a&&a.classList.contains("apexcharts-menu-open")&&"apexcharts-menu-icon"!==i&&a.classList.remove("apexcharts-menu-open")}e.globals.clientX="touchmove"===t.type?t.touches[0].clientX:t.clientX,e.globals.clientY="touchmove"===t.type?t.touches[0].clientY:t.clientY}}]),E}(),Li=function(){function E(t){ot(this,E),this.ctx=t,this.w=t.w}return v(E,[{key:"setCurrentLocaleValues",value:function(t){var e=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(e=this.w.config.chart.locales.concat(window.Apex.chart.locales));var i=e.filter(function(n){return n.name===t})[0];if(!i)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var a=X.extend(ft,i);this.w.globals.locale=a.options}}]),E}(),Ci=function(){function E(t){ot(this,E),this.ctx=t,this.w=t.w}return v(E,[{key:"drawAxis",value:function(t,e){var i,a,n=this,o=this.w.globals,r=this.w.config,h=new Pe(this.ctx,e),d=new Be(this.ctx,e);o.axisCharts&&"radar"!==t&&(o.isBarHorizontal?(a=d.drawYaxisInversed(0),i=h.drawXaxisInversed(0),o.dom.elGraphical.add(i),o.dom.elGraphical.add(a)):(i=h.drawXaxis(),o.dom.elGraphical.add(i),r.yaxis.map(function(f,g){if(-1===o.ignoreYAxisIndexes.indexOf(g)&&(a=d.drawYaxis(g),o.dom.Paper.add(a),"back"===n.w.config.grid.position)){var x=o.dom.Paper.children()[1];x.remove(),o.dom.Paper.add(x)}})))}}]),E}(),si=function(){function E(t){ot(this,E),this.ctx=t,this.w=t.w}return v(E,[{key:"drawXCrosshairs",value:function(){var t=this.w,e=new U(this.ctx),i=new $t(this.ctx),a=t.config.xaxis.crosshairs.fill.gradient,n=t.config.xaxis.crosshairs.dropShadow,x=n.enabled,y=n.left,C=n.top,k=n.blur,M=n.color,D=n.opacity,I=t.config.xaxis.crosshairs.fill.color;if(t.config.xaxis.crosshairs.show){"gradient"===t.config.xaxis.crosshairs.fill.type&&(I=e.drawGradient("vertical",a.colorFrom,a.colorTo,a.opacityFrom,a.opacityTo,null,a.stops,null));var c=e.drawRect();1===t.config.xaxis.crosshairs.width&&(c=e.drawLine());var u=t.globals.gridHeight;(!X.isNumber(u)||u<0)&&(u=0);var m=t.config.xaxis.crosshairs.width;(!X.isNumber(m)||m<0)&&(m=0),c.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:u,width:m,height:u,fill:I,filter:"none","fill-opacity":t.config.xaxis.crosshairs.opacity,stroke:t.config.xaxis.crosshairs.stroke.color,"stroke-width":t.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":t.config.xaxis.crosshairs.stroke.dashArray}),x&&(c=i.dropShadow(c,{left:y,top:C,blur:k,color:M,opacity:D})),t.globals.dom.elGraphical.add(c)}}},{key:"drawYCrosshairs",value:function(){var t=this.w,e=new U(this.ctx),i=t.config.yaxis[0].crosshairs,a=t.globals.barPadForNumericAxis;if(t.config.yaxis[0].crosshairs.show){var n=e.drawLine(-a,0,t.globals.gridWidth+a,0,i.stroke.color,i.stroke.dashArray,i.stroke.width);n.attr({class:"apexcharts-ycrosshairs"}),t.globals.dom.elGraphical.add(n)}var o=e.drawLine(-a,0,t.globals.gridWidth+a,0,i.stroke.color,0,0);o.attr({class:"apexcharts-ycrosshairs-hidden"}),t.globals.dom.elGraphical.add(o)}}]),E}(),Ai=function(){function E(t){ot(this,E),this.ctx=t,this.w=t.w}return v(E,[{key:"checkResponsiveConfig",value:function(t){var e=this,i=this.w,a=i.config;if(0!==a.responsive.length){var n=a.responsive.slice();n.sort(function(d,f){return d.breakpoint>f.breakpoint?1:f.breakpoint>d.breakpoint?-1:0}).reverse();var o=new Ot({}),r=function(){var d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},g=window.innerWidth>0?window.innerWidth:screen.width;if(g>n[0].breakpoint){var x=X.clone(i.globals.initialConfig);x.series=X.clone(i.config.series);var y=Ht.extendArrayProps(o,x,i);d=X.extend(y,d),d=X.extend(i.config,d),e.overrideResponsiveOptions(d)}else for(var C=0;C<n.length;C++)g<n[C].breakpoint&&(d=Ht.extendArrayProps(o,n[C].options,i),d=X.extend(i.config,d),e.overrideResponsiveOptions(d))};if(t){var h=Ht.extendArrayProps(o,t,i);h=X.extend(i.config,h),r(h=X.extend(h,t))}else r({})}}},{key:"overrideResponsiveOptions",value:function(t){var e=new Ot(t).init({responsiveOverride:!0});this.w.config=e}}]),E}(),Si=function(){function E(t){ot(this,E),this.ctx=t,this.w=t.w,this.colors=[],this.isColorFn=!1,this.isHeatmapDistributed=this.checkHeatmapDistributed(),this.isBarDistributed=this.checkBarDistributed()}return v(E,[{key:"checkHeatmapDistributed",value:function(){var t=this.w.config,e=t.chart,i=t.plotOptions;return"treemap"===e.type&&i.treemap&&i.treemap.distributed||"heatmap"===e.type&&i.heatmap&&i.heatmap.distributed}},{key:"checkBarDistributed",value:function(){var t=this.w.config,e=t.chart,i=t.plotOptions;return i.bar&&i.bar.distributed&&("bar"===e.type||"rangeBar"===e.type)}},{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var t=this.w,e=new X;t.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(t.config.theme.mode));var i=Vt(t.config.colors||t.config.fill.colors||[]);t.globals.colors=this.getColors(i),this.applySeriesColors(t.globals.seriesColors,t.globals.colors),t.config.theme.monochrome.enabled&&(t.globals.colors=this.getMonochromeColors(t.config.theme.monochrome,t.globals.series,e));var a=t.globals.colors.slice();this.pushExtraColors(t.globals.colors),this.applyColorTypes(["fill","stroke"],a),this.applyDataLabelsColors(a),this.applyRadarPolygonsColors(),this.applyMarkersColors(a)}},{key:"getColors",value:function(t){var e=this,i=this.w;return t&&0!==t.length?Array.isArray(t)&&t.length>0&&"function"==typeof t[0]?(this.isColorFn=!0,i.config.series.map(function(a,n){var o=t[n]||t[0];return"function"==typeof o?o({value:i.globals.axisCharts?i.globals.series[n][0]||0:i.globals.series[n],seriesIndex:n,dataPointIndex:n,w:e.w}):o})):t:this.predefined()}},{key:"applySeriesColors",value:function(t,e){t.forEach(function(i,a){i&&(e[a]=i)})}},{key:"getMonochromeColors",value:function(t,e,i){var a=t.color,o=t.shadeTo,r=this.isBarDistributed||this.isHeatmapDistributed?e[0].length*e.length:e.length,h=1/(r/t.shadeIntensity),d=0;return Array.from({length:r},function(){var f=i.shadeColor("dark"===o?-1*d:d,a);return d+=h,f})}},{key:"applyColorTypes",value:function(t,e){var i=this,a=this.w;t.forEach(function(n){a.globals[n].colors=void 0===a.config[n].colors?i.isColorFn?a.config.colors:e:a.config[n].colors.slice(),i.pushExtraColors(a.globals[n].colors)})}},{key:"applyDataLabelsColors",value:function(t){var e=this.w;e.globals.dataLabels.style.colors=void 0===e.config.dataLabels.style.colors?t:e.config.dataLabels.style.colors.slice(),this.pushExtraColors(e.globals.dataLabels.style.colors,50)}},{key:"applyRadarPolygonsColors",value:function(){var t=this.w;t.globals.radarPolygons.fill.colors=void 0===t.config.plotOptions.radar.polygons.fill.colors?["dark"===t.config.theme.mode?"#424242":"none"]:t.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(t.globals.radarPolygons.fill.colors,20)}},{key:"applyMarkersColors",value:function(t){var e=this.w;e.globals.markers.colors=void 0===e.config.markers.colors?t:e.config.markers.colors.slice(),this.pushExtraColors(e.globals.markers.colors)}},{key:"pushExtraColors",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=this.w,n=e||a.globals.series.length;if(null===i&&(i=this.isBarDistributed||this.isHeatmapDistributed||"heatmap"===a.config.chart.type&&a.config.plotOptions.heatmap&&a.config.plotOptions.heatmap.colorScale.inverse),i&&a.globals.series.length&&(n=a.globals.series[a.globals.maxValsInArrayIndex].length*a.globals.series.length),t.length<n)for(var o=n-t.length,r=0;r<o;r++)t.push(t[r])}},{key:"updateThemeOptions",value:function(t){t.chart=t.chart||{},t.tooltip=t.tooltip||{};var e=t.theme.mode,i="dark"===e?"palette4":"light"===e?"palette1":t.theme.palette||"palette1",a="dark"===e?"#f6f7f8":"light"===e?"#373d3f":t.chart.foreColor||"#373d3f";return t.tooltip.theme=e||"light",t.chart.foreColor=a,t.theme.palette=i,t}},{key:"predefined",value:function(){var t={palette1:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"],palette2:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"],palette3:["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"],palette4:["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"],palette5:["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"],palette6:["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"],palette7:["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"],palette8:["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"],palette9:["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"],palette10:["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"],default:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"]};return t[this.w.config.theme.palette]||t.default}}]),E}(),mi=function(){function E(t){ot(this,E),this.ctx=t,this.w=t.w}return v(E,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(t){var e=this.w,i="title"===t?e.config.title:e.config.subtitle,a=e.globals.svgWidth/2,n=i.offsetY,o="middle";if("left"===i.align?(a=10,o="start"):"right"===i.align&&(a=e.globals.svgWidth-10,o="end"),a+=i.offsetX,n=n+parseInt(i.style.fontSize,10)+i.margin/2,void 0!==i.text){var r=new U(this.ctx).drawText({x:a,y:n,text:i.text,textAnchor:o,fontSize:i.style.fontSize,fontFamily:i.style.fontFamily,fontWeight:i.style.fontWeight,foreColor:i.style.color,opacity:1});r.node.setAttribute("class","apexcharts-".concat(t,"-text")),e.globals.dom.Paper.add(r)}}}]),E}(),ni=function(){function E(t){ot(this,E),this.w=t.w,this.dCtx=t}return v(E,[{key:"getTitleSubtitleCoords",value:function(t){var e=this.w,i=0,a=0,n="title"===t?e.config.title.floating:e.config.subtitle.floating,o=e.globals.dom.baseEl.querySelector(".apexcharts-".concat(t,"-text"));if(null!==o&&!n){var r=o.getBoundingClientRect();i=r.width,a=e.globals.axisCharts?r.height+5:r.height}return{width:i,height:a}}},{key:"getLegendsRect",value:function(){var t=this.w,e=t.globals.dom.elLegendWrap;t.config.legend.height||"top"!==t.config.legend.position&&"bottom"!==t.config.legend.position||(e.style.maxHeight=t.globals.svgHeight/2+"px");var i=Object.assign({},X.getBoundingClientRect(e));return this.dCtx.lgRect=null!==e&&!t.config.legend.floating&&t.config.legend.show?{x:i.x,y:i.y,height:i.height,width:0===i.height?0:i.width}:{x:0,y:0,height:0,width:0},"left"!==t.config.legend.position&&"right"!==t.config.legend.position||1.5*this.dCtx.lgRect.width>t.globals.svgWidth&&(this.dCtx.lgRect.width=t.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var t=this,e=this.w,i=[];e.config.series.forEach(function(h,d){h.data.forEach(function(f,g){a=e.config.dataLabels.formatter(e.globals.series[d][g],{ctx:t.dCtx.ctx,seriesIndex:d,dataPointIndex:g,w:e}),i.push(a)})});var a=X.getLargestStringFromArr(i),n=new U(this.dCtx.ctx),o=e.config.dataLabels.style,r=n.getTextRects(a,parseInt(o.fontSize),o.fontFamily);return{width:1.05*r.width,height:r.height}}},{key:"getLargestStringFromMultiArr",value:function(t,e){var i=t;if(this.w.globals.isMultiLineX){var a=e.map(function(o,r){return Array.isArray(o)?o.length:1}),n=Math.max.apply(Math,Vt(a));i=e[a.indexOf(n)]}return i}}]),E}(),oi=function(){function E(t){ot(this,E),this.w=t.w,this.dCtx=t}return v(E,[{key:"getxAxisLabelsCoords",value:function(){var t,e=this.w,i=e.globals.labels.slice();if(e.config.xaxis.convertedCatToNumeric&&0===i.length&&(i=e.globals.categoryLabels),e.globals.timescaleLabels.length>0){var a=this.getxAxisTimeScaleLabelsCoords();t={width:a.width,height:a.height},e.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends="left"!==e.config.legend.position&&"right"!==e.config.legend.position||e.config.legend.floating?0:this.dCtx.lgRect.width;var n=e.globals.xLabelFormatter,o=X.getLargestStringFromArr(i),r=this.dCtx.dimHelpers.getLargestStringFromMultiArr(o,i);e.globals.isBarHorizontal&&(r=o=e.globals.yAxisScale[0].result.reduce(function(C,k){return C.length>k.length?C:k},0));var h=new ce(this.dCtx.ctx),d=o;o=h.xLabelFormat(n,o,d,{i:void 0,dateFormatter:new Pt(this.dCtx.ctx).formatDate,w:e}),r=h.xLabelFormat(n,r,d,{i:void 0,dateFormatter:new Pt(this.dCtx.ctx).formatDate,w:e}),(e.config.xaxis.convertedCatToNumeric&&void 0===o||""===String(o).trim())&&(r=o="1");var f=new U(this.dCtx.ctx),g=f.getTextRects(o,e.config.xaxis.labels.style.fontSize),x=g;if(o!==r&&(x=f.getTextRects(r,e.config.xaxis.labels.style.fontSize)),(t={width:g.width>=x.width?g.width:x.width,height:g.height>=x.height?g.height:x.height}).width*i.length>e.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&0!==e.config.xaxis.labels.rotate||e.config.xaxis.labels.rotateAlways){if(!e.globals.isBarHorizontal){e.globals.rotateXLabels=!0;var y=function(C){return f.getTextRects(C,e.config.xaxis.labels.style.fontSize,e.config.xaxis.labels.style.fontFamily,"rotate(".concat(e.config.xaxis.labels.rotate," 0 0)"),!1)};g=y(o),o!==r&&(x=y(r)),t.height=(g.height>x.height?g.height:x.height)/1.5,t.width=g.width>x.width?g.width:x.width}}else e.globals.rotateXLabels=!1}return e.config.xaxis.labels.show||(t={width:0,height:0}),{width:t.width,height:t.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var t,e=this.w;if(!e.globals.hasXaxisGroups)return{width:0,height:0};var i,a=(null===(t=e.config.xaxis.group.style)||void 0===t?void 0:t.fontSize)||e.config.xaxis.labels.style.fontSize,n=e.globals.groups.map(function(g){return g.title}),o=X.getLargestStringFromArr(n),r=this.dCtx.dimHelpers.getLargestStringFromMultiArr(o,n),h=new U(this.dCtx.ctx),d=h.getTextRects(o,a),f=d;return o!==r&&(f=h.getTextRects(r,a)),i={width:d.width>=f.width?d.width:f.width,height:d.height>=f.height?d.height:f.height},e.config.xaxis.labels.show||(i={width:0,height:0}),{width:i.width,height:i.height}}},{key:"getxAxisTitleCoords",value:function(){var t=this.w,e=0,i=0;if(void 0!==t.config.xaxis.title.text){var a=new U(this.dCtx.ctx).getTextRects(t.config.xaxis.title.text,t.config.xaxis.title.style.fontSize);e=a.width,i=a.height}return{width:e,height:i}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var t,e=this.w;this.dCtx.timescaleLabels=e.globals.timescaleLabels.slice();var i=this.dCtx.timescaleLabels.map(function(n){return n.value}),a=i.reduce(function(n,o){return void 0===n?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):n.length>o.length?n:o},0);return 1.05*(t=new U(this.dCtx.ctx).getTextRects(a,e.config.xaxis.labels.style.fontSize)).width*i.length>e.globals.gridWidth&&0!==e.config.xaxis.labels.rotate&&(e.globals.overlappingXLabels=!0),t}},{key:"additionalPaddingXLabels",value:function(t){var e=this,i=this.w,a=i.globals,n=i.config,o=n.xaxis.type,r=t.width;a.skipLastTimelinelabel=!1,a.skipFirstTimelinelabel=!1;var h=i.config.yaxis[0].opposite&&i.globals.isBarHorizontal;n.yaxis.forEach(function(f,g){h?(e.dCtx.gridPad.left<r&&(e.dCtx.xPadLeft=r/2+1),e.dCtx.xPadRight=r/2+1):function(f,g){n.yaxis.length>1&&-1!==a.collapsedSeriesIndices.indexOf(g)||function(x){if(e.dCtx.timescaleLabels&&e.dCtx.timescaleLabels.length){var k=e.dCtx.timescaleLabels[0].position-r/1.75+e.dCtx.yAxisWidthLeft;e.dCtx.timescaleLabels[e.dCtx.timescaleLabels.length-1].position+r/1.75-e.dCtx.yAxisWidthRight>a.svgWidth-a.translateX-("right"===i.config.legend.position&&e.dCtx.lgRect.width>0?e.dCtx.lgRect.width:0)&&(a.skipLastTimelinelabel=!0),k<-(x.show&&!x.floating||"bar"!==n.chart.type&&"candlestick"!==n.chart.type&&"rangeBar"!==n.chart.type&&"boxPlot"!==n.chart.type?10:r/1.75)&&(a.skipFirstTimelinelabel=!0)}else"datetime"===o?e.dCtx.gridPad.right<r&&!a.rotateXLabels&&(a.skipLastTimelinelabel=!0):"datetime"!==o&&e.dCtx.gridPad.right<r/2-e.dCtx.yAxisWidthRight&&!a.rotateXLabels&&!i.config.xaxis.labels.trim&&(e.dCtx.xPadRight=r/2+1)}(f)}(f,g)})}}]),E}(),be=function(){function E(t){ot(this,E),this.w=t.w,this.dCtx=t}return v(E,[{key:"getyAxisLabelsCoords",value:function(){var t=this,e=this.w,i=[],a=10,n=new Zt(this.dCtx.ctx);return e.config.yaxis.map(function(o,r){var h={seriesIndex:r,dataPointIndex:-1,w:e},d=e.globals.yAxisScale[r],f=0;if(!n.isYAxisHidden(r)&&o.labels.show&&void 0!==o.labels.minWidth&&(f=o.labels.minWidth),!n.isYAxisHidden(r)&&o.labels.show&&d.result.length){var g=e.globals.yLabelFormatters[r],y=d.result.reduce(function(u,m){var w,b;return(null===(w=String(g(u,h)))||void 0===w?void 0:w.length)>(null===(b=String(g(m,h)))||void 0===b?void 0:b.length)?u:m},d.niceMin===Number.MIN_VALUE?0:d.niceMin),C=y=g(y,h);if(void 0!==y&&0!==y.length||(y=d.niceMax),e.globals.isBarHorizontal){a=0;var k=e.globals.labels.slice();y=X.getLargestStringFromArr(k),y=g(y,{seriesIndex:r,dataPointIndex:-1,w:e}),C=t.dCtx.dimHelpers.getLargestStringFromMultiArr(y,k)}var M=new U(t.dCtx.ctx),D="rotate(".concat(o.labels.rotate," 0 0)"),I=M.getTextRects(y,o.labels.style.fontSize,o.labels.style.fontFamily,D,!1),c=I;y!==C&&(c=M.getTextRects(C,o.labels.style.fontSize,o.labels.style.fontFamily,D,!1)),i.push({width:(f>c.width||f>I.width?f:c.width>I.width?c.width:I.width)+a,height:c.height>I.height?c.height:I.height})}else i.push({width:0,height:0})}),i}},{key:"getyAxisTitleCoords",value:function(){var t=this,i=[];return this.w.config.yaxis.map(function(a,n){if(a.show&&void 0!==a.title.text){var o=new U(t.dCtx.ctx),r="rotate(".concat(a.title.rotate," 0 0)"),h=o.getTextRects(a.title.text,a.title.style.fontSize,a.title.style.fontFamily,r,!1);i.push({width:h.width,height:h.height})}else i.push({width:0,height:0})}),i}},{key:"getTotalYAxisWidth",value:function(){var t=this.w,e=0,i=0,a=0,n=t.globals.yAxisScale.length>1?10:0,o=new Zt(this.dCtx.ctx),r=function(h,d){var f=t.config.yaxis[d].floating,g=0;h.width>0&&!f?(g=h.width+n,t.globals.ignoreYAxisIndexes.indexOf(d)>-1&&(g=g-h.width-n)):g=f||o.isYAxisHidden(d)?0:5,t.config.yaxis[d].opposite?a+=g:i+=g,e+=g};return t.globals.yLabelsCoords.map(function(h,d){r(h,d)}),t.globals.yTitleCoords.map(function(h,d){r(h,d)}),t.globals.isBarHorizontal&&!t.config.yaxis[0].floating&&(e=t.globals.yLabelsCoords[0].width+t.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=i,this.dCtx.yAxisWidthRight=a,e}}]),E}(),dt=function(){function E(t){ot(this,E),this.w=t.w,this.dCtx=t}return v(E,[{key:"gridPadForColumnsInNumericAxis",value:function(t){var e=this.w,i=e.config,a=e.globals;if(a.noData||a.collapsedSeries.length+a.ancillaryCollapsedSeries.length===i.series.length)return 0;var n=function(y){return["bar","rangeBar","candlestick","boxPlot"].includes(y)},o=i.chart.type,r=0,h=n(o)?i.series.length:1;a.comboBarCount>0&&(h=a.comboBarCount),a.collapsedSeries.forEach(function(y){n(y.type)&&(h-=1)}),i.chart.stacked&&(h=1);var d=n(o)||a.comboBarCount>0,f=Math.abs(a.initialMaxX-a.initialMinX);if(d&&a.isXNumeric&&!a.isBarHorizontal&&h>0&&0!==f){f<=3&&(f=a.dataPoints);var g=f/t,x=a.minXDiff&&a.minXDiff/g>0?a.minXDiff/g:0;x>t/2&&(x/=2),(r=x*parseInt(i.plotOptions.bar.columnWidth,10)/100)<1&&(r=1),a.barPadForNumericAxis=r}return r}},{key:"gridPadFortitleSubtitle",value:function(){var t=this,e=this.w,i=e.globals,a=this.dCtx.isSparkline||!i.axisCharts?0:10;["title","subtitle"].forEach(function(r){a+=void 0!==e.config[r].text?e.config[r].margin:t.dCtx.isSparkline||!i.axisCharts?0:5}),!e.config.legend.show||"bottom"!==e.config.legend.position||e.config.legend.floating||i.axisCharts||(a+=10);var n=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),o=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");i.gridHeight-=n.height+o.height+a,i.translateY+=n.height+o.height+a}},{key:"setGridXPosForDualYAxis",value:function(t,e){var i=this.w,a=new Zt(this.dCtx.ctx);i.config.yaxis.forEach(function(n,o){-1!==i.globals.ignoreYAxisIndexes.indexOf(o)||n.floating||a.isYAxisHidden(o)||(n.opposite&&(i.globals.translateX-=e[o].width+t[o].width+parseInt(n.labels.style.fontSize,10)/1.2+12),i.globals.translateX<2&&(i.globals.translateX=2))})}}]),E}(),Ze=function(){function E(t){ot(this,E),this.ctx=t,this.w=t.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new ni(this),this.dimYAxis=new be(this),this.dimXAxis=new oi(this),this.dimGrid=new dt(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return v(E,[{key:"plotCoords",value:function(){var t=this,e=this.w,i=e.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var a=Array.isArray(e.config.stroke.width)?Math.max.apply(Math,Vt(e.config.stroke.width)):e.config.stroke.width;this.isSparkline&&((e.config.markers.discrete.length>0||e.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(o){var r=je(o,2);t.gridPad[r[0]]=Math.max(r[1],t.w.globals.markers.largestSize/1.5)}),this.gridPad.top=Math.max(a/2,this.gridPad.top),this.gridPad.bottom=Math.max(a/2,this.gridPad.bottom)),i.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),i.gridHeight=i.gridHeight-this.gridPad.top-this.gridPad.bottom,i.gridWidth=i.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var n=this.dimGrid.gridPadForColumnsInNumericAxis(i.gridWidth);i.gridWidth=i.gridWidth-2*n,i.translateX=i.translateX+this.gridPad.left+this.xPadLeft+(n>0?n:0),i.translateY=i.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var t=this,e=this.w,i=e.globals,a=this.dimYAxis.getyAxisLabelsCoords(),n=this.dimYAxis.getyAxisTitleCoords();i.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),e.globals.yLabelsCoords=[],e.globals.yTitleCoords=[],e.config.yaxis.map(function(y,C){e.globals.yLabelsCoords.push({width:a[C].width,index:C}),e.globals.yTitleCoords.push({width:n[C].width,index:C})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var o=this.dimXAxis.getxAxisLabelsCoords(),r=this.dimXAxis.getxAxisGroupLabelsCoords(),h=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(o,h,r),i.translateXAxisY=e.globals.rotateXLabels?this.xAxisHeight/8:-4,i.translateXAxisX=e.globals.rotateXLabels&&e.globals.isXNumeric&&e.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,e.globals.isBarHorizontal&&(i.rotateXLabels=!1,i.translateXAxisY=parseInt(e.config.xaxis.labels.style.fontSize,10)/1.5*-1),i.translateXAxisY=i.translateXAxisY+e.config.xaxis.labels.offsetY,i.translateXAxisX=i.translateXAxisX+e.config.xaxis.labels.offsetX;var d=this.yAxisWidth,f=this.xAxisHeight;i.xAxisLabelsHeight=this.xAxisHeight-h.height,i.xAxisGroupLabelsHeight=i.xAxisLabelsHeight-o.height,i.xAxisLabelsWidth=this.xAxisWidth,i.xAxisHeight=this.xAxisHeight;var g=10;("radar"===e.config.chart.type||this.isSparkline)&&(d=0,f=0),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||"treemap"===e.config.chart.type)&&(d=0,f=0,g=0),this.isSparkline||"treemap"===e.config.chart.type||this.dimXAxis.additionalPaddingXLabels(o);var x=function(){i.translateX=d+t.datalabelsCoords.width,i.gridHeight=i.svgHeight-t.lgRect.height-f-(t.isSparkline||"treemap"===e.config.chart.type?0:e.globals.rotateXLabels?10:15),i.gridWidth=i.svgWidth-d-2*t.datalabelsCoords.width};switch("top"===e.config.xaxis.position&&(g=i.xAxisHeight-e.config.xaxis.axisTicks.height-5),e.config.legend.position){case"bottom":i.translateY=g,x();break;case"top":i.translateY=this.lgRect.height+g,x();break;case"left":i.translateY=g,i.translateX=this.lgRect.width+d+this.datalabelsCoords.width,i.gridHeight=i.svgHeight-f-12,i.gridWidth=i.svgWidth-this.lgRect.width-d-2*this.datalabelsCoords.width;break;case"right":i.translateY=g,i.translateX=d+this.datalabelsCoords.width,i.gridHeight=i.svgHeight-f-12,i.gridWidth=i.svgWidth-this.lgRect.width-d-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(n,a),new Be(this.ctx).setYAxisXPosition(a,n)}},{key:"setDimensionsForNonAxisCharts",value:function(){var t=this.w,e=t.globals,i=t.config,a=0;t.config.legend.show&&!t.config.legend.floating&&(a=20);var n="pie"===i.chart.type||"polarArea"===i.chart.type||"donut"===i.chart.type?"pie":"radialBar",o=i.plotOptions[n].offsetY,r=i.plotOptions[n].offsetX;if(!i.legend.show||i.legend.floating){e.gridHeight=e.svgHeight;var h=e.dom.elWrap.getBoundingClientRect().width;return e.gridWidth=Math.min(h,e.gridHeight),e.translateY=o,void(e.translateX=r+(e.svgWidth-e.gridWidth)/2)}switch(i.legend.position){case"bottom":e.gridHeight=e.svgHeight-this.lgRect.height,e.gridWidth=e.svgWidth,e.translateY=o-10,e.translateX=r+(e.svgWidth-e.gridWidth)/2;break;case"top":e.gridHeight=e.svgHeight-this.lgRect.height,e.gridWidth=e.svgWidth,e.translateY=this.lgRect.height+o+10,e.translateX=r+(e.svgWidth-e.gridWidth)/2;break;case"left":e.gridWidth=e.svgWidth-this.lgRect.width-a,e.gridHeight="auto"!==i.chart.height?e.svgHeight:e.gridWidth,e.translateY=o,e.translateX=r+this.lgRect.width+a;break;case"right":e.gridWidth=e.svgWidth-this.lgRect.width-a-5,e.gridHeight="auto"!==i.chart.height?e.svgHeight:e.gridWidth,e.translateY=o,e.translateX=r+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(t,e,i){var a=this.w;this.xAxisHeight=(i.height+t.height+e.height)*(a.globals.isMultiLineX?1.2:a.globals.LINE_HEIGHT_RATIO)+(a.globals.hasXaxisGroups?2:1)*(a.globals.rotateXLabels?22:10)+(a.globals.rotateXLabels&&"bottom"===a.config.legend.position?10:0),this.xAxisWidth=t.width,this.xAxisHeight-e.height>a.config.xaxis.labels.maxHeight&&(this.xAxisHeight=a.config.xaxis.labels.maxHeight),a.config.xaxis.labels.minHeight&&this.xAxisHeight<a.config.xaxis.labels.minHeight&&(this.xAxisHeight=a.config.xaxis.labels.minHeight),a.config.xaxis.floating&&(this.xAxisHeight=0);var f=0,g=0;a.config.yaxis.forEach(function(x){f+=x.labels.minWidth,g+=x.labels.maxWidth}),this.yAxisWidth<f&&(this.yAxisWidth=f),this.yAxisWidth>g&&(this.yAxisWidth=g)}}]),E}(),xi=function(){function E(t){ot(this,E),this.w=t.w,this.lgCtx=t}return v(E,[{key:"getLegendStyles",value:function(){var t,e,i,a=document.createElement("style");a.setAttribute("type","text/css");var n=(null===(t=this.lgCtx.ctx)||void 0===t||null===(e=t.opts)||void 0===e||null===(i=e.chart)||void 0===i?void 0:i.nonce)||this.w.config.chart.nonce;n&&a.setAttribute("nonce",n);var o=document.createTextNode("\n      .apexcharts-flip-y {\n        transform: scaleY(-1) translateY(-100%);\n        transform-origin: top;\n        transform-box: fill-box;\n      }\n      .apexcharts-flip-x {\n        transform: scaleX(-1);\n        transform-origin: center;\n        transform-box: fill-box;\n      }\n      .apexcharts-legend {\n        display: flex;\n        overflow: auto;\n        padding: 0 10px;\n      }\n      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {\n        flex-wrap: wrap\n      }\n      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\n        flex-direction: column;\n        bottom: 0;\n      }\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\n        justify-content: flex-start;\n      }\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {\n        justify-content: center;\n      }\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {\n        justify-content: flex-end;\n      }\n      .apexcharts-legend-series {\n        cursor: pointer;\n        line-height: normal;\n        display: flex;\n        align-items: center;\n      }\n      .apexcharts-legend-text {\n        position: relative;\n        font-size: 14px;\n      }\n      .apexcharts-legend-text *, .apexcharts-legend-marker * {\n        pointer-events: none;\n      }\n      .apexcharts-legend-marker {\n        position: relative;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        cursor: pointer;\n        margin-right: 1px;\n      }\n\n      .apexcharts-legend-series.apexcharts-no-click {\n        cursor: auto;\n      }\n      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\n        display: none !important;\n      }\n      .apexcharts-inactive-legend {\n        opacity: 0.45;\n      }");return a.appendChild(o),a}},{key:"getLegendDimensions",value:function(){var t=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect();return{clwh:t.height,clww:t.width}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(t,e){var i=this,a=this.w;if(a.globals.axisCharts||"radialBar"===a.config.chart.type){a.globals.resized=!0;var n=null,o=null;a.globals.risingSeries=[],a.globals.axisCharts?(n=a.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"']")),o=parseInt(n.getAttribute("data:realIndex"),10)):(n=a.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(t+1,"']")),o=parseInt(n.getAttribute("rel"),10)-1),e?[{cs:a.globals.collapsedSeries,csi:a.globals.collapsedSeriesIndices},{cs:a.globals.ancillaryCollapsedSeries,csi:a.globals.ancillaryCollapsedSeriesIndices}].forEach(function(f){i.riseCollapsedSeries(f.cs,f.csi,o)}):this.hideSeries({seriesEl:n,realIndex:o})}else{var r=a.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(t+1,"'] path")),h=a.config.chart.type;if("pie"===h||"polarArea"===h||"donut"===h){var d=a.config.plotOptions.pie.donut.labels;new U(this.lgCtx.ctx).pathMouseDown(r.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(r.members[0].node,d)}r.fire("click")}}},{key:"getSeriesAfterCollapsing",value:function(t){var e=t.realIndex,i=this.w,a=i.globals,n=X.clone(i.config.series);if(a.axisCharts){var o=i.config.yaxis[a.seriesYAxisReverseMap[e]],r={index:e,data:n[e].data.slice(),type:n[e].type||i.config.chart.type};if(o&&o.show&&o.showAlways)a.ancillaryCollapsedSeriesIndices.indexOf(e)<0&&(a.ancillaryCollapsedSeries.push(r),a.ancillaryCollapsedSeriesIndices.push(e));else if(a.collapsedSeriesIndices.indexOf(e)<0){a.collapsedSeries.push(r),a.collapsedSeriesIndices.push(e);var h=a.risingSeries.indexOf(e);a.risingSeries.splice(h,1)}}else a.collapsedSeries.push({index:e,data:n[e]}),a.collapsedSeriesIndices.push(e);return a.allSeriesCollapsed=a.collapsedSeries.length+a.ancillaryCollapsedSeries.length===i.config.series.length,this._getSeriesBasedOnCollapsedState(n)}},{key:"hideSeries",value:function(t){for(var e=t.seriesEl,a=this.w,n=this.getSeriesAfterCollapsing({realIndex:t.realIndex}),o=e.childNodes,r=0;r<o.length;r++)o[r].classList.contains("apexcharts-series-markers-wrap")&&(o[r].classList.contains("apexcharts-hide")?o[r].classList.remove("apexcharts-hide"):o[r].classList.add("apexcharts-hide"));this.lgCtx.ctx.updateHelpers._updateSeries(n,a.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(t,e,i){var a=this.w,n=X.clone(a.config.series);if(t.length>0){for(var o=0;o<t.length;o++)t[o].index===i&&(a.globals.axisCharts?n[i].data=t[o].data.slice():n[i]=t[o].data,n[i].hidden=!1,t.splice(o,1),e.splice(o,1),a.globals.risingSeries.push(i));n=this._getSeriesBasedOnCollapsedState(n),this.lgCtx.ctx.updateHelpers._updateSeries(n,a.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(t){var e=this.w,i=0;return t.forEach(e.globals.axisCharts?function(a,n){e.globals.collapsedSeriesIndices.indexOf(n)<0&&e.globals.ancillaryCollapsedSeriesIndices.indexOf(n)<0||(t[n].data=[],i++)}:function(a,n){!e.globals.collapsedSeriesIndices.indexOf(n)<0&&(t[n]=0,i++)}),e.globals.allSeriesCollapsed=i===t.length,t}}]),E}(),ri=function(){function E(t){ot(this,E),this.ctx=t,this.w=t.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed="bar"===this.w.config.chart.type&&this.w.config.plotOptions.bar.distributed&&1===this.w.config.series.length,this.legendHelpers=new xi(this)}return v(E,[{key:"init",value:function(){var t=this.w,e=t.globals,i=t.config,a=i.legend.showForSingleSeries&&1===e.series.length||this.isBarsDistributed||e.series.length>1;if(this.legendHelpers.appendToForeignObject(),(a||!e.axisCharts)&&i.legend.show){for(;e.dom.elLegendWrap.firstChild;)e.dom.elLegendWrap.removeChild(e.dom.elLegendWrap.firstChild);this.drawLegends(),"bottom"===i.legend.position||"top"===i.legend.position?this.legendAlignHorizontal():"right"!==i.legend.position&&"left"!==i.legend.position||this.legendAlignVertical()}}},{key:"createLegendMarker",value:function(t){var e=t.i,i=t.fillcolor,a=this.w,n=document.createElement("span");n.classList.add("apexcharts-legend-marker");var o=a.config.legend.markers.shape||a.config.markers.shape,r=o;Array.isArray(o)&&(r=o[e]);var h=Array.isArray(a.config.legend.markers.size)?parseFloat(a.config.legend.markers.size[e]):parseFloat(a.config.legend.markers.size),d=Array.isArray(a.config.legend.markers.offsetX)?parseFloat(a.config.legend.markers.offsetX[e]):parseFloat(a.config.legend.markers.offsetX),f=Array.isArray(a.config.legend.markers.offsetY)?parseFloat(a.config.legend.markers.offsetY[e]):parseFloat(a.config.legend.markers.offsetY),g=Array.isArray(a.config.legend.markers.strokeWidth)?parseFloat(a.config.legend.markers.strokeWidth[e]):parseFloat(a.config.legend.markers.strokeWidth),x=n.style;if(x.height=2*(h+g)+"px",x.width=2*(h+g)+"px",x.left=d+"px",x.top=f+"px",a.config.legend.markers.customHTML)x.background="transparent",x.color=i[e],Array.isArray(a.config.legend.markers.customHTML)?a.config.legend.markers.customHTML[e]&&(n.innerHTML=a.config.legend.markers.customHTML[e]()):n.innerHTML=a.config.legend.markers.customHTML();else{var y=new se(this.ctx).getMarkerConfig({cssClass:"apexcharts-legend-marker apexcharts-marker apexcharts-marker-".concat(r),seriesIndex:e,strokeWidth:g,size:h}),C=SVG(n).size("100%","100%"),k=new U(this.ctx).drawMarker(0,0,$($({},y),{},{pointFillColor:Array.isArray(i)?i[e]:y.pointFillColor,shape:r}));SVG.select(".apexcharts-legend-marker.apexcharts-marker").members.forEach(function(M){M.node.style.transform=M.node.classList.contains("apexcharts-marker-triangle")?"translate(50%, 45%)":"translate(50%, 50%)"}),C.add(k)}return n}},{key:"drawLegends",value:function(){var t=this,e=this.w,i=e.config.legend.fontFamily,a=e.globals.seriesNames,n=e.config.legend.markers.fillColors?e.config.legend.markers.fillColors.slice():e.globals.colors.slice();if("heatmap"===e.config.chart.type){var o=e.config.plotOptions.heatmap.colorScale.ranges;a=o.map(function(m){return m.name?m.name:m.from+" - "+m.to}),n=o.map(function(m){return m.color})}else this.isBarsDistributed&&(a=e.globals.labels.slice());e.config.legend.customLegendItems.length&&(a=e.config.legend.customLegendItems);for(var r=e.globals.legendFormatter,h=e.config.legend.inverseOrder,d=h?a.length-1:0;h?d>=0:d<=a.length-1;h?d--:d++){var f,g=r(a[d],{seriesIndex:d,w:e}),x=!1,y=!1;if(e.globals.collapsedSeries.length>0)for(var C=0;C<e.globals.collapsedSeries.length;C++)e.globals.collapsedSeries[C].index===d&&(x=!0);if(e.globals.ancillaryCollapsedSeriesIndices.length>0)for(var k=0;k<e.globals.ancillaryCollapsedSeriesIndices.length;k++)e.globals.ancillaryCollapsedSeriesIndices[k]===d&&(y=!0);var M=this.createLegendMarker({i:d,fillcolor:n});U.setAttrs(M,{rel:d+1,"data:collapsed":x||y}),(x||y)&&M.classList.add("apexcharts-inactive-legend");var D=document.createElement("div"),I=document.createElement("span");I.classList.add("apexcharts-legend-text"),I.innerHTML=Array.isArray(g)?g.join(" "):g;var c=e.config.legend.labels.useSeriesColors?e.globals.colors[d]:Array.isArray(e.config.legend.labels.colors)?null===(f=e.config.legend.labels.colors)||void 0===f?void 0:f[d]:e.config.legend.labels.colors;c||(c=e.config.chart.foreColor),I.style.color=c,I.style.fontSize=parseFloat(e.config.legend.fontSize)+"px",I.style.fontWeight=e.config.legend.fontWeight,I.style.fontFamily=i||e.config.chart.fontFamily,U.setAttrs(I,{rel:d+1,i:d,"data:default-text":encodeURIComponent(g),"data:collapsed":x||y}),D.appendChild(M),D.appendChild(I);var u=new Ht(this.ctx);e.config.legend.showForZeroSeries||0===u.getSeriesTotalByIndex(d)&&u.seriesHaveSameValues(d)&&!u.isSeriesNull(d)&&-1===e.globals.collapsedSeriesIndices.indexOf(d)&&-1===e.globals.ancillaryCollapsedSeriesIndices.indexOf(d)&&D.classList.add("apexcharts-hidden-zero-series"),e.config.legend.showForNullSeries||u.isSeriesNull(d)&&-1===e.globals.collapsedSeriesIndices.indexOf(d)&&-1===e.globals.ancillaryCollapsedSeriesIndices.indexOf(d)&&D.classList.add("apexcharts-hidden-null-series"),e.globals.dom.elLegendWrap.appendChild(D),e.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(e.config.legend.horizontalAlign)),e.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+e.config.legend.position),D.classList.add("apexcharts-legend-series"),D.style.margin="".concat(e.config.legend.itemMargin.vertical,"px ").concat(e.config.legend.itemMargin.horizontal,"px"),e.globals.dom.elLegendWrap.style.width=e.config.legend.width?e.config.legend.width+"px":"",e.globals.dom.elLegendWrap.style.height=e.config.legend.height?e.config.legend.height+"px":"",U.setAttrs(D,{rel:d+1,seriesName:X.escapeString(a[d]),"data:collapsed":x||y}),(x||y)&&D.classList.add("apexcharts-inactive-legend"),e.config.legend.onItemClick.toggleDataSeries||D.classList.add("apexcharts-no-click")}e.globals.dom.elWrap.addEventListener("click",t.onLegendClick,!0),e.config.legend.onItemHover.highlightDataSeries&&0===e.config.legend.customLegendItems.length&&(e.globals.dom.elWrap.addEventListener("mousemove",t.onLegendHovered,!0),e.globals.dom.elWrap.addEventListener("mouseout",t.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(t,e){var i=this.w,a=i.globals.dom.elLegendWrap,o=0,r=0;if("bottom"===i.config.legend.position)r=i.globals.svgHeight-Math.min(a.clientHeight,i.globals.svgHeight/2)-5;else if("top"===i.config.legend.position){var h=new Ze(this.ctx),d=h.dimHelpers.getTitleSubtitleCoords("title").height,f=h.dimHelpers.getTitleSubtitleCoords("subtitle").height;r=(d>0?d-10:0)+(f>0?f-10:0)}a.style.position="absolute",r=r+e+i.config.legend.offsetY,a.style.left=(o=o+t+i.config.legend.offsetX)+"px",a.style.top=r+"px","right"===i.config.legend.position&&(a.style.left="auto",a.style.right=25+i.config.legend.offsetX+"px"),["width","height"].forEach(function(g){a.style[g]&&(a.style[g]=parseInt(i.config.legend[g],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var t=this.w;t.globals.dom.elLegendWrap.style.right=0;var e=new Ze(this.ctx),i=e.dimHelpers.getTitleSubtitleCoords("title"),a=e.dimHelpers.getTitleSubtitleCoords("subtitle"),n=0;"top"===t.config.legend.position&&(n=i.height+a.height+t.config.title.margin+t.config.subtitle.margin-10),this.setLegendWrapXY(20,n)}},{key:"legendAlignVertical",value:function(){var t=this.w,e=this.legendHelpers.getLegendDimensions(),i=0;"left"===t.config.legend.position&&(i=20),"right"===t.config.legend.position&&(i=t.globals.svgWidth-e.clww-10),this.setLegendWrapXY(i,20)}},{key:"onLegendHovered",value:function(t){var e=this.w,i=t.target.classList.contains("apexcharts-legend-series")||t.target.classList.contains("apexcharts-legend-text")||t.target.classList.contains("apexcharts-legend-marker");if("heatmap"===e.config.chart.type||this.isBarsDistributed){if(i){var a=parseInt(t.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,a,this.w]),new Jt(this.ctx).highlightRangeInSeries(t,t.target)}}else!t.target.classList.contains("apexcharts-inactive-legend")&&i&&new Jt(this.ctx).toggleSeriesOnHover(t,t.target)}},{key:"onLegendClick",value:function(t){var e=this.w;if(!e.config.legend.customLegendItems.length&&(t.target.classList.contains("apexcharts-legend-series")||t.target.classList.contains("apexcharts-legend-text")||t.target.classList.contains("apexcharts-legend-marker"))){var i=parseInt(t.target.getAttribute("rel"),10)-1,a="true"===t.target.getAttribute("data:collapsed"),n=this.w.config.chart.events.legendClick;"function"==typeof n&&n(this.ctx,i,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,i,this.w]);var o=this.w.config.legend.markers.onClick;"function"==typeof o&&t.target.classList.contains("apexcharts-legend-marker")&&(o(this.ctx,i,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,i,this.w])),"treemap"!==e.config.chart.type&&"heatmap"!==e.config.chart.type&&!this.isBarsDistributed&&e.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(i,a)}}}]),E}(),li=function(){function E(t){ot(this,E),this.ctx=t,this.w=t.w;var e=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=e.globals.minX,this.maxX=e.globals.maxX}return v(E,[{key:"createToolbar",value:function(){var t=this,e=this.w,i=function(){return document.createElement("div")},a=i();if(a.setAttribute("class","apexcharts-toolbar"),a.style.top=e.config.chart.toolbar.offsetY+"px",a.style.right=3-e.config.chart.toolbar.offsetX+"px",e.globals.dom.elWrap.appendChild(a),this.elZoom=i(),this.elZoomIn=i(),this.elZoomOut=i(),this.elPan=i(),this.elSelection=i(),this.elZoomReset=i(),this.elMenuIcon=i(),this.elMenu=i(),this.elCustomIcons=[],this.t=e.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var n=0;n<this.t.customIcons.length;n++)this.elCustomIcons.push(i());var o=[],r=function(g,x,y){var C=g.toLowerCase();t.t[C]&&e.config.chart.zoom.enabled&&o.push({el:x,icon:"string"==typeof t.t[C]?t.t[C]:y,title:t.localeValues[g],class:"apexcharts-".concat(C,"-icon")})};r("zoomIn",this.elZoomIn,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n'),r("zoomOut",this.elZoomOut,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n');var h=function(g){t.t[g]&&e.config.chart[g].enabled&&o.push({el:"zoom"===g?t.elZoom:t.elSelection,icon:"string"==typeof t.t[g]?t.t[g]:"zoom"===g?'<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>\n</svg>':'<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>\n</svg>',title:t.localeValues["zoom"===g?"selectionZoom":"selection"],class:e.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(g,"-icon")})};h("zoom"),h("selection"),this.t.pan&&e.config.chart.zoom.enabled&&o.push({el:this.elPan,icon:"string"==typeof this.t.pan?this.t.pan:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <defs>\n        <path d="M0 0h24v24H0z" id="a"/>\n    </defs>\n    <clipPath id="b">\n        <use overflow="visible" xlink:href="#a"/>\n    </clipPath>\n    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>\n</svg>',title:this.localeValues.pan,class:e.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),r("reset",this.elZoomReset,'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'),this.t.download&&o.push({el:this.elMenuIcon,icon:"string"==typeof this.t.download?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var d=0;d<this.elCustomIcons.length;d++)o.push({el:this.elCustomIcons[d],icon:this.t.customIcons[d].icon,title:this.t.customIcons[d].title,index:this.t.customIcons[d].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[d].class});o.forEach(function(g,x){g.index&&X.moveIndexInArray(o,x,g.index)});for(var f=0;f<o.length;f++)U.setAttrs(o[f].el,{class:o[f].class,title:o[f].title}),o[f].el.innerHTML=o[f].icon,a.appendChild(o[f].el);this._createHamburgerMenu(a),e.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):e.globals.panEnabled?this.elPan.classList.add(this.selectedClass):e.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(t){this.elMenuItems=[],t.appendChild(this.elMenu),U.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var e=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],i=0;i<e.length;i++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[i].innerHTML=e[i].title,U.setAttrs(this.elMenuItems[i],{class:"apexcharts-menu-item ".concat(e[i].name),title:e[i].title}),this.elMenu.appendChild(this.elMenuItems[i])}},{key:"addToolbarEventListeners",value:function(){var t=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(i){i.classList.contains("exportSVG")?i.addEventListener("click",t.handleDownload.bind(t,"svg")):i.classList.contains("exportPNG")?i.addEventListener("click",t.handleDownload.bind(t,"png")):i.classList.contains("exportCSV")&&i.addEventListener("click",t.handleDownload.bind(t,"csv"))});for(var e=0;e<this.t.customIcons.length;e++)this.elCustomIcons[e].addEventListener("click",this.t.customIcons[e].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(t){this.ctx.getSyncedCharts().forEach(function(e){e.ctx.toolbar.toggleOtherControls();var i="selection"===t?e.ctx.toolbar.elSelection:e.ctx.toolbar.elZoom,a="selection"===t?"selectionEnabled":"zoomEnabled";e.w.globals[a]=!e.w.globals[a],i.classList.contains(e.ctx.toolbar.selectedClass)?i.classList.remove(e.ctx.toolbar.selectedClass):i.classList.add(e.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var t=this.w;this.elZoom||(this.elZoom=t.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=t.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=t.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(t){this.toggleOtherControls(),"pan"===t?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var e="pan"===t?this.elPan:this.elZoom,i="pan"===t?this.elZoom:this.elPan;e&&e.classList.add(this.selectedClass),i&&i.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(t){t.ctx.toolbar.toggleOtherControls(),t.w.globals.panEnabled=!t.w.globals.panEnabled,t.ctx.toolbar.elPan.classList.contains(t.ctx.toolbar.selectedClass)?t.ctx.toolbar.elPan.classList.remove(t.ctx.toolbar.selectedClass):t.ctx.toolbar.elPan.classList.add(t.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var t=this,e=this.w;e.globals.panEnabled=!1,e.globals.zoomEnabled=!1,e.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(i){i&&i.classList.remove(t.selectedClass)})}},{key:"handleZoomIn",value:function(){var t=this.w;t.globals.isRangeBar&&(this.minX=t.globals.minY,this.maxX=t.globals.maxY);var e=(this.minX+this.maxX)/2,n=this._getNewMinXMaxX((this.minX+e)/2,(this.maxX+e)/2);t.globals.disableZoomIn||this.zoomUpdateOptions(n.minX,n.maxX)}},{key:"handleZoomOut",value:function(){var t=this.w;if(t.globals.isRangeBar&&(this.minX=t.globals.minY,this.maxX=t.globals.maxY),!("datetime"===t.config.xaxis.type&&new Date(this.minX).getUTCFullYear()<1e3)){var e=(this.minX+this.maxX)/2,n=this._getNewMinXMaxX(this.minX-(e-this.minX),this.maxX-(e-this.maxX));t.globals.disableZoomOut||this.zoomUpdateOptions(n.minX,n.maxX)}}},{key:"_getNewMinXMaxX",value:function(t,e){var i=this.w.config.xaxis.convertedCatToNumeric;return{minX:i?Math.floor(t):t,maxX:i?Math.floor(e):e}}},{key:"zoomUpdateOptions",value:function(t,e){var i=this.w;if(void 0!==t||void 0!==e){if(!(i.config.xaxis.convertedCatToNumeric&&(t<1&&(t=1,e=i.globals.dataPoints),e-t<2))){var a={min:t,max:e},n=this.getBeforeZoomRange(a);n&&(a=n.xaxis);var o={xaxis:a},r=X.clone(i.globals.initialConfig.yaxis);i.config.chart.group||(o.yaxis=r),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(o,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(a,r)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(t,e){"function"==typeof this.ev.zoomed&&this.ev.zoomed(this.ctx,{xaxis:t,yaxis:e})}},{key:"getBeforeZoomRange",value:function(t,e){var i=null;return"function"==typeof this.ev.beforeZoom&&(i=this.ev.beforeZoom(this,{xaxis:t,yaxis:e})),i}},{key:"toggleMenu",value:function(){var t=this;window.setTimeout(function(){t.elMenu.classList.contains("apexcharts-menu-open")?t.elMenu.classList.remove("apexcharts-menu-open"):t.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(t){var e=this.w,i=new Fe(this.ctx);switch(t){case"svg":i.exportToSVG(this.ctx);break;case"png":i.exportToPng(this.ctx);break;case"csv":i.exportToCSV({series:e.config.series,columnDelimiter:e.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(t){this.ctx.getSyncedCharts().forEach(function(e){var i=e.w;if(i.globals.lastXAxis.min=i.globals.initialConfig.xaxis.min,i.globals.lastXAxis.max=i.globals.initialConfig.xaxis.max,e.updateHelpers.revertDefaultAxisMinMax(),"function"==typeof i.config.chart.events.beforeResetZoom){var a=i.config.chart.events.beforeResetZoom(e,i);a&&e.updateHelpers.revertDefaultAxisMinMax(a)}"function"==typeof i.config.chart.events.zoomed&&e.ctx.toolbar.zoomCallback({min:i.config.xaxis.min,max:i.config.xaxis.max}),i.globals.zoomed=!1;var n=e.ctx.series.emptyCollapsedSeries(X.clone(i.globals.initialSeries));e.updateHelpers._updateSeries(n,i.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),E}(),vi=function(E){J(e,E);var t=R(e);function e(i){var a;return ot(this,e),(a=t.call(this,i)).ctx=i,a.w=i.w,a.dragged=!1,a.graphics=new U(a.ctx),a.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend","wheel"],a.clientX=0,a.clientY=0,a.startX=0,a.endX=0,a.dragX=0,a.startY=0,a.endY=0,a.dragY=0,a.moveDirection="none",a.debounceTimer=null,a.debounceDelay=100,a.wheelDelay=400,a}return v(e,[{key:"init",value:function(i){var a=this,n=i.xyRatios,o=this.w,r=this;this.xyRatios=n,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=o.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),o.globals.dom.elGraphical.add(this.zoomRect),o.globals.dom.elGraphical.add(this.selectionRect),this.slDraggableRect="x"===o.config.chart.selection.type?this.selectionRect.draggable({minX:0,minY:0,maxX:o.globals.gridWidth,maxY:o.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):"y"===o.config.chart.selection.type?this.selectionRect.draggable({minX:0,maxX:o.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=o.globals.dom.baseEl.querySelector("".concat(o.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(h){a.hoverArea.addEventListener(h,r.svgMouseEvents.bind(r,n),{capture:!1,passive:!0})}),o.config.chart.zoom.allowMouseWheelZoom&&this.hoverArea.addEventListener("wheel",r.mouseWheelEvent.bind(r),{capture:!1,passive:!1})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(i,a){var n=this.w,o=this,r=this.ctx.toolbar,h=n.globals.zoomEnabled?n.config.chart.zoom.type:n.config.chart.selection.type,d=n.config.chart.toolbar.autoSelected;if(a.shiftKey?(this.shiftWasPressed=!0,r.enableZoomPanFromToolbar("pan"===d?"zoom":"pan")):this.shiftWasPressed&&(r.enableZoomPanFromToolbar(d),this.shiftWasPressed=!1),a.target){var f,g=a.target.classList;if(a.target.parentNode&&null!==a.target.parentNode&&(f=a.target.parentNode.classList),!(g.contains("apexcharts-selection-rect")||g.contains("apexcharts-legend-marker")||g.contains("apexcharts-legend-text")||f&&f.contains("apexcharts-toolbar"))){if(o.clientX="touchmove"===a.type||"touchstart"===a.type?a.touches[0].clientX:"touchend"===a.type?a.changedTouches[0].clientX:a.clientX,o.clientY="touchmove"===a.type||"touchstart"===a.type?a.touches[0].clientY:"touchend"===a.type?a.changedTouches[0].clientY:a.clientY,"mousedown"===a.type&&1===a.which){var x=o.gridRect.getBoundingClientRect();o.startX=o.clientX-x.left,o.startY=o.clientY-x.top,o.dragged=!1,o.w.globals.mousedown=!0}if(("mousemove"===a.type&&1===a.which||"touchmove"===a.type)&&(o.dragged=!0,n.globals.panEnabled?(n.globals.selection=null,o.w.globals.mousedown&&o.panDragging({context:o,zoomtype:h,xyRatios:i})):(o.w.globals.mousedown&&n.globals.zoomEnabled||o.w.globals.mousedown&&n.globals.selectionEnabled)&&(o.selection=o.selectionDrawing({context:o,zoomtype:h}))),"mouseup"===a.type||"touchend"===a.type||"mouseleave"===a.type){var y,C=null===(y=o.gridRect)||void 0===y?void 0:y.getBoundingClientRect();C&&o.w.globals.mousedown&&(o.endX=o.clientX-C.left,o.endY=o.clientY-C.top,o.dragX=Math.abs(o.endX-o.startX),o.dragY=Math.abs(o.endY-o.startY),(n.globals.zoomEnabled||n.globals.selectionEnabled)&&o.selectionDrawn({context:o,zoomtype:h}),n.globals.panEnabled&&n.config.xaxis.convertedCatToNumeric&&o.delayedPanScrolled()),n.globals.zoomEnabled&&o.hideSelectionRect(this.selectionRect),o.dragged=!1,o.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"mouseWheelEvent",value:function(i){var a=this,n=this.w;i.preventDefault();var o=Date.now();o-n.globals.lastWheelExecution>this.wheelDelay&&(this.executeMouseWheelZoom(i),n.globals.lastWheelExecution=o),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(function(){o-n.globals.lastWheelExecution>a.wheelDelay&&(a.executeMouseWheelZoom(i),n.globals.lastWheelExecution=o)},this.debounceDelay)}},{key:"executeMouseWheelZoom",value:function(i){var a,n=this.w;this.minX=n.globals.isRangeBar?n.globals.minY:n.globals.minX,this.maxX=n.globals.isRangeBar?n.globals.maxY:n.globals.maxX;var o=null===(a=this.gridRect)||void 0===a?void 0:a.getBoundingClientRect();if(o){var r,h,d,g=this.minX,x=this.maxX,y=x-g;if(i.deltaY<0){var C=g+(i.clientX-o.left)/o.width*y;h=C-(r=.5*y)/2,d=C+r/2}else h=g-(r=1.5*y)/2,d=x+r/2;if(!n.globals.isRangeBar){h=Math.max(h,n.globals.initialMinX),d=Math.min(d,n.globals.initialMaxX);var k=.01*(n.globals.initialMaxX-n.globals.initialMinX);if(d-h<k){var M=(h+d)/2;h=M-k/2,d=M+k/2}}var D=this._getNewMinXMaxX(h,d);isNaN(D.minX)||isNaN(D.maxX)||this.zoomUpdateOptions(D.minX,D.maxX)}}},{key:"makeSelectionRectDraggable",value:function(){var i=this.w;if(this.selectionRect){var a=this.selectionRect.node.getBoundingClientRect();a.width>0&&a.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:i.globals.gridWidth,maxY:i.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var i=this.w,a=this.xyRatios;if(!i.globals.zoomEnabled)if(null!=i.globals.selection)this.drawSelectionRect(i.globals.selection);else if(void 0!==i.config.chart.selection.xaxis.min&&void 0!==i.config.chart.selection.xaxis.max){var n=(i.config.chart.selection.xaxis.min-i.globals.minX)/a.xRatio,o=i.globals.gridWidth-(i.globals.maxX-i.config.chart.selection.xaxis.max)/a.xRatio-n;i.globals.isRangeBar&&(n=(i.config.chart.selection.xaxis.min-i.globals.yAxisScale[0].niceMin)/a.invertedYRatio,o=(i.config.chart.selection.xaxis.max-i.config.chart.selection.xaxis.min)/a.invertedYRatio),this.drawSelectionRect({x:n,y:0,width:o,height:i.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0}),this.makeSelectionRectDraggable(),"function"==typeof i.config.chart.events.selection&&i.config.chart.events.selection(this.ctx,{xaxis:{min:i.config.chart.selection.xaxis.min,max:i.config.chart.selection.xaxis.max},yaxis:{}})}}},{key:"drawSelectionRect",value:function(i){var a=i.x,n=i.y,o=i.width,r=i.height,h=i.translateX,f=i.translateY,x=this.w,y=this.zoomRect,C=this.selectionRect;if(this.dragged||null!==x.globals.selection){var k={transform:"translate("+(void 0===h?0:h)+", "+(void 0===f?0:f)+")"};x.globals.zoomEnabled&&this.dragged&&(o<0&&(o=1),y.attr({x:a,y:n,width:o,height:r,fill:x.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":x.config.chart.zoom.zoomedArea.fill.opacity,stroke:x.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":x.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":x.config.chart.zoom.zoomedArea.stroke.opacity}),U.setAttrs(y.node,k)),x.globals.selectionEnabled&&(C.attr({x:a,y:n,width:o>0?o:0,height:r>0?r:0,fill:x.config.chart.selection.fill.color,"fill-opacity":x.config.chart.selection.fill.opacity,stroke:x.config.chart.selection.stroke.color,"stroke-width":x.config.chart.selection.stroke.width,"stroke-dasharray":x.config.chart.selection.stroke.dashArray,"stroke-opacity":x.config.chart.selection.stroke.opacity}),U.setAttrs(C.node,k))}}},{key:"hideSelectionRect",value:function(i){i&&i.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(i){var k,n=i.zoomtype,o=this.w,r=i.context,h=this.gridRect.getBoundingClientRect(),d=r.startX-1,f=r.startY,g=!1,x=!1,y=r.clientX-h.left-d,C=r.clientY-h.top-f;return Math.abs(y+d)>o.globals.gridWidth?y=o.globals.gridWidth-d:r.clientX-h.left<0&&(y=d),d>r.clientX-h.left&&(g=!0,y=Math.abs(y)),f>r.clientY-h.top&&(x=!0,C=Math.abs(C)),r.drawSelectionRect(k="x"===n?{x:g?d-y:d,y:0,width:y,height:o.globals.gridHeight}:"y"===n?{x:0,y:x?f-C:f,width:o.globals.gridWidth,height:C}:{x:g?d-y:d,y:x?f-C:f,width:y,height:C}),r.selectionDragging("resizing"),k}},{key:"selectionDragging",value:function(i,a){var n=this,o=this.w,r=this.xyRatios,h=this.selectionRect,d=0;"resizing"===i&&(d=30);var f=function(x){return parseFloat(h.node.getAttribute(x))},g={x:f("x"),y:f("y"),width:f("width"),height:f("height")};o.globals.selection=g,"function"==typeof o.config.chart.events.selection&&o.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var x,y,C,k,M=n.gridRect.getBoundingClientRect(),D=h.node.getBoundingClientRect();o.globals.isRangeBar?(x=o.globals.yAxisScale[0].niceMin+(D.left-M.left)*r.invertedYRatio,y=o.globals.yAxisScale[0].niceMin+(D.right-M.left)*r.invertedYRatio,C=0,k=1):(x=o.globals.xAxisScale.niceMin+(D.left-M.left)*r.xRatio,y=o.globals.xAxisScale.niceMin+(D.right-M.left)*r.xRatio,C=o.globals.yAxisScale[0].niceMin+(M.bottom-D.bottom)*r.yRatio[0],k=o.globals.yAxisScale[0].niceMax-(D.top-M.top)*r.yRatio[0]);var I={xaxis:{min:x,max:y},yaxis:{min:C,max:k}};o.config.chart.events.selection(n.ctx,I),o.config.chart.brush.enabled&&void 0!==o.config.chart.events.brushScrolled&&o.config.chart.events.brushScrolled(n.ctx,I)},d))}},{key:"selectionDrawn",value:function(i){var n=i.zoomtype,o=this.w,r=i.context,h=this.xyRatios,d=this.ctx.toolbar;if(r.startX>r.endX){var f=r.startX;r.startX=r.endX,r.endX=f}if(r.startY>r.endY){var g=r.startY;r.startY=r.endY,r.endY=g}var x=void 0,y=void 0;o.globals.isRangeBar?(x=o.globals.yAxisScale[0].niceMin+r.startX*h.invertedYRatio,y=o.globals.yAxisScale[0].niceMin+r.endX*h.invertedYRatio):(x=o.globals.xAxisScale.niceMin+r.startX*h.xRatio,y=o.globals.xAxisScale.niceMin+r.endX*h.xRatio);var C=[],k=[];if(o.config.yaxis.forEach(function(w,b){var A=o.globals.seriesYAxisMap[b][0];C.push(o.globals.yAxisScale[b].niceMax-h.yRatio[A]*r.startY),k.push(o.globals.yAxisScale[b].niceMax-h.yRatio[A]*r.endY)}),r.dragged&&(r.dragX>10||r.dragY>10)&&x!==y)if(o.globals.zoomEnabled){var M=X.clone(o.globals.initialConfig.yaxis),D=X.clone(o.globals.initialConfig.xaxis);if(o.globals.zoomed=!0,o.config.xaxis.convertedCatToNumeric&&(x=Math.floor(x),y=Math.floor(y),x<1&&(x=1,y=o.globals.dataPoints),y-x<2&&(y=x+1)),"xy"!==n&&"x"!==n||(D={min:x,max:y}),"xy"!==n&&"y"!==n||M.forEach(function(w,b){M[b].min=k[b],M[b].max=C[b]}),d){var I=d.getBeforeZoomRange(D,M);I&&(D=I.xaxis?I.xaxis:D,M=I.yaxis?I.yaxis:M)}var c={xaxis:D};o.config.chart.group||(c.yaxis=M),r.ctx.updateHelpers._updateOptions(c,!1,r.w.config.chart.animations.dynamicAnimation.enabled),"function"==typeof o.config.chart.events.zoomed&&d.zoomCallback(D,M)}else if(o.globals.selectionEnabled){var u,m=null;u={min:x,max:y},"xy"!==n&&"y"!==n||(m=X.clone(o.config.yaxis)).forEach(function(w,b){m[b].min=k[b],m[b].max=C[b]}),o.globals.selection=r.selection,"function"==typeof o.config.chart.events.selection&&o.config.chart.events.selection(r.ctx,{xaxis:u,yaxis:m})}}},{key:"panDragging",value:function(i){var n=this.w,o=i.context;if(void 0!==n.globals.lastClientPosition.x){var r=n.globals.lastClientPosition.x-o.clientX,h=n.globals.lastClientPosition.y-o.clientY;Math.abs(r)>Math.abs(h)&&r>0?this.moveDirection="left":Math.abs(r)>Math.abs(h)&&r<0?this.moveDirection="right":Math.abs(h)>Math.abs(r)&&h>0?this.moveDirection="up":Math.abs(h)>Math.abs(r)&&h<0&&(this.moveDirection="down")}n.globals.lastClientPosition={x:o.clientX,y:o.clientY},n.config.xaxis.convertedCatToNumeric||o.panScrolled(n.globals.isRangeBar?n.globals.minY:n.globals.minX,n.globals.isRangeBar?n.globals.maxY:n.globals.maxX)}},{key:"delayedPanScrolled",value:function(){var i=this.w,a=i.globals.minX,n=i.globals.maxX,o=(i.globals.maxX-i.globals.minX)/2;"left"===this.moveDirection?(a=i.globals.minX+o,n=i.globals.maxX+o):"right"===this.moveDirection&&(a=i.globals.minX-o,n=i.globals.maxX-o),a=Math.floor(a),n=Math.floor(n),this.updateScrolledChart({xaxis:{min:a,max:n}},a,n)}},{key:"panScrolled",value:function(i,a){var n=this.w,o=this.xyRatios,r=X.clone(n.globals.initialConfig.yaxis),h=o.xRatio,d=n.globals.minX,f=n.globals.maxX;n.globals.isRangeBar&&(h=o.invertedYRatio,d=n.globals.minY,f=n.globals.maxY),"left"===this.moveDirection?(i=d+n.globals.gridWidth/15*h,a=f+n.globals.gridWidth/15*h):"right"===this.moveDirection&&(i=d-n.globals.gridWidth/15*h,a=f-n.globals.gridWidth/15*h),n.globals.isRangeBar||(i<n.globals.initialMinX||a>n.globals.initialMaxX)&&(i=d,a=f);var g={xaxis:{min:i,max:a}};n.config.chart.group||(g.yaxis=r),this.updateScrolledChart(g,i,a)}},{key:"updateScrolledChart",value:function(i,a,n){var o=this.w;this.ctx.updateHelpers._updateOptions(i,!1,!1),"function"==typeof o.config.chart.events.scrolled&&o.config.chart.events.scrolled(this.ctx,{xaxis:{min:a,max:n}})}}]),e}(li),bi=function(){function E(t){ot(this,E),this.w=t.w,this.ttCtx=t,this.ctx=t.ctx}return v(E,[{key:"getNearestValues",value:function(t){var e=t.hoverArea,a=t.clientX,n=t.clientY,o=this.w,r=t.elGrid.getBoundingClientRect(),h=r.width,d=r.height,f=h/(o.globals.dataPoints-1),g=d/o.globals.dataPoints,x=this.hasBars();!o.globals.comboCharts&&!x||o.config.xaxis.convertedCatToNumeric||(f=h/o.globals.dataPoints);var y=a-r.left-o.globals.barPadForNumericAxis,C=n-r.top;y<0||C<0||y>h||C>d?(e.classList.remove("hovering-zoom"),e.classList.remove("hovering-pan")):o.globals.zoomEnabled?(e.classList.remove("hovering-pan"),e.classList.add("hovering-zoom")):o.globals.panEnabled&&(e.classList.remove("hovering-zoom"),e.classList.add("hovering-pan"));var k=Math.round(y/f),M=Math.floor(C/g);x&&!o.config.xaxis.convertedCatToNumeric&&(k=Math.ceil(y/f),k-=1);var D=null,I=null,c=o.globals.seriesXvalues.map(function(A){return A.filter(function(T){return X.isNumber(T)})}),u=o.globals.seriesYvalues.map(function(A){return A.filter(function(T){return X.isNumber(T)})});if(o.globals.isXNumeric){var m=this.ttCtx.getElGrid().getBoundingClientRect(),w=y*(m.width/h);D=(I=this.closestInMultiArray(w,C*(m.height/d),c,u)).index,k=I.j,null!==D&&(k=(I=this.closestInArray(w,c=o.globals.seriesXvalues[D])).index)}return o.globals.capturedSeriesIndex=null===D?-1:D,(!k||k<1)&&(k=0),o.globals.capturedDataPointIndex=o.globals.isBarHorizontal?M:k,{capturedSeries:D,j:o.globals.isBarHorizontal?M:k,hoverX:y,hoverY:C}}},{key:"closestInMultiArray",value:function(t,e,i,a){var o=0,r=null,h=-1;this.w.globals.series.length>1?o=this.getFirstActiveXArray(i):r=0;var f=Math.abs(t-i[o][0]);if(i.forEach(function(y){y.forEach(function(C,k){var M=Math.abs(t-C);M<=f&&(f=M,h=k)})}),-1!==h){var x=Math.abs(e-a[o][h]);r=o,a.forEach(function(y,C){var k=Math.abs(e-y[h]);k<=x&&(x=k,r=C)})}return{index:r,j:h}}},{key:"getFirstActiveXArray",value:function(t){for(var e=this.w,i=0,a=t.map(function(o,r){return o.length>0?r:-1}),n=0;n<a.length;n++)if(-1!==a[n]&&-1===e.globals.collapsedSeriesIndices.indexOf(n)&&-1===e.globals.ancillaryCollapsedSeriesIndices.indexOf(n)){i=a[n];break}return i}},{key:"closestInArray",value:function(t,e){for(var a=null,n=Math.abs(t-e[0]),o=0;o<e.length;o++){var r=Math.abs(t-e[o]);r<n&&(n=r,a=o)}return{index:a}}},{key:"isXoverlap",value:function(t){var e=[],i=this.w.globals.seriesX.filter(function(n){return void 0!==n[0]});if(i.length>0)for(var a=0;a<i.length-1;a++)void 0!==i[a][t]&&void 0!==i[a+1][t]&&i[a][t]!==i[a+1][t]&&e.push("unEqual");return 0===e.length}},{key:"isInitialSeriesSameLen",value:function(){for(var t=!0,e=this.w.globals.initialSeries,i=0;i<e.length-1;i++)if(e[i].data.length!==e[i+1].data.length){t=!1;break}return t}},{key:"getBarsHeight",value:function(t){return Vt(t).reduce(function(e,i){return e+i.getBBox().height},0)}},{key:"getElMarkers",value:function(t){return this.w.globals.dom.baseEl.querySelectorAll("number"==typeof t?".apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-series-markers-wrap > *"):".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(t=Vt(t)).sort(function(i,a){var n=Number(i.getAttribute("data:realIndex")),o=Number(a.getAttribute("data:realIndex"));return o<n?1:o>n?-1:0});var e=[];return t.forEach(function(i){e.push(i.querySelector(".apexcharts-marker"))}),e}},{key:"hasMarkers",value:function(t){return this.getElMarkers(t).length>0}},{key:"getPathFromPoint",value:function(t,e){var i=Number(t.getAttribute("cx")),a=Number(t.getAttribute("cy")),n=t.getAttribute("shape");return new U(this.ctx).getMarkerPath(i,a,n,e)}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(t){var e=this.w,i=e.config.markers.hover.size;return void 0===i&&(i=e.globals.markers.size[t]+e.config.markers.hover.sizeOffset),i}},{key:"toggleAllTooltipSeriesGroups",value:function(t){var e=this.w,i=this.ttCtx;0===i.allTooltipSeriesGroups.length&&(i.allTooltipSeriesGroups=e.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var a=i.allTooltipSeriesGroups,n=0;n<a.length;n++)"enable"===t?(a[n].classList.add("apexcharts-active"),a[n].style.display=e.config.tooltip.items.display):(a[n].classList.remove("apexcharts-active"),a[n].style.display="none")}}]),E}(),yt=function(){function E(t){ot(this,E),this.w=t.w,this.ctx=t.ctx,this.ttCtx=t,this.tooltipUtil=new bi(t)}return v(E,[{key:"drawSeriesTexts",value:function(t){var e=t.shared,i=void 0===e||e,a=t.ttItems,n=t.i,o=void 0===n?0:n,r=t.j,h=void 0===r?null:r,g=t.e,x=this.w;void 0!==x.config.tooltip.custom?this.handleCustomTooltip({i:o,j:h,y1:t.y1,y2:t.y2,w:x}):this.toggleActiveInactiveSeries(i,o);var y=this.getValuesToPrint({i:o,j:h});this.printLabels({i:o,j:h,values:y,ttItems:a,shared:i,e:g});var C=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=C.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=C.getBoundingClientRect().height}},{key:"printLabels",value:function(t){var e,i=this,a=t.i,n=t.j,o=t.values,r=t.ttItems,h=t.shared,d=t.e,f=this.w,g=[],x=function(m){return f.globals.seriesGoals[m]&&f.globals.seriesGoals[m][n]&&Array.isArray(f.globals.seriesGoals[m][n])},y=o.xVal,C=o.zVal,k=o.xAxisTTVal,M="",D=f.globals.colors[a];null!==n&&f.config.plotOptions.bar.distributed&&(D=f.globals.colors[n]);for(var I=function(m,w){var b=i.getFormatters(a);M=i.getSeriesName({fn:b.yLbTitleFormatter,index:a,seriesIndex:a,j:n}),"treemap"===f.config.chart.type&&(M=b.yLbTitleFormatter(String(f.config.series[a].data[n].x),{series:f.globals.series,seriesIndex:a,dataPointIndex:n,w:f}));var A=f.config.tooltip.inverseOrder?w:m;if(f.globals.axisCharts){var T=function(F){var B,H,Y,V;return f.globals.isRangeData?b.yLbFormatter(null===(B=f.globals.seriesRangeStart)||void 0===B||null===(H=B[F])||void 0===H?void 0:H[n],{series:f.globals.seriesRangeStart,seriesIndex:F,dataPointIndex:n,w:f})+" - "+b.yLbFormatter(null===(Y=f.globals.seriesRangeEnd)||void 0===Y||null===(V=Y[F])||void 0===V?void 0:V[n],{series:f.globals.seriesRangeEnd,seriesIndex:F,dataPointIndex:n,w:f}):b.yLbFormatter(f.globals.series[F][n],{series:f.globals.series,seriesIndex:F,dataPointIndex:n,w:f})};if(h)b=i.getFormatters(A),M=i.getSeriesName({fn:b.yLbTitleFormatter,index:A,seriesIndex:a,j:n}),D=f.globals.colors[A],e=T(A),x(A)&&(g=f.globals.seriesGoals[A][n].map(function(F){return{attrs:F,val:b.yLbFormatter(F.value,{seriesIndex:A,dataPointIndex:n,w:f})}}));else{var z,N=null==d||null===(z=d.target)||void 0===z?void 0:z.getAttribute("fill");N&&(-1!==N.indexOf("url")?-1!==N.indexOf("Pattern")&&(D=f.globals.dom.baseEl.querySelector(N.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke")):D=N),e=T(a),x(a)&&Array.isArray(f.globals.seriesGoals[a][n])&&(g=f.globals.seriesGoals[a][n].map(function(F){return{attrs:F,val:b.yLbFormatter(F.value,{seriesIndex:a,dataPointIndex:n,w:f})}}))}}null===n&&(e=b.yLbFormatter(f.globals.series[a],$($({},f),{},{seriesIndex:a,dataPointIndex:a}))),i.DOMHandling({i:a,t:A,j:n,ttItems:r,values:{val:e,goalVals:g,xVal:y,xAxisTTVal:k,zVal:C},seriesName:M,shared:h,pColor:D})},c=0,u=f.globals.series.length-1;c<f.globals.series.length;c++,u--)I(c,u)}},{key:"getFormatters",value:function(t){var e,i=this.w,a=i.globals.yLabelFormatters[t];return void 0!==i.globals.ttVal?Array.isArray(i.globals.ttVal)?(a=i.globals.ttVal[t]&&i.globals.ttVal[t].formatter,e=i.globals.ttVal[t]&&i.globals.ttVal[t].title&&i.globals.ttVal[t].title.formatter):(a=i.globals.ttVal.formatter,"function"==typeof i.globals.ttVal.title.formatter&&(e=i.globals.ttVal.title.formatter)):e=i.config.tooltip.y.title.formatter,"function"!=typeof a&&(a=i.globals.yLabelFormatters[0]?i.globals.yLabelFormatters[0]:function(n){return n}),"function"!=typeof e&&(e=function(n){return n}),{yLbFormatter:a,yLbTitleFormatter:e}}},{key:"getSeriesName",value:function(t){var a=t.seriesIndex,n=t.j,o=this.w;return(0,t.fn)(String(o.globals.seriesNames[t.index]),{series:o.globals.series,seriesIndex:a,dataPointIndex:n,w:o})}},{key:"DOMHandling",value:function(t){var e=t.t,i=t.j,a=t.ttItems,n=t.values,o=t.seriesName,r=t.shared,h=t.pColor,d=this.w,f=this.ttCtx,g=n.val,x=n.goalVals,y=n.xVal,C=n.xAxisTTVal,k=n.zVal,M=null;M=a[e].children,d.config.tooltip.fillSeriesColor&&(a[e].style.backgroundColor=h,M[0].style.display="none"),f.showTooltipTitle&&(null===f.tooltipTitle&&(f.tooltipTitle=d.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),f.tooltipTitle.innerHTML=y),f.isXAxisTooltipEnabled&&(f.xaxisTooltipText.innerHTML=""!==C?C:y);var D=a[e].querySelector(".apexcharts-tooltip-text-y-label");D&&(D.innerHTML=o||"");var I=a[e].querySelector(".apexcharts-tooltip-text-y-value");I&&(I.innerHTML=void 0!==g?g:""),M[0]&&M[0].classList.contains("apexcharts-tooltip-marker")&&(d.config.tooltip.marker.fillColors&&Array.isArray(d.config.tooltip.marker.fillColors)&&(h=d.config.tooltip.marker.fillColors[e]),M[0].style.backgroundColor=h),d.config.tooltip.marker.show||(M[0].style.display="none");var c=a[e].querySelector(".apexcharts-tooltip-text-goals-label"),u=a[e].querySelector(".apexcharts-tooltip-text-goals-value");if(x.length&&d.globals.seriesGoals[e]){var m=function(){var A="<div >",T="<div>";x.forEach(function(z,N){A+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(z.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(z.attrs.name,"</div>"),T+="<div>".concat(z.val,"</div>")}),c.innerHTML=A+"</div>",u.innerHTML=T+"</div>"};r?d.globals.seriesGoals[e][i]&&Array.isArray(d.globals.seriesGoals[e][i])?m():(c.innerHTML="",u.innerHTML=""):m()}else c.innerHTML="",u.innerHTML="";if(null!==k&&(a[e].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=d.config.tooltip.z.title,a[e].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=void 0!==k?k:""),r&&M[0]){if(d.config.tooltip.hideEmptySeries){var w=a[e].querySelector(".apexcharts-tooltip-marker"),b=a[e].querySelector(".apexcharts-tooltip-text");0==parseFloat(g)?(w.style.display="none",b.style.display="none"):(w.style.display="block",b.style.display="block")}M[0].parentNode.style.display=null==g||d.globals.ancillaryCollapsedSeriesIndices.indexOf(e)>-1||d.globals.collapsedSeriesIndices.indexOf(e)>-1||Array.isArray(f.tConfig.enabledOnSeries)&&-1===f.tConfig.enabledOnSeries.indexOf(e)?"none":d.config.tooltip.items.display}else Array.isArray(f.tConfig.enabledOnSeries)&&-1===f.tConfig.enabledOnSeries.indexOf(e)&&(M[0].parentNode.style.display="none")}},{key:"toggleActiveInactiveSeries",value:function(t,e){var i=this.w;if(t)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var a=i.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group-".concat(e));a&&(a.classList.add("apexcharts-active"),a.style.display=i.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(t){var e=t.i,i=t.j,a=this.w,n=this.ctx.series.filteredSeriesX(),o="",r="",h=null,d=null,f={series:a.globals.series,seriesIndex:e,dataPointIndex:i,w:a},g=a.globals.ttZFormatter;null===i?d=a.globals.series[e]:a.globals.isXNumeric&&"treemap"!==a.config.chart.type?(o=n[e][i],0===n[e].length&&(o=n[this.tooltipUtil.getFirstActiveXArray(n)][i])):o=new Le(this.ctx).isFormatXY()?void 0!==a.config.series[e].data[i]?a.config.series[e].data[i].x:"":void 0!==a.globals.labels[i]?a.globals.labels[i]:"";var x=o;return o=a.globals.isXNumeric&&"datetime"===a.config.xaxis.type?new ce(this.ctx).xLabelFormat(a.globals.ttKeyFormatter,x,x,{i:void 0,dateFormatter:new Pt(this.ctx).formatDate,w:this.w}):a.globals.isBarHorizontal?a.globals.yLabelFormatters[0](x,f):a.globals.xLabelFormatter(x,f),void 0!==a.config.tooltip.x.formatter&&(o=a.globals.ttKeyFormatter(x,f)),a.globals.seriesZ.length>0&&a.globals.seriesZ[e].length>0&&(h=g(a.globals.seriesZ[e][i],a)),r="function"==typeof a.config.xaxis.tooltip.formatter?a.globals.xaxisTooltipFormatter(x,f):o,{val:Array.isArray(d)?d.join(" "):d,xVal:Array.isArray(o)?o.join(" "):o,xAxisTTVal:Array.isArray(r)?r.join(" "):r,zVal:h}}},{key:"handleCustomTooltip",value:function(t){var e=t.i,i=t.j,a=t.y1,n=t.y2,o=t.w,r=this.ttCtx.getElTooltip(),h=o.config.tooltip.custom;Array.isArray(h)&&h[e]&&(h=h[e]),r.innerHTML=h({ctx:this.ctx,series:o.globals.series,seriesIndex:e,dataPointIndex:i,y1:a,y2:n,w:o})}}]),E}(),hi=function(){function E(t){ot(this,E),this.ttCtx=t,this.ctx=t.ctx,this.w=t.w}return v(E,[{key:"moveXCrosshairs",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.ttCtx,a=this.w,n=i.getElXCrosshairs(),o=t-i.xcrosshairsWidth/2,r=a.globals.labels.slice().length;if(null!==e&&(o=a.globals.gridWidth/r*e),null===n||a.globals.isBarHorizontal||(n.setAttribute("x",o),n.setAttribute("x1",o),n.setAttribute("x2",o),n.setAttribute("y2",a.globals.gridHeight),n.classList.add("apexcharts-active")),o<0&&(o=0),o>a.globals.gridWidth&&(o=a.globals.gridWidth),i.isXAxisTooltipEnabled){var h=o;"tickWidth"!==a.config.xaxis.crosshairs.width&&"barWidth"!==a.config.xaxis.crosshairs.width||(h=o+i.xcrosshairsWidth/2),this.moveXAxisTooltip(h)}}},{key:"moveYCrosshairs",value:function(t){var e=this.ttCtx;null!==e.ycrosshairs&&U.setAttrs(e.ycrosshairs,{y1:t,y2:t}),null!==e.ycrosshairsHidden&&U.setAttrs(e.ycrosshairsHidden,{y1:t,y2:t})}},{key:"moveXAxisTooltip",value:function(t){var e=this.w,i=this.ttCtx;if(null!==i.xaxisTooltip&&0!==i.xcrosshairsWidth){i.xaxisTooltip.classList.add("apexcharts-active");var n,a=i.xaxisOffY+e.config.xaxis.tooltip.offsetY+e.globals.translateY+1+e.config.xaxis.offsetY;t-=i.xaxisTooltip.getBoundingClientRect().width/2,isNaN(t)||(t+=e.globals.translateX,n=new U(this.ctx).getTextRects(i.xaxisTooltipText.innerHTML),i.xaxisTooltipText.style.minWidth=n.width+"px",i.xaxisTooltip.style.left=t+"px",i.xaxisTooltip.style.top=a+"px")}}},{key:"moveYAxisTooltip",value:function(t){var e=this.w,i=this.ttCtx;null===i.yaxisTTEls&&(i.yaxisTTEls=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var a=parseInt(i.ycrosshairsHidden.getAttribute("y1"),10),n=e.globals.translateY+a,o=i.yaxisTTEls[t].getBoundingClientRect().height,r=e.globals.translateYAxisX[t]-2;e.config.yaxis[t].opposite&&(r-=26),n-=o/2,-1===e.globals.ignoreYAxisIndexes.indexOf(t)?(i.yaxisTTEls[t].classList.add("apexcharts-active"),i.yaxisTTEls[t].style.top=n+"px",i.yaxisTTEls[t].style.left=r+e.config.yaxis[t].tooltip.offsetX+"px"):i.yaxisTTEls[t].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=this.w,n=this.ttCtx,o=n.getElTooltip(),r=n.tooltipRect,h=null!==i?parseFloat(i):1,d=parseFloat(t)+h+5,f=parseFloat(e)+h/2;if(d>a.globals.gridWidth/2&&(d=d-r.ttWidth-h-10),d>a.globals.gridWidth-r.ttWidth-10&&(d=a.globals.gridWidth-r.ttWidth),d<-20&&(d=-20),a.config.tooltip.followCursor){var g=n.getElGrid().getBoundingClientRect();(d=n.e.clientX-g.left)>a.globals.gridWidth/2&&(d-=n.tooltipRect.ttWidth),(f=n.e.clientY+a.globals.translateY-g.top)>a.globals.gridHeight/2&&(f-=n.tooltipRect.ttHeight)}else a.globals.isBarHorizontal||r.ttHeight/2+f>a.globals.gridHeight&&(f=a.globals.gridHeight-r.ttHeight+a.globals.translateY);isNaN(d)||(o.style.left=(d+=a.globals.translateX)+"px",o.style.top=f+"px")}},{key:"moveMarkers",value:function(t,e){var i=this.w,a=this.ttCtx;if(i.globals.markers.size[t]>0)for(var n=i.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-marker")),o=0;o<n.length;o++)parseInt(n[o].getAttribute("rel"),10)===e&&(a.marker.resetPointsSize(),a.marker.enlargeCurrentPoint(e,n[o]));else a.marker.resetPointsSize(),this.moveDynamicPointOnHover(e,t)}},{key:"moveDynamicPointOnHover",value:function(t,e){var i,a,n,o,r=this.w,h=this.ttCtx,d=new U(this.ctx),f=r.globals.pointsArray,g=h.tooltipUtil.getHoverMarkerSize(e),x=r.config.series[e].type;if(!x||"column"!==x&&"candlestick"!==x&&"boxPlot"!==x){n=null===(i=f[e][t])||void 0===i?void 0:i[0],o=(null===(a=f[e][t])||void 0===a?void 0:a[1])||0;var y=r.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers path"));if(y&&o<r.globals.gridHeight&&o>0){var C=y.getAttribute("shape"),k=d.getMarkerPath(n,o,C,1.5*g);y.setAttribute("d",k)}this.moveXCrosshairs(n),h.fixedTooltip||this.moveTooltip(n,o,g)}}},{key:"moveDynamicPointsOnHover",value:function(t){var e,i=this.ttCtx,a=i.w,n=0,o=0,r=a.globals.pointsArray,h=new Jt(this.ctx),d=new U(this.ctx);e=h.getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var f=i.tooltipUtil.getHoverMarkerSize(e);r[e]&&(n=r[e][t][0],o=r[e][t][1]);var g=i.tooltipUtil.getAllMarkers();if(null!==g)for(var x=0;x<a.globals.series.length;x++){var y=r[x];if(a.globals.comboCharts&&void 0===y&&g.splice(x,0,null),y&&y.length){var C=r[x][t][1];g[x].setAttribute("cx",n);var M=g[x].getAttribute("shape");if("rangeArea"!==a.config.chart.type||a.globals.comboCharts||(C-=Math.abs(C-r[x][t+a.globals.series[x].length][1])/2),null!==C&&!isNaN(C)&&C<a.globals.gridHeight+f&&C+f>0){var I=d.getMarkerPath(n,C,M,f);g[x].setAttribute("d",I)}else g[x].setAttribute("d","")}}this.moveXCrosshairs(n),i.fixedTooltip||this.moveTooltip(n,o||a.globals.gridHeight,f)}},{key:"moveStickyTooltipOverBars",value:function(t,e){var i=this.w,a=this.ttCtx,n=i.globals.columnSeries?i.globals.columnSeries.length:i.globals.series.length,o=n>=2&&n%2==0?Math.floor(n/2):Math.floor(n/2)+1;i.globals.isBarHorizontal&&(o=new Jt(this.ctx).getActiveConfigSeriesIndex("desc")+1);var r=i.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(o,"'] path[j='").concat(t,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(t,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(t,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(t,"']"));r||"number"!=typeof e||(r=i.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(e,"'] path[j='").concat(t,"'],\n        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='").concat(e,"'] path[j='").concat(t,"'],\n        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='").concat(e,"'] path[j='").concat(t,"'],\n        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='").concat(e,"'] path[j='").concat(t,"']")));var h=r?parseFloat(r.getAttribute("cx")):0,d=r?parseFloat(r.getAttribute("cy")):0,f=r?parseFloat(r.getAttribute("barWidth")):0,g=a.getElGrid().getBoundingClientRect(),x=r&&(r.classList.contains("apexcharts-candlestick-area")||r.classList.contains("apexcharts-boxPlot-area"));i.globals.isXNumeric?(r&&!x&&(h-=n%2!=0?f/2:0),r&&x&&i.globals.comboCharts&&(h-=f/2)):i.globals.isBarHorizontal||(h=a.xAxisTicksPositions[t-1]+a.dataPointsDividedWidth/2,isNaN(h)&&(h=a.xAxisTicksPositions[t]-a.dataPointsDividedWidth/2)),i.globals.isBarHorizontal?d-=a.tooltipRect.ttHeight:i.config.tooltip.followCursor?d=a.e.clientY-g.top-a.tooltipRect.ttHeight/2:d+a.tooltipRect.ttHeight+15>i.globals.gridHeight&&(d=i.globals.gridHeight),i.globals.isBarHorizontal||this.moveXCrosshairs(h),a.fixedTooltip||this.moveTooltip(h,d||i.globals.gridHeight)}}]),E}(),yi=function(){function E(t){ot(this,E),this.w=t.w,this.ttCtx=t,this.ctx=t.ctx,this.tooltipPosition=new hi(t)}return v(E,[{key:"drawDynamicPoints",value:function(){var t=this.w,e=new U(this.ctx),i=new se(this.ctx),a=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series");a=Vt(a),t.config.chart.stacked&&a.sort(function(g,x){return parseFloat(g.getAttribute("data:realIndex"))-parseFloat(x.getAttribute("data:realIndex"))});for(var n=0;n<a.length;n++){var o=a[n].querySelector(".apexcharts-series-markers-wrap");if(null!==o){var r=void 0,h="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));"line"!==t.config.chart.type&&"area"!==t.config.chart.type||t.globals.comboCharts||t.config.tooltip.intersect||(h+=" no-pointer-events");var d=i.getMarkerConfig({cssClass:h,seriesIndex:Number(o.getAttribute("data:realIndex"))});(r=e.drawMarker(0,0,d)).node.setAttribute("default-marker-size",0);var f=document.createElementNS(t.globals.SVGNS,"g");f.classList.add("apexcharts-series-markers"),f.appendChild(r.node),o.appendChild(f)}}}},{key:"enlargeCurrentPoint",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=this.w;"bubble"!==n.config.chart.type&&this.newPointSize(t,e);var o=e.getAttribute("cx"),r=e.getAttribute("cy");if(null!==i&&null!==a&&(o=i,r=a),this.tooltipPosition.moveXCrosshairs(o),!this.fixedTooltip){if("radar"===n.config.chart.type){var h=this.ttCtx.getElGrid().getBoundingClientRect();o=this.ttCtx.e.clientX-h.left}this.tooltipPosition.moveTooltip(o,r,n.config.markers.hover.size)}}},{key:"enlargePoints",value:function(t){for(var e=this.w,i=this,a=this.ttCtx,n=t,o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),r=e.config.markers.hover.size,h=0;h<o.length;h++){var d=o[h].getAttribute("rel"),f=o[h].getAttribute("index");if(void 0===r&&(r=e.globals.markers.size[f]+e.config.markers.hover.sizeOffset),n===parseInt(d,10)){i.newPointSize(n,o[h]);var g=o[h].getAttribute("cx"),x=o[h].getAttribute("cy");i.tooltipPosition.moveXCrosshairs(g),a.fixedTooltip||i.tooltipPosition.moveTooltip(g,x,r)}else i.oldPointSize(o[h])}}},{key:"newPointSize",value:function(t,e){var i=this.w,a=i.config.markers.hover.size,n=0===t?e.parentNode.firstChild:e.parentNode.lastChild;if("0"!==n.getAttribute("default-marker-size")){var o=parseInt(n.getAttribute("index"),10);void 0===a&&(a=i.globals.markers.size[o]+i.config.markers.hover.sizeOffset),a<0&&(a=0);var r=this.ttCtx.tooltipUtil.getPathFromPoint(e,a);e.setAttribute("d",r)}}},{key:"oldPointSize",value:function(t){var e=parseFloat(t.getAttribute("default-marker-size")),i=this.ttCtx.tooltipUtil.getPathFromPoint(t,e);t.setAttribute("d",i)}},{key:"resetPointsSize",value:function(){for(var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),e=0;e<t.length;e++){var i=parseFloat(t[e].getAttribute("default-marker-size"));if(X.isNumber(i)&&i>=0){var a=this.ttCtx.tooltipUtil.getPathFromPoint(t[e],i);t[e].setAttribute("d",a)}else t[e].setAttribute("d","M0,0")}}}]),E}(),He=function(){function E(t){ot(this,E),this.w=t.w;var e=this.w;this.ttCtx=t,this.isVerticalGroupedRangeBar=!e.globals.isBarHorizontal&&"rangeBar"===e.config.chart.type&&e.config.plotOptions.bar.rangeBarGroupRows}return v(E,[{key:"getAttr",value:function(t,e){return parseFloat(t.target.getAttribute(e))}},{key:"handleHeatTreeTooltip",value:function(t){var e=t.e,i=t.opt,a=t.x,n=t.y,r=this.ttCtx,h=this.w;if(e.target.classList.contains("apexcharts-".concat(t.type,"-rect"))){var d=this.getAttr(e,"i"),f=this.getAttr(e,"j"),g=this.getAttr(e,"cx"),x=this.getAttr(e,"cy"),y=this.getAttr(e,"width"),C=this.getAttr(e,"height");if(r.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:d,j:f,shared:!1,e}),h.globals.capturedSeriesIndex=d,h.globals.capturedDataPointIndex=f,a=g+r.tooltipRect.ttWidth/2+y,n=x+r.tooltipRect.ttHeight/2-C/2,r.tooltipPosition.moveXCrosshairs(g+y/2),a>h.globals.gridWidth/2&&(a=g-r.tooltipRect.ttWidth/2+y),r.w.config.tooltip.followCursor){var k=h.globals.dom.elWrap.getBoundingClientRect();a=h.globals.clientX-k.left-(a>h.globals.gridWidth/2?r.tooltipRect.ttWidth:0),n=h.globals.clientY-k.top-(n>h.globals.gridHeight/2?r.tooltipRect.ttHeight:0)}}return{x:a,y:n}}},{key:"handleMarkerTooltip",value:function(t){var e,i,a=t.e,n=t.opt,o=t.x,r=t.y,h=this.w,d=this.ttCtx;if(a.target.classList.contains("apexcharts-marker")){var f=parseInt(n.paths.getAttribute("cx"),10),g=parseInt(n.paths.getAttribute("cy"),10),x=parseFloat(n.paths.getAttribute("val"));if(i=parseInt(n.paths.getAttribute("rel"),10),e=parseInt(n.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,d.intersect){var y=X.findAncestor(n.paths,"apexcharts-series");y&&(e=parseInt(y.getAttribute("data:realIndex"),10))}if(d.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:e,j:i,shared:!d.showOnIntersect&&h.config.tooltip.shared,e:a}),"mouseup"===a.type&&d.markerClick(a,e,i),h.globals.capturedSeriesIndex=e,h.globals.capturedDataPointIndex=i,o=f,r=g+h.globals.translateY-1.4*d.tooltipRect.ttHeight,d.w.config.tooltip.followCursor){var C=d.getElGrid().getBoundingClientRect();r=d.e.clientY+h.globals.translateY-C.top}x<0&&(r=g),d.marker.enlargeCurrentPoint(i,n.paths,o,r)}return{x:o,y:r}}},{key:"handleBarTooltip",value:function(t){var e,i,a=t.e,n=t.opt,o=this.w,r=this.ttCtx,h=r.getElTooltip(),d=0,f=0,g=0,x=this.getBarTooltipXY({e:a,opt:n}),y=x.j;if(o.globals.capturedSeriesIndex=e=x.i,o.globals.capturedDataPointIndex=y,o.globals.isBarHorizontal&&r.tooltipUtil.hasBars()||!o.config.tooltip.shared?(f=x.x,g=x.y,i=Array.isArray(o.config.stroke.width)?o.config.stroke.width[e]:o.config.stroke.width,d=f):o.globals.comboCharts||o.config.tooltip.shared||(d/=2),isNaN(g)&&(g=o.globals.svgHeight-r.tooltipRect.ttHeight),parseInt(n.paths.parentNode.getAttribute("data:realIndex"),10),f+r.tooltipRect.ttWidth>o.globals.gridWidth?f-=r.tooltipRect.ttWidth:f<0&&(f=0),r.w.config.tooltip.followCursor){var k=r.getElGrid().getBoundingClientRect();g=r.e.clientY-k.top}null===r.tooltip&&(r.tooltip=o.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),o.config.tooltip.shared||r.tooltipPosition.moveXCrosshairs(o.globals.comboBarCount>0?d+i/2:d),!r.fixedTooltip&&(!o.config.tooltip.shared||o.globals.isBarHorizontal&&r.tooltipUtil.hasBars())&&(g=g+o.globals.translateY-r.tooltipRect.ttHeight/2,h.style.left=f+o.globals.translateX+"px",h.style.top=g+"px")}},{key:"getBarTooltipXY",value:function(t){var e=this,i=t.e,a=t.opt,n=this.w,o=null,r=this.ttCtx,h=0,d=0,f=0,g=0,x=0,y=i.target.classList;if(y.contains("apexcharts-bar-area")||y.contains("apexcharts-candlestick-area")||y.contains("apexcharts-boxPlot-area")||y.contains("apexcharts-rangebar-area")){var C=i.target,k=C.getBoundingClientRect(),M=a.elGrid.getBoundingClientRect(),D=k.height;x=k.height;var I=k.width,c=parseInt(C.getAttribute("cx"),10),u=parseInt(C.getAttribute("cy"),10);g=parseFloat(C.getAttribute("barWidth"));var m="touchmove"===i.type?i.touches[0].clientX:i.clientX;o=parseInt(C.getAttribute("j"),10),h=parseInt(C.parentNode.getAttribute("rel"),10)-1;var w=C.getAttribute("data-range-y1"),b=C.getAttribute("data-range-y2");n.globals.comboCharts&&(h=parseInt(C.parentNode.getAttribute("data:realIndex"),10));var A=function(z){return n.globals.isXNumeric?c-I/2:e.isVerticalGroupedRangeBar?c+I/2:c-r.dataPointsDividedWidth+I/2},T=function(){return u-r.dataPointsDividedHeight+D/2-r.tooltipRect.ttHeight/2};r.tooltipLabels.drawSeriesTexts({ttItems:a.ttItems,i:h,j:o,y1:w?parseInt(w,10):null,y2:b?parseInt(b,10):null,shared:!r.showOnIntersect&&n.config.tooltip.shared,e:i}),n.config.tooltip.followCursor?n.globals.isBarHorizontal?(d=m-M.left+15,f=T()):(d=A(),f=i.clientY-M.top-r.tooltipRect.ttHeight/2-15):n.globals.isBarHorizontal?((d=c)<r.xyRatios.baseLineInvertedY&&(d=c-r.tooltipRect.ttWidth),f=T()):(d=A(),f=u)}return{x:d,y:f,barHeight:x,barWidth:g,i:h,j:o}}}]),E}(),Di=function(){function E(t){ot(this,E),this.w=t.w,this.ttCtx=t}return v(E,[{key:"drawXaxisTooltip",value:function(){var t=this.w,e=this.ttCtx,i="bottom"===t.config.xaxis.position;e.xaxisOffY=i?t.globals.gridHeight+1:-t.globals.xAxisHeight-t.config.xaxis.axisTicks.height+3;var a=i?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",n=t.globals.dom.elWrap;e.isXAxisTooltipEnabled&&null===t.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")&&(e.xaxisTooltip=document.createElement("div"),e.xaxisTooltip.setAttribute("class",a+" apexcharts-theme-"+t.config.tooltip.theme),n.appendChild(e.xaxisTooltip),e.xaxisTooltipText=document.createElement("div"),e.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),e.xaxisTooltipText.style.fontFamily=t.config.xaxis.tooltip.style.fontFamily||t.config.chart.fontFamily,e.xaxisTooltipText.style.fontSize=t.config.xaxis.tooltip.style.fontSize,e.xaxisTooltip.appendChild(e.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var t=this.w,e=this.ttCtx,i=0;i<t.config.yaxis.length;i++){var a=t.config.yaxis[i].opposite||t.config.yaxis[i].crosshairs.opposite;e.yaxisOffX=a?t.globals.gridWidth+1:1;var n="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(i,a?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),o=t.globals.dom.elWrap;null===t.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(i))&&(e.yaxisTooltip=document.createElement("div"),e.yaxisTooltip.setAttribute("class",n+" apexcharts-theme-"+t.config.tooltip.theme),o.appendChild(e.yaxisTooltip),0===i&&(e.yaxisTooltipText=[]),e.yaxisTooltipText[i]=document.createElement("div"),e.yaxisTooltipText[i].classList.add("apexcharts-yaxistooltip-text"),e.yaxisTooltip.appendChild(e.yaxisTooltipText[i]))}}},{key:"setXCrosshairWidth",value:function(){var t=this.w,e=this.ttCtx,i=e.getElXCrosshairs();if(e.xcrosshairsWidth=parseInt(t.config.xaxis.crosshairs.width,10),t.globals.comboCharts){var a=t.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==a&&"barWidth"===t.config.xaxis.crosshairs.width){var n=parseFloat(a.getAttribute("barWidth"));e.xcrosshairsWidth=n}else"tickWidth"===t.config.xaxis.crosshairs.width&&(e.xcrosshairsWidth=t.globals.gridWidth/t.globals.labels.length)}else if("tickWidth"===t.config.xaxis.crosshairs.width)e.xcrosshairsWidth=t.globals.gridWidth/t.globals.labels.length;else if("barWidth"===t.config.xaxis.crosshairs.width){var h=t.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==h){var d=parseFloat(h.getAttribute("barWidth"));e.xcrosshairsWidth=d}else e.xcrosshairsWidth=1}t.globals.isBarHorizontal&&(e.xcrosshairsWidth=0),null!==i&&e.xcrosshairsWidth>0&&i.setAttribute("width",e.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var t=this.w,e=this.ttCtx;e.ycrosshairs=t.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),e.ycrosshairsHidden=t.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(t,e,i){var a=this.ttCtx,n=this.w,o=n.globals,r=o.seriesYAxisMap[t];if(a.yaxisTooltips[t]&&r.length>0){var h=o.yLabelFormatters[t],d=a.getElGrid().getBoundingClientRect(),f=r[0],g=0;i.yRatio.length>1&&(g=f);var x=(e-d.top)*i.yRatio[g],y=o.maxYArr[f]-o.minYArr[f],C=o.minYArr[f]+(y-x);n.config.yaxis[t].reversed&&(C=o.maxYArr[f]-(y-x)),a.tooltipPosition.moveYCrosshairs(e-d.top),a.yaxisTooltipText[t].innerHTML=h(C),a.tooltipPosition.moveYAxisTooltip(t)}}}]),E}(),Te=function(){function E(t){ot(this,E),this.ctx=t,this.w=t.w;var e=this.w;this.tConfig=e.config.tooltip,this.tooltipUtil=new bi(this),this.tooltipLabels=new yt(this),this.tooltipPosition=new hi(this),this.marker=new yi(this),this.intersect=new He(this),this.axesTooltip=new Di(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!e.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return v(E,[{key:"getElTooltip",value:function(t){return t||(t=this),t.w.globals.dom.baseEl?t.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(t){var e=this.w;this.xyRatios=t,this.isXAxisTooltipEnabled=e.config.xaxis.tooltip.enabled&&e.globals.axisCharts,this.yaxisTooltips=e.config.yaxis.map(function(o,r){return!!(o.show&&o.tooltip.enabled&&e.globals.axisCharts)}),this.allTooltipSeriesGroups=[],e.globals.axisCharts||(this.showTooltipTitle=!1);var i=document.createElement("div");if(i.classList.add("apexcharts-tooltip"),e.config.tooltip.cssClass&&i.classList.add(e.config.tooltip.cssClass),i.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),e.globals.dom.elWrap.appendChild(i),e.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var a=new Pe(this.ctx);this.xAxisTicksPositions=a.getXAxisTicksPositions()}if(!e.globals.comboCharts&&!this.tConfig.intersect&&"rangeBar"!==e.config.chart.type||this.tConfig.shared||(this.showOnIntersect=!0),0!==e.config.markers.size&&0!==e.globals.markers.largestSize||this.marker.drawDynamicPoints(this),e.globals.collapsedSeries.length!==e.globals.series.length){this.dataPointsDividedHeight=e.globals.gridHeight/e.globals.dataPoints,this.dataPointsDividedWidth=e.globals.gridWidth/e.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||e.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,i.appendChild(this.tooltipTitle));var n=e.globals.series.length;(e.globals.xyCharts||e.globals.comboCharts)&&this.tConfig.shared&&(n=this.showOnIntersect?1:e.globals.series.length),this.legendLabels=e.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(n),this.addSVGEvents()}}},{key:"createTTElements",value:function(t){for(var e=this,i=this.w,a=[],n=this.getElTooltip(),o=function(h){var d=document.createElement("div");d.classList.add("apexcharts-tooltip-series-group","apexcharts-tooltip-series-group-".concat(h)),d.style.order=i.config.tooltip.inverseOrder?t-h:h+1;var f=document.createElement("span");f.classList.add("apexcharts-tooltip-marker"),f.style.backgroundColor=i.globals.colors[h],d.appendChild(f);var g=document.createElement("div");g.classList.add("apexcharts-tooltip-text"),g.style.fontFamily=e.tConfig.style.fontFamily||i.config.chart.fontFamily,g.style.fontSize=e.tConfig.style.fontSize,["y","goals","z"].forEach(function(x){var y=document.createElement("div");y.classList.add("apexcharts-tooltip-".concat(x,"-group"));var C=document.createElement("span");C.classList.add("apexcharts-tooltip-text-".concat(x,"-label")),y.appendChild(C);var k=document.createElement("span");k.classList.add("apexcharts-tooltip-text-".concat(x,"-value")),y.appendChild(k),g.appendChild(y)}),d.appendChild(g),n.appendChild(d),a.push(d)},r=0;r<t;r++)o(r);return a}},{key:"addSVGEvents",value:function(){var t=this.w,e=t.config.chart.type,i=this.getElTooltip(),a=!("bar"!==e&&"candlestick"!==e&&"boxPlot"!==e&&"rangeBar"!==e),n="area"===e||"line"===e||"scatter"===e||"bubble"===e||"radar"===e,o=t.globals.dom.Paper.node,r=this.getElGrid();r&&(this.seriesBound=r.getBoundingClientRect());var h,d=[],f=[],g={hoverArea:o,elGrid:r,tooltipEl:i,tooltipY:d,tooltipX:f,ttItems:this.ttItems};if(t.globals.axisCharts&&(n?h=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):a?h=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):"heatmap"!==e&&"treemap"!==e||(h=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),h&&h.length))for(var x=0;x<h.length;x++)d.push(h[x].getAttribute("cy")),f.push(h[x].getAttribute("cx"));if(t.globals.xyCharts&&!this.showOnIntersect||t.globals.comboCharts&&!this.showOnIntersect||a&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([o],g);else if(a&&!t.globals.comboCharts||n&&this.showOnIntersect)this.addDatapointEventsListeners(g);else if(!t.globals.axisCharts||"heatmap"===e||"treemap"===e){var y=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(y,g)}if(this.showOnIntersect){var C=t.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");C.length>0&&this.addPathsEventListeners(C,g),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(g)}}},{key:"drawFixedTooltipRect",value:function(){var t=this.w,e=this.getElTooltip(),i=e.getBoundingClientRect(),a=i.width+10,n=i.height+10,o=this.tConfig.fixed.offsetX,r=this.tConfig.fixed.offsetY,h=this.tConfig.fixed.position.toLowerCase();return h.indexOf("right")>-1&&(o=o+t.globals.svgWidth-a+10),h.indexOf("bottom")>-1&&(r=r+t.globals.svgHeight-n-10),e.style.left=o+"px",e.style.top=r+"px",{x:o,y:r,ttWidth:a,ttHeight:n}}},{key:"addDatapointEventsListeners",value:function(t){var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(e,t)}},{key:"addPathsEventListeners",value:function(t,e){for(var i=this,a=function(o){var r={paths:t[o],tooltipEl:e.tooltipEl,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:e.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(h){return t[o].addEventListener(h,i.onSeriesHover.bind(i,r),{capture:!1,passive:!0})})},n=0;n<t.length;n++)a(n)}},{key:"onSeriesHover",value:function(t,e){var i=this,a=Date.now()-this.lastHoverTime;a>=100?this.seriesHover(t,e):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){i.seriesHover(t,e)},100-a))}},{key:"seriesHover",value:function(t,e){var i=this;this.lastHoverTime=Date.now();var a=[],n=this.w;n.config.chart.group&&(a=this.ctx.getGroupedCharts()),n.globals.axisCharts&&(n.globals.minX===-1/0&&n.globals.maxX===1/0||0===n.globals.dataPoints)||(a.length?a.forEach(function(o){var r=i.getElTooltip(o);o.w.globals.minX===i.w.globals.minX&&o.w.globals.maxX===i.w.globals.maxX&&o.w.globals.tooltip.seriesHoverByContext({chartCtx:o,ttCtx:o.w.globals.tooltip,opt:{paths:t.paths,tooltipEl:r,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:o.w.globals.tooltip.ttItems},e})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:t,e}))}},{key:"seriesHoverByContext",value:function(t){var e=t.chartCtx,i=t.ttCtx,a=t.opt,n=t.e,o=e.w,r=this.getElTooltip(e);r&&(i.tooltipRect={x:0,y:0,ttWidth:r.getBoundingClientRect().width,ttHeight:r.getBoundingClientRect().height},i.e=n,i.tooltipUtil.hasBars()&&!o.globals.comboCharts&&!i.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new Jt(e).toggleSeriesOnHover(n,n.target.parentNode),i.fixedTooltip&&i.drawFixedTooltipRect(),o.globals.axisCharts?i.axisChartsTooltips({e:n,opt:a,tooltipRect:i.tooltipRect}):i.nonAxisChartsTooltips({e:n,opt:a,tooltipRect:i.tooltipRect}))}},{key:"axisChartsTooltips",value:function(t){var e,i,a=t.e,n=t.opt,o=this.w,r=n.elGrid.getBoundingClientRect(),h="touchmove"===a.type?a.touches[0].clientX:a.clientX,d="touchmove"===a.type?a.touches[0].clientY:a.clientY;if(this.clientY=d,this.clientX=h,o.globals.capturedSeriesIndex=-1,o.globals.capturedDataPointIndex=-1,d<r.top||d>r.top+r.height)this.handleMouseOut(n);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!o.config.tooltip.shared){var f=parseInt(n.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(f)<0)return void this.handleMouseOut(n)}var g=this.getElTooltip(),x=this.getElXCrosshairs(),y=[];o.config.chart.group&&(y=this.ctx.getSyncedCharts());var C=o.globals.xyCharts||"bar"===o.config.chart.type&&!o.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||o.globals.comboCharts&&this.tooltipUtil.hasBars();if("mousemove"===a.type||"touchmove"===a.type||"mouseup"===a.type){if(o.globals.collapsedSeries.length+o.globals.ancillaryCollapsedSeries.length===o.globals.series.length)return;null!==x&&x.classList.add("apexcharts-active");var k=this.yaxisTooltips.filter(function(I){return!0===I});if(null!==this.ycrosshairs&&k.length&&this.ycrosshairs.classList.add("apexcharts-active"),C&&!this.showOnIntersect||y.length>1)this.handleStickyTooltip(a,h,d,n);else if("heatmap"===o.config.chart.type||"treemap"===o.config.chart.type){var M=this.intersect.handleHeatTreeTooltip({e:a,opt:n,x:e,y:i,type:o.config.chart.type});i=M.y,g.style.left=(e=M.x)+"px",g.style.top=i+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:a,opt:n}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:a,opt:n,x:e,y:i});if(this.yaxisTooltips.length)for(var D=0;D<o.config.yaxis.length;D++)this.axesTooltip.drawYaxisTooltipText(D,d,this.xyRatios);o.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),n.tooltipEl.classList.add("apexcharts-active")}else"mouseout"!==a.type&&"touchend"!==a.type||this.handleMouseOut(n)}}},{key:"nonAxisChartsTooltips",value:function(t){var e=t.e,i=t.opt,a=t.tooltipRect,n=this.w,o=i.paths.getAttribute("rel"),r=this.getElTooltip(),h=n.globals.dom.elWrap.getBoundingClientRect();if("mousemove"===e.type||"touchmove"===e.type){n.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),r.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:parseInt(o,10)-1,shared:!1});var f=n.globals.clientY-h.top-a.ttHeight-10;if(r.style.left=n.globals.clientX-h.left-a.ttWidth/2+"px",r.style.top=f+"px",n.config.legend.tooltipHoverFormatter){var g=o-1,x=(0,n.config.legend.tooltipHoverFormatter)(this.legendLabels[g].getAttribute("data:default-text"),{seriesIndex:g,dataPointIndex:g,w:n});this.legendLabels[g].innerHTML=x}}else"mouseout"!==e.type&&"touchend"!==e.type||(r.classList.remove("apexcharts-active"),n.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),n.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(y){var C=y.getAttribute("data:default-text");y.innerHTML=decodeURIComponent(C)}))}},{key:"handleStickyTooltip",value:function(t,e,i,a){var n=this.w,o=this.tooltipUtil.getNearestValues({context:this,hoverArea:a.hoverArea,elGrid:a.elGrid,clientX:e,clientY:i}),r=o.j,h=o.capturedSeries;n.globals.collapsedSeriesIndices.includes(h)&&(h=null);var d=a.elGrid.getBoundingClientRect();if(o.hoverX<0||o.hoverX>d.width)this.handleMouseOut(a);else if(null!==h)this.handleStickyCapturedSeries(t,h,a,r);else if(this.tooltipUtil.isXoverlap(r)||n.globals.isBarHorizontal){var f=n.globals.series.findIndex(function(g,x){return!n.globals.collapsedSeriesIndices.includes(x)});this.create(t,this,f,r,a.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(t,e,i,a){var n=this.w;if(this.tConfig.shared||null!==n.globals.series[e][a]){if(void 0!==n.globals.series[e][a])this.tConfig.shared&&this.tooltipUtil.isXoverlap(a)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(t,this,e,a,i.ttItems):this.create(t,this,e,a,i.ttItems,!1);else if(this.tooltipUtil.isXoverlap(a)){var o=n.globals.series.findIndex(function(r,h){return!n.globals.collapsedSeriesIndices.includes(h)});this.create(t,this,o,a,i.ttItems)}}else this.handleMouseOut(i)}},{key:"deactivateHoverFilter",value:function(){for(var t=this.w,e=new U(this.ctx),i=t.globals.dom.Paper.select(".apexcharts-bar-area"),a=0;a<i.length;a++)e.pathMouseLeave(i[a])}},{key:"handleMouseOut",value:function(t){var e=this.w,i=this.getElXCrosshairs();if(e.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),t.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),"bubble"!==e.config.chart.type&&this.marker.resetPointsSize(),null!==i&&i.classList.remove("apexcharts-active"),null!==this.ycrosshairs&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){null===this.yaxisTTEls&&(this.yaxisTTEls=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var a=0;a<this.yaxisTTEls.length;a++)this.yaxisTTEls[a].classList.remove("apexcharts-active")}e.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(n){var o=n.getAttribute("data:default-text");n.innerHTML=decodeURIComponent(o)})}},{key:"markerClick",value:function(t,e,i){var a=this.w;"function"==typeof a.config.chart.events.markerClick&&a.config.chart.events.markerClick(t,this.ctx,{seriesIndex:e,dataPointIndex:i,w:a}),this.ctx.events.fireEvent("markerClick",[t,this.ctx,{seriesIndex:e,dataPointIndex:i,w:a}])}},{key:"create",value:function(t,e,i,a,n){var o,r,h,d,f,g,x,y,C,k,M,D,I,c,u,m,w=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,b=this.w,A=e;"mouseup"===t.type&&this.markerClick(t,i,a),null===w&&(w=this.tConfig.shared);var T=this.tooltipUtil.hasMarkers(i),z=this.tooltipUtil.getElBars();if(b.config.legend.tooltipHoverFormatter){var N=b.config.legend.tooltipHoverFormatter,F=Array.from(this.legendLabels);F.forEach(function(bt){var mt=bt.getAttribute("data:default-text");bt.innerHTML=decodeURIComponent(mt)});for(var B=0;B<F.length;B++){var H=F[B],Y=parseInt(H.getAttribute("i"),10),V=decodeURIComponent(H.getAttribute("data:default-text")),tt=N(V,{seriesIndex:w?Y:i,dataPointIndex:a,w:b});if(w)H.innerHTML=b.globals.collapsedSeriesIndices.indexOf(Y)<0?tt:V;else if(H.innerHTML=Y===i?tt:V,i===Y)break}}var et=$($({ttItems:n,i,j:a},void 0!==(null===(o=b.globals.seriesRange)||void 0===o||null===(r=o[i])||void 0===r||null===(h=r[a])||void 0===h||null===(d=h.y[0])||void 0===d?void 0:d.y1)&&{y1:null===(f=b.globals.seriesRange)||void 0===f||null===(g=f[i])||void 0===g||null===(x=g[a])||void 0===x||null===(y=x.y[0])||void 0===y?void 0:y.y1}),void 0!==(null===(C=b.globals.seriesRange)||void 0===C||null===(k=C[i])||void 0===k||null===(M=k[a])||void 0===M||null===(D=M.y[0])||void 0===D?void 0:D.y2)&&{y2:null===(I=b.globals.seriesRange)||void 0===I||null===(c=I[i])||void 0===c||null===(u=c[a])||void 0===u||null===(m=u.y[0])||void 0===m?void 0:m.y2});if(w){if(A.tooltipLabels.drawSeriesTexts($($({},et),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),T)b.globals.markers.largestSize>0?A.marker.enlargePoints(a):A.tooltipPosition.moveDynamicPointsOnHover(a);else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(z),this.barSeriesHeight>0)){var rt=new U(this.ctx),st=b.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(a,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(a,i);for(var ht=0;ht<st.length;ht++)rt.pathMouseEnter(st[ht])}}else A.tooltipLabels.drawSeriesTexts($({shared:!1},et)),this.tooltipUtil.hasBars()&&A.tooltipPosition.moveStickyTooltipOverBars(a,i),T&&A.tooltipPosition.moveMarkers(i,a)}}]),E}(),ee=function(){function E(t){ot(this,E),this.w=t.w,this.barCtx=t,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return v(E,[{key:"handleBarDataLabels",value:function(t){var e,i,a=t.x,n=t.y,o=t.y1,r=t.y2,h=t.i,d=t.j,f=t.realIndex,g=t.columnGroupIndex,x=t.series,y=t.barHeight,C=t.barWidth,k=t.barXPosition,M=t.barYPosition,D=t.visibleSeries,I=t.renderedPath,c=this.w,u=new U(this.barCtx.ctx),m=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[f]:this.barCtx.strokeWidth;c.globals.isXNumeric&&!c.globals.isBarHorizontal?(e=a+parseFloat(C*(D+1)),i=n+parseFloat(y*(D+1))-m):(e=a+parseFloat(C*D),i=n+parseFloat(y*D));var w,z,b=null,A=a,T=n,N=c.config.dataLabels,F=this.barCtx.barOptions.dataLabels,B=this.barCtx.barOptions.dataLabels.total;void 0!==M&&this.barCtx.isRangeBar&&(i=M,T=M),void 0!==k&&this.barCtx.isVerticalGroupedRangeBar&&(e=k,A=k);var H=N.offsetX,Y=N.offsetY,V={width:0,height:0};if(c.config.dataLabels.enabled){var tt=c.globals.series[h][d];V=u.getTextRects(c.config.dataLabels.formatter?c.config.dataLabels.formatter(tt,$($({},c),{},{seriesIndex:h,dataPointIndex:d,w:c})):c.globals.yLabelFormatters[0](tt),parseFloat(N.style.fontSize))}var et={x:a,y:n,i:h,j:d,realIndex:f,columnGroupIndex:g,renderedPath:I,bcx:e,bcy:i,barHeight:y,barWidth:C,textRects:V,strokeWidth:m,dataLabelsX:A,dataLabelsY:T,dataLabelsConfig:N,barDataLabelsConfig:F,barTotalDataLabelsConfig:B,offX:H,offY:Y};return z=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(et):this.calculateColumnsDataLabelsPosition(et),I.attr({cy:z.bcy,cx:z.bcx,j:d,val:c.globals.series[h][d],barHeight:y,barWidth:C}),w=this.drawCalculatedDataLabels({x:z.dataLabelsX,y:z.dataLabelsY,val:this.barCtx.isRangeBar?[o,r]:"100%"===c.config.chart.stackType?x[f][d]:c.globals.series[f][d],i:f,j:d,barWidth:C,barHeight:y,textRects:V,dataLabelsConfig:N}),c.config.chart.stacked&&B.enabled&&(b=this.drawTotalDataLabels({x:z.totalDataLabelsX,y:z.totalDataLabelsY,barWidth:C,barHeight:y,realIndex:f,textAnchor:z.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:f,j:d}),dataLabelsConfig:N,barTotalDataLabelsConfig:B})),{dataLabels:w,totalDataLabels:b}}},{key:"getStackedTotalDataLabel",value:function(t){var e=t.realIndex,i=t.j,a=this.w,n=this.barCtx.stackedSeriesTotals[i];return this.totalFormatter&&(n=this.totalFormatter(n,$($({},a),{},{seriesIndex:e,dataPointIndex:i,w:a}))),n}},{key:"calculateColumnsDataLabelsPosition",value:function(t){var o,r,e=this.w,i=t.i,a=t.j,n=t.realIndex,h=t.y,d=t.bcx,f=t.barWidth,g=t.barHeight,x=t.textRects,y=t.dataLabelsX,C=t.dataLabelsY,k=t.dataLabelsConfig,M=t.barDataLabelsConfig,D=t.barTotalDataLabelsConfig,I=t.strokeWidth,c=t.offX,u=t.offY,m=d;g=Math.abs(g);var w="vertical"===e.config.plotOptions.bar.dataLabels.orientation,b=this.barCtx.barHelpers.getZeroValueEncounters({i,j:a}).zeroEncounters;d-=I/2;var A=e.globals.gridWidth/e.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?y+=f/2:(y=e.globals.isXNumeric?d-f/2+c:d-A+f/2+c,b>0&&e.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(y-=f*b)),w&&(y=y+x.height/2-I/2-2);var T=e.globals.series[i][a]<0,z=h;switch(this.barCtx.isReversed&&(z=h+(T?g:-g)),M.position){case"center":C=w?T?z-g/2+u:z+g/2-u:T?z-g/2+x.height/2+u:z+g/2+x.height/2-u;break;case"bottom":C=w?T?z-g+u:z+g-u:T?z-g+x.height+I+u:z+g-x.height/2+I-u;break;case"top":C=w?T?z+u:z-u:T?z-x.height/2-u:z+x.height+u}if(this.barCtx.lastActiveBarSerieIndex===n&&D.enabled){var N=new U(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:n,j:a}),k.fontSize);o=T?z-N.height/2-u-D.offsetY+18:z+N.height+u+D.offsetY-18,r=m+(e.globals.isXNumeric?-f*e.globals.barGroups.length/2:e.globals.barGroups.length*f/2-(e.globals.barGroups.length-1)*f-A)+D.offsetX}return e.config.chart.stacked||(C<0?C=0+I:C+x.height/3>e.globals.gridHeight&&(C=e.globals.gridHeight-I)),{bcx:d,bcy:h,dataLabelsX:y,dataLabelsY:C,totalDataLabelsX:r,totalDataLabelsY:o,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(t){var e=this.w,i=t.x,a=t.i,n=t.j,o=t.realIndex,r=t.bcy,h=t.barHeight,d=t.barWidth,f=t.textRects,g=t.dataLabelsX,x=t.strokeWidth,y=t.dataLabelsConfig,C=t.barDataLabelsConfig,k=t.barTotalDataLabelsConfig,M=t.offX,D=t.offY,I=e.globals.gridHeight/e.globals.dataPoints;d=Math.abs(d);var c,u,m=r-(this.barCtx.isRangeBar?0:I)+h/2+f.height/2+D-3,w="start",b=e.globals.series[a][n]<0,A=i;switch(this.barCtx.isReversed&&(A=i+(b?-d:d),w=b?"start":"end"),C.position){case"center":g=b?A+d/2-M:Math.max(f.width/2,A-d/2)+M;break;case"bottom":g=b?A+d-x-M:A-d+x+M;break;case"top":g=b?A-x-M:A-x+M}if(this.barCtx.lastActiveBarSerieIndex===o&&k.enabled){var T=new U(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:o,j:n}),y.fontSize);b?(c=A-x-M-k.offsetX,w="end"):c=A+M+k.offsetX+(this.barCtx.isReversed?-(d+x):x),u=m-f.height/2+T.height/2+k.offsetY+x}return e.config.chart.stacked||("start"===y.textAnchor?g-f.width<0?g=b?f.width+x:x:g+f.width>e.globals.gridWidth&&(g=b?e.globals.gridWidth-x:e.globals.gridWidth-f.width-x):"middle"===y.textAnchor?g-f.width/2<0?g=f.width/2+x:g+f.width/2>e.globals.gridWidth&&(g=e.globals.gridWidth-f.width/2-x):"end"===y.textAnchor&&(g<1?g=f.width+x:g+1>e.globals.gridWidth&&(g=e.globals.gridWidth-f.width-x))),{bcx:i,bcy:r,dataLabelsX:g,dataLabelsY:m,totalDataLabelsX:c,totalDataLabelsY:u,totalDataLabelsAnchor:w}}},{key:"drawCalculatedDataLabels",value:function(t){var e=t.x,i=t.y,a=t.val,n=t.i,o=t.j,r=t.textRects,h=t.barHeight,d=t.barWidth,f=t.dataLabelsConfig,g=this.w,x="rotate(0)";"vertical"===g.config.plotOptions.bar.dataLabels.orientation&&(x="rotate(-90, ".concat(e,", ").concat(i,")"));var y=new ke(this.barCtx.ctx),C=new U(this.barCtx.ctx),k=f.formatter,M=null,D=g.globals.collapsedSeriesIndices.indexOf(n)>-1;if(f.enabled&&!D){M=C.group({class:"apexcharts-data-labels",transform:x});var I="";void 0!==a&&(I=k(a,$($({},g),{},{seriesIndex:n,dataPointIndex:o,w:g}))),!a&&g.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(I="");var c=g.globals.series[n][o]<0,u=g.config.plotOptions.bar.dataLabels.position;"vertical"===g.config.plotOptions.bar.dataLabels.orientation&&("top"===u&&(f.textAnchor=c?"end":"start"),"center"===u&&(f.textAnchor="middle"),"bottom"===u&&(f.textAnchor=c?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&d<C.getTextRects(I,parseFloat(f.style.fontSize)).width&&(I=""),g.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?r.width/1.6>Math.abs(d)&&(I=""):r.height/1.6>Math.abs(h)&&(I=""));var m=$({},f);this.barCtx.isHorizontal&&a<0&&("start"===f.textAnchor?m.textAnchor="end":"end"===f.textAnchor&&(m.textAnchor="start")),y.plotDataLabelsText({x:e,y:i,text:I,i:n,j:o,parent:M,dataLabelsConfig:m,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return M}},{key:"drawTotalDataLabels",value:function(t){var h,e=t.x,i=t.y,a=t.val,n=t.realIndex,o=t.textAnchor,r=t.barTotalDataLabelsConfig,d=new U(this.barCtx.ctx);return r.enabled&&void 0!==e&&void 0!==i&&this.barCtx.lastActiveBarSerieIndex===n&&(h=d.drawText({x:e,y:i,foreColor:r.style.color,text:a,textAnchor:o,fontFamily:r.style.fontFamily,fontSize:r.style.fontSize,fontWeight:r.style.fontWeight})),h}}]),E}(),Ii=function(){function E(t){ot(this,E),this.w=t.w,this.barCtx=t}return v(E,[{key:"initVariables",value:function(t){var e=this.w;this.barCtx.series=t,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var i=0;i<t.length;i++)if(t[i].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=t[i].length),e.globals.isXNumeric)for(var a=0;a<t[i].length;a++)e.globals.seriesX[i][a]>e.globals.minX&&e.globals.seriesX[i][a]<e.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=e.globals.dataPoints;this.arrBorderRadius=this.createBorderRadiusArr(e.globals.series),0===this.barCtx.seriesLen&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],e.globals.comboCharts||this.checkZeroSeries({series:t})}},{key:"initialPositions",value:function(){var t,e,i,a,n,o,r,h,d=this.w,f=d.globals.dataPoints;this.barCtx.isRangeBar&&(f=d.globals.labels.length);var g=this.barCtx.seriesLen;if(d.config.plotOptions.bar.rangeBarGroupRows&&(g=1),this.barCtx.isHorizontal)n=(i=d.globals.gridHeight/f)/g,d.globals.isXNumeric&&(n=(i=d.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),n=n*parseInt(this.barCtx.barOptions.barHeight,10)/100,-1===String(this.barCtx.barOptions.barHeight).indexOf("%")&&(n=parseInt(this.barCtx.barOptions.barHeight,10)),h=this.barCtx.baseLineInvertedY+d.globals.padHorizontal+(this.barCtx.isReversed?d.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(h=d.globals.gridWidth/2),e=(i-n*this.barCtx.seriesLen)/2;else{if(a=d.globals.gridWidth/this.barCtx.visibleItems,d.config.xaxis.convertedCatToNumeric&&(a=d.globals.gridWidth/d.globals.dataPoints),o=a/g*parseInt(this.barCtx.barOptions.columnWidth,10)/100,d.globals.isXNumeric){var x=this.barCtx.xRatio;d.globals.minXDiff&&.5!==d.globals.minXDiff&&d.globals.minXDiff/x>0&&(a=d.globals.minXDiff/x),(o=a/g*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(o=1)}-1===String(this.barCtx.barOptions.columnWidth).indexOf("%")&&(o=parseInt(this.barCtx.barOptions.columnWidth,10)),r=d.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?d.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),t=d.globals.padHorizontal+(a-o*this.barCtx.seriesLen)/2}return d.globals.barHeight=n,d.globals.barWidth=o,{x:t,y:e,yDivision:i,xDivision:a,barHeight:n,barWidth:o,zeroH:r,zeroW:h}}},{key:"initializeStackedPrevVars",value:function(t){t.w.globals.seriesGroups.forEach(function(e){t[e]||(t[e]={}),t[e].prevY=[],t[e].prevX=[],t[e].prevYF=[],t[e].prevXF=[],t[e].prevYVal=[],t[e].prevXVal=[]})}},{key:"initializeStackedXYVars",value:function(t){t.w.globals.seriesGroups.forEach(function(e){t[e]||(t[e]={}),t[e].xArrj=[],t[e].xArrjF=[],t[e].xArrjVal=[],t[e].yArrj=[],t[e].yArrjF=[],t[e].yArrjVal=[]})}},{key:"getPathFillColor",value:function(t,e,i,a){var n,o,r,h,d,f=this.w,g=this.barCtx.ctx.fill,x=null,y=this.barCtx.barOptions.distributed?i:e;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(C){t[e][i]>=C.from&&t[e][i]<=C.to&&(x=C.color)}),null!==(n=f.config.series[e].data[i])&&void 0!==n&&n.fillColor&&(x=f.config.series[e].data[i].fillColor),g.fillPath({seriesNumber:this.barCtx.barOptions.distributed?y:a,dataPointIndex:i,color:x,value:t[e][i],fillConfig:null===(o=f.config.series[e].data[i])||void 0===o?void 0:o.fill,fillType:null!==(r=f.config.series[e].data[i])&&void 0!==r&&null!==(h=r.fill)&&void 0!==h&&h.type?null===(d=f.config.series[e].data[i])||void 0===d?void 0:d.fill.type:Array.isArray(f.config.fill.type)?f.config.fill.type[a]:f.config.fill.type})}},{key:"getStrokeWidth",value:function(t,e,i){var a=0,n=this.w;return this.barCtx.isNullValue=!this.barCtx.series[t][e],n.config.stroke.show&&(this.barCtx.isNullValue||(a=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[i]:this.barCtx.strokeWidth)),a}},{key:"createBorderRadiusArr",value:function(t){var e=this.w,i=!this.w.config.chart.stacked||"last"!==e.config.plotOptions.bar.borderRadiusWhenStacked||e.config.plotOptions.bar.borderRadius<=0,a=t.length,n=t[0].length,o=Array.from({length:a},function(){return Array(n).fill(i?"top":"none")});if(i)return o;for(var r=0;r<n;r++){for(var h=[],d=[],f=0,g=0;g<a;g++){var x=t[g][r];x>0?(h.push(g),f++):x<0&&(d.push(g),f++)}if(h.length>0&&0===d.length)if(1===h.length)o[h[0]][r]="both";else{var y,C=h[0],k=h[h.length-1],M=P(h);try{for(M.s();!(y=M.n()).done;){var D=y.value;o[D][r]=D===C?"bottom":D===k?"top":"none"}}catch(Y){M.e(Y)}finally{M.f()}}else if(d.length>0&&0===h.length)if(1===d.length)o[d[0]][r]="both";else{var I,c=d[0],u=d[d.length-1],m=P(d);try{for(m.s();!(I=m.n()).done;){var w=I.value;o[w][r]=w===c?"bottom":w===u?"top":"none"}}catch(Y){m.e(Y)}finally{m.f()}}else if(h.length>0&&d.length>0){var b,A=h[h.length-1],T=P(h);try{for(T.s();!(b=T.n()).done;){var z=b.value;o[z][r]=z===A?"top":"none"}}catch(Y){T.e(Y)}finally{T.f()}var N,F=d[d.length-1],B=P(d);try{for(B.s();!(N=B.n()).done;){var H=N.value;o[H][r]=H===F?"bottom":"none"}}catch(Y){B.e(Y)}finally{B.f()}}else 1===f&&(o[h[0]||d[0]][r]="both")}return o}},{key:"barBackground",value:function(t){var e=t.j,i=t.i,a=t.x1,n=t.x2,o=t.y1,r=t.y2,h=t.elSeries,d=this.w,f=new U(this.barCtx.ctx),g=new Jt(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&g===i){e>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(e%=this.barCtx.barOptions.colors.backgroundBarColors.length);var y=f.drawRect(void 0!==a?a:0,void 0!==o?o:0,void 0!==n?n:d.globals.gridWidth,void 0!==r?r:d.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,this.barCtx.barOptions.colors.backgroundBarColors[e],this.barCtx.barOptions.colors.backgroundBarOpacity);h.add(y),y.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(t){var e,i=t.barWidth,a=t.barXPosition,n=t.y1,o=t.y2,r=t.strokeWidth,h=t.isReversed,d=t.series,f=t.seriesGroup,g=t.realIndex,x=t.i,y=t.j,C=t.w,k=new U(this.barCtx.ctx);(r=Array.isArray(r)?r[g]:r)||(r=0);var M=i,D=a;null!==(e=C.config.series[g].data[y])&&void 0!==e&&e.columnWidthOffset&&(D=a-C.config.series[g].data[y].columnWidthOffset/2,M=i+C.config.series[g].data[y].columnWidthOffset);var I=r/2,c=D+I,u=D+M-I,m=(d[x][y]>=0?1:-1)*(h?-1:1);o+=.001+I*m;var w=k.move(c,n+=.001-I*m),b=k.move(c,n),A=k.line(u,n);if(C.globals.previousPaths.length>0&&(b=this.barCtx.getPreviousPath(g,y,!1)),w=w+k.line(c,o)+k.line(u,o)+A+("around"===C.config.plotOptions.bar.borderRadiusApplication||"both"===this.arrBorderRadius[g][y]?" Z":" z"),b=b+k.line(c,n)+A+A+A+A+A+k.line(c,n)+("around"===C.config.plotOptions.bar.borderRadiusApplication||"both"===this.arrBorderRadius[g][y]?" Z":" z"),"none"!==this.arrBorderRadius[g][y]&&(w=k.roundPathCorners(w,C.config.plotOptions.bar.borderRadius)),C.config.chart.stacked){var T=this.barCtx;(T=this.barCtx[f]).yArrj.push(o-I*m),T.yArrjF.push(Math.abs(n-o+r*m)),T.yArrjVal.push(this.barCtx.series[x][y])}return{pathTo:w,pathFrom:b}}},{key:"getBarpaths",value:function(t){var e,i=t.barYPosition,a=t.barHeight,n=t.x1,o=t.x2,r=t.strokeWidth,h=t.isReversed,d=t.series,f=t.seriesGroup,g=t.realIndex,x=t.i,y=t.j,C=t.w,k=new U(this.barCtx.ctx);(r=Array.isArray(r)?r[g]:r)||(r=0);var M=i,D=a;null!==(e=C.config.series[g].data[y])&&void 0!==e&&e.barHeightOffset&&(M=i-C.config.series[g].data[y].barHeightOffset/2,D=a+C.config.series[g].data[y].barHeightOffset);var I=r/2,c=M+I,u=M+D-I,m=(d[x][y]>=0?1:-1)*(h?-1:1);o+=.001-I*m;var w=k.move(n+=.001+I*m,c),b=k.move(n,c);C.globals.previousPaths.length>0&&(b=this.barCtx.getPreviousPath(g,y,!1));var A=k.line(n,u);if(w=w+k.line(o,c)+k.line(o,u)+A+("around"===C.config.plotOptions.bar.borderRadiusApplication||"both"===this.arrBorderRadius[g][y]?" Z":" z"),b=b+k.line(n,c)+A+A+A+A+A+k.line(n,c)+("around"===C.config.plotOptions.bar.borderRadiusApplication||"both"===this.arrBorderRadius[g][y]?" Z":" z"),"none"!==this.arrBorderRadius[g][y]&&(w=k.roundPathCorners(w,C.config.plotOptions.bar.borderRadius)),C.config.chart.stacked){var T=this.barCtx;(T=this.barCtx[f]).xArrj.push(o+I*m),T.xArrjF.push(Math.abs(n-o-r*m)),T.xArrjVal.push(this.barCtx.series[x][y])}return{pathTo:w,pathFrom:b}}},{key:"checkZeroSeries",value:function(t){for(var e=t.series,i=this.w,a=0;a<e.length;a++){for(var n=0,o=0;o<e[i.globals.maxValsInArrayIndex].length;o++)n+=e[a][o];0===n&&this.barCtx.zeroSerieses.push(a)}}},{key:"getXForValue",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?null:e;return null!=t&&(i=e+t/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?t/this.barCtx.invertedYRatio:0)),i}},{key:"getYForValue",value:function(t,e,i){var a=arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?null:e;return null!=t&&(a=e-t/this.barCtx.yRatio[i]+2*(this.barCtx.isReversed?t/this.barCtx.yRatio[i]:0)),a}},{key:"getGoalValues",value:function(t,e,i,a,n,o){var r=this,h=this.w,d=[],f=function(y,C){var k;d.push((Z(k={},t,"x"===t?r.getXForValue(y,e,!1):r.getYForValue(y,i,o,!1)),Z(k,"attrs",C),k))};if(h.globals.seriesGoals[a]&&h.globals.seriesGoals[a][n]&&Array.isArray(h.globals.seriesGoals[a][n])&&h.globals.seriesGoals[a][n].forEach(function(y){f(y.value,y)}),this.barCtx.barOptions.isDumbbell&&h.globals.seriesRange.length){var g=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:h.globals.colors,x={strokeHeight:"x"===t?0:h.globals.markers.size[a],strokeWidth:"x"===t?h.globals.markers.size[a]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(g[a])?g[a][0]:g[a]};f(h.globals.seriesRangeStart[a][n],x),f(h.globals.seriesRangeEnd[a][n],$($({},x),{},{strokeColor:Array.isArray(g[a])?g[a][1]:g[a]}))}return d}},{key:"drawGoalLine",value:function(t){var e=t.barXPosition,i=t.barYPosition,a=t.goalX,n=t.goalY,o=t.barWidth,r=t.barHeight,h=new U(this.barCtx.ctx),d=h.group({className:"apexcharts-bar-goals-groups"});d.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:d.node}),d.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var f=null;return this.barCtx.isHorizontal?Array.isArray(a)&&a.forEach(function(g){if(g.x>=-1&&g.x<=h.w.globals.gridWidth+1){var x=void 0!==g.attrs.strokeHeight?g.attrs.strokeHeight:r/2,y=i+x+r/2;f=h.drawLine(g.x,y-2*x,g.x,y,g.attrs.strokeColor?g.attrs.strokeColor:void 0,g.attrs.strokeDashArray,g.attrs.strokeWidth?g.attrs.strokeWidth:2,g.attrs.strokeLineCap),d.add(f)}}):Array.isArray(n)&&n.forEach(function(g){if(g.y>=-1&&g.y<=h.w.globals.gridHeight+1){var x=void 0!==g.attrs.strokeWidth?g.attrs.strokeWidth:o/2,y=e+x+o/2;f=h.drawLine(y-2*x,g.y,y,g.y,g.attrs.strokeColor?g.attrs.strokeColor:void 0,g.attrs.strokeDashArray,g.attrs.strokeHeight?g.attrs.strokeHeight:2,g.attrs.strokeLineCap),d.add(f)}}),d}},{key:"drawBarShadow",value:function(t){var e=t.prevPaths,i=t.currPaths,a=t.color,n=this.w,o=e.x,r=e.x1,d=i.x,f=i.x1,g=i.barYPosition,x=e.barYPosition+i.barHeight,y=new U(this.barCtx.ctx),C=new X,k=y.move(r,x)+y.line(o,x)+y.line(d,g)+y.line(f,g)+y.line(r,x)+("around"===n.config.plotOptions.bar.borderRadiusApplication||"both"===this.arrBorderRadius[realIndex][j]?" Z":" z");return y.drawPath({d:k,fill:C.shadeColor(.5,X.rgb2hex(a)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadows"})}},{key:"getZeroValueEncounters",value:function(t){var e,i=t.i,a=t.j,n=this.w,o=0,r=0;return(n.config.plotOptions.bar.horizontal?n.globals.series.map(function(h,d){return d}):(null===(e=n.globals.columnSeries)||void 0===e?void 0:e.i.map(function(h){return h}))||[]).forEach(function(h){var d=n.globals.seriesPercent[h][a];d&&o++,h<i&&0===d&&r++}),{nonZeroColumns:o,zeroEncounters:r}}},{key:"getGroupIndex",value:function(t){var e=this.w,i=e.globals.seriesGroups.findIndex(function(o){return o.indexOf(e.globals.seriesNames[t])>-1}),a=this.barCtx.columnGroupIndices,n=a.indexOf(i);return n<0&&(a.push(i),n=a.length-1),{groupIndex:i,columnGroupIndex:n}}}]),E}(),Xe=function(){function E(t,e){ot(this,E),this.ctx=t,this.w=t.w;var i=this.w;this.barOptions=i.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=i.config.stroke.width,this.isNullValue=!1,this.isRangeBar=i.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!i.globals.isBarHorizontal&&i.globals.seriesRange.length&&i.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=e,null!==this.xyRatios&&(this.xRatio=e.xRatio,this.yRatio=e.yRatio,this.invertedXRatio=e.invertedXRatio,this.invertedYRatio=e.invertedYRatio,this.baseLineY=e.baseLineY,this.baseLineInvertedY=e.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var a=new Jt(this.ctx);this.lastActiveBarSerieIndex=a.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var n=a.getBarSeriesIndices(),o=new Ht(this.ctx);this.stackedSeriesTotals=o.getStackedSeriesTotals(this.w.config.series.map(function(r,h){return-1===n.indexOf(h)?h:-1}).filter(function(r){return-1!==r})),this.barHelpers=new Ii(this)}return v(E,[{key:"draw",value:function(t,e){var i=this.w,a=new U(this.ctx),n=new Ht(this.ctx,i);t=n.getLogSeries(t),this.series=t,this.yRatio=n.getLogYRatios(this.yRatio),this.barHelpers.initVariables(t);var o=a.group({class:"apexcharts-bar-series apexcharts-plot-series"});i.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var r=0,h=0;r<t.length;r++,h++){var d,f,g,x,y=void 0,C=void 0,k=[],M=[],D=i.globals.comboCharts?e[r]:r,I=this.barHelpers.getGroupIndex(D).columnGroupIndex,c=a.group({class:"apexcharts-series",rel:r+1,seriesName:X.escapeString(i.globals.seriesNames[D]),"data:realIndex":D});this.ctx.series.addCollapsedClassToSeries(c,D),t[r].length>0&&(this.visibleI=this.visibleI+1);var u=0,m=0;this.yRatio.length>1&&(this.yaxisIndex=i.globals.seriesYAxisReverseMap[D],this.translationsIndex=D);var w=this.translationsIndex;this.isReversed=i.config.yaxis[this.yaxisIndex]&&i.config.yaxis[this.yaxisIndex].reversed;var b=this.barHelpers.initialPositions();C=b.y,u=b.barHeight,f=b.yDivision,x=b.zeroW,y=b.x,m=b.barWidth,d=b.xDivision,g=b.zeroH,this.horizontal||M.push(y+m/2);var A=a.group({class:"apexcharts-datalabels","data:realIndex":D});i.globals.delayedElements.push({el:A.node}),A.node.classList.add("apexcharts-element-hidden");var T=a.group({class:"apexcharts-bar-goals-markers"}),z=a.group({class:"apexcharts-bar-shadows"});i.globals.delayedElements.push({el:z.node}),z.node.classList.add("apexcharts-element-hidden");for(var N=0;N<t[r].length;N++){var F=this.barHelpers.getStrokeWidth(r,N,D),B=null,H={indexes:{i:r,j:N,realIndex:D,translationsIndex:w,bc:h},x:y,y:C,strokeWidth:F,elSeries:c};this.isHorizontal?(B=this.drawBarPaths($($({},H),{},{barHeight:u,zeroW:x,yDivision:f})),m=this.series[r][N]/this.invertedYRatio):(B=this.drawColumnPaths($($({},H),{},{xDivision:d,barWidth:m,zeroH:g})),u=this.series[r][N]/this.yRatio[w]);var Y=this.barHelpers.getPathFillColor(t,r,N,D);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&N>0){var V=this.barHelpers.drawBarShadow({color:"string"==typeof Y&&-1===Y?.indexOf("url")?Y:X.hexToRgba(i.globals.colors[r]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:B});V&&z.add(V)}this.pathArr.push(B);var tt=this.barHelpers.drawGoalLine({barXPosition:B.barXPosition,barYPosition:B.barYPosition,goalX:B.goalX,goalY:B.goalY,barHeight:u,barWidth:m});tt&&T.add(tt),C=B.y,y=B.x,N>0&&M.push(y+m/2),k.push(C),this.renderSeries({realIndex:D,pathFill:Y,j:N,i:r,columnGroupIndex:I,pathFrom:B.pathFrom,pathTo:B.pathTo,strokeWidth:F,elSeries:c,x:y,y:C,series:t,barHeight:Math.abs(B.barHeight?B.barHeight:u),barWidth:Math.abs(B.barWidth?B.barWidth:m),elDataLabelsWrap:A,elGoalsMarkers:T,elBarShadows:z,visibleSeries:this.visibleI,type:"bar"})}i.globals.seriesXvalues[D]=M,i.globals.seriesYvalues[D]=k,o.add(c)}return o}},{key:"renderSeries",value:function(t){var et,rt,st,e=t.realIndex,i=t.pathFill,a=t.lineFill,n=t.j,o=t.i,r=t.columnGroupIndex,h=t.pathFrom,d=t.pathTo,f=t.strokeWidth,g=t.elSeries,x=t.x,y=t.y,C=t.y1,k=t.y2,M=t.series,D=t.barHeight,I=t.barWidth,c=t.barXPosition,u=t.barYPosition,m=t.elDataLabelsWrap,w=t.elGoalsMarkers,b=t.elBarShadows,A=t.visibleSeries,T=t.type,z=t.classes,N=this.w,F=new U(this.ctx);if(!a){var B="function"==typeof N.globals.stroke.colors[e]?(et=e,st=N.config.stroke.colors,Array.isArray(st)&&st.length>0&&((rt=st[et])||(rt=""),"function"==typeof rt)?rt({value:N.globals.series[et][n],dataPointIndex:n,w:N}):rt):N.globals.stroke.colors[e];a=this.barOptions.distributed?N.globals.stroke.colors[n]:B}N.config.series[o].data[n]&&N.config.series[o].data[n].strokeColor&&(a=N.config.series[o].data[n].strokeColor),this.isNullValue&&(i="none");var Y=F.renderPaths({i:o,j:n,realIndex:e,pathFrom:h,pathTo:d,stroke:a,strokeWidth:f,strokeLineCap:N.config.stroke.lineCap,fill:i,animationDelay:n/N.config.chart.animations.animateGradually.delay*(N.config.chart.animations.speed/N.globals.dataPoints)/2.4,initialSpeed:N.config.chart.animations.speed,dataChangeSpeed:N.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(T,"-area ").concat(z),chartType:T});Y.attr("clip-path","url(#gridRectBarMask".concat(N.globals.cuid,")"));var V=N.config.forecastDataPoints;V.count>0&&n>=N.globals.dataPoints-V.count&&(Y.node.setAttribute("stroke-dasharray",V.dashArray),Y.node.setAttribute("stroke-width",V.strokeWidth),Y.node.setAttribute("fill-opacity",V.fillOpacity)),void 0!==C&&void 0!==k&&(Y.attr("data-range-y1",C),Y.attr("data-range-y2",k)),new $t(this.ctx).setSelectionFilter(Y,e,n),g.add(Y);var tt=new ee(this).handleBarDataLabels({x,y,y1:C,y2:k,i:o,j:n,series:M,realIndex:e,columnGroupIndex:r,barHeight:D,barWidth:I,barXPosition:c,barYPosition:u,renderedPath:Y,visibleSeries:A});return null!==tt.dataLabels&&m.add(tt.dataLabels),tt.totalDataLabels&&m.add(tt.totalDataLabels),g.add(m),w&&g.add(w),b&&g.add(b),g}},{key:"drawBarPaths",value:function(t){var e,r,i=t.indexes,a=t.barHeight,n=t.strokeWidth,o=t.zeroW,h=t.y,d=t.yDivision,f=t.elSeries,g=this.w,x=i.i,y=i.j;if(g.globals.isXNumeric)e=(h=(g.globals.seriesX[x][y]-g.globals.minX)/this.invertedXRatio-a)+a*this.visibleI;else if(g.config.plotOptions.bar.hideZeroBarsWhenGrouped){var C=0,k=0;g.globals.seriesPercent.forEach(function(D,I){D[y]&&C++,I<x&&0===D[y]&&k++}),C>0&&(a=this.seriesLen*a/C),e=h+a*this.visibleI,e-=a*k}else e=h+a*this.visibleI;this.isFunnel&&(o-=(this.barHelpers.getXForValue(this.series[x][y],o)-o)/2),r=this.barHelpers.getXForValue(this.series[x][y],o);var M=this.barHelpers.getBarpaths({barYPosition:e,barHeight:a,x1:o,x2:r,strokeWidth:n,isReversed:this.isReversed,series:this.series,realIndex:i.realIndex,i:x,j:y,w:g});return g.globals.isXNumeric||(h+=d),this.barHelpers.barBackground({j:y,i:x,y1:e-a*this.visibleI,y2:a*this.seriesLen,elSeries:f}),{pathTo:M.pathTo,pathFrom:M.pathFrom,x1:o,x:r,y:h,goalX:this.barHelpers.getGoalValues("x",o,null,x,y),barYPosition:e,barHeight:a}}},{key:"drawColumnPaths",value:function(t){var e,n,i=t.indexes,a=t.x,o=t.xDivision,r=t.barWidth,h=t.zeroH,d=t.strokeWidth,f=t.elSeries,g=this.w,x=i.realIndex,y=i.translationsIndex,C=i.i,k=i.j,M=i.bc;if(g.globals.isXNumeric){var D=this.getBarXForNumericXAxis({x:a,j:k,realIndex:x,barWidth:r});a=D.x,e=D.barXPosition}else if(g.config.plotOptions.bar.hideZeroBarsWhenGrouped){var I=this.barHelpers.getZeroValueEncounters({i:C,j:k}),c=I.nonZeroColumns;c>0&&(r=this.seriesLen*r/c),e=a+r*this.visibleI,e-=r*I.zeroEncounters}else e=a+r*this.visibleI;n=this.barHelpers.getYForValue(this.series[C][k],h,y);var m=this.barHelpers.getColumnPaths({barXPosition:e,barWidth:r,y1:h,y2:n,strokeWidth:d,isReversed:this.isReversed,series:this.series,realIndex:x,i:C,j:k,w:g});return g.globals.isXNumeric||(a+=o),this.barHelpers.barBackground({bc:M,j:k,i:C,x1:e-d/2-r*this.visibleI,x2:r*this.seriesLen+d/2,elSeries:f}),{pathTo:m.pathTo,pathFrom:m.pathFrom,x:a,y:n,goalY:this.barHelpers.getGoalValues("y",null,h,C,k,y),barXPosition:e,barWidth:r}}},{key:"getBarXForNumericXAxis",value:function(t){var e=t.x,i=t.barWidth,a=t.realIndex,n=t.j,o=this.w,r=a;return o.globals.seriesX[a].length||(r=o.globals.maxValsInArrayIndex),o.globals.seriesX[r][n]&&(e=(o.globals.seriesX[r][n]-o.globals.minX)/this.xRatio-i*this.seriesLen/2),{barXPosition:e+i*this.visibleI,x:e}}},{key:"getPreviousPath",value:function(t,e){for(var i,a=this.w,n=0;n<a.globals.previousPaths.length;n++){var o=a.globals.previousPaths[n];o.paths&&o.paths.length>0&&parseInt(o.realIndex,10)===parseInt(t,10)&&void 0!==a.globals.previousPaths[n].paths[e]&&(i=a.globals.previousPaths[n].paths[e].d)}return i}}]),E}(),Yt=function(E){J(e,E);var t=R(e);function e(){return ot(this,e),t.apply(this,arguments)}return v(e,[{key:"draw",value:function(i,a){var n=this,o=this.w;this.graphics=new U(this.ctx),this.bar=new Xe(this.ctx,this.xyRatios);var r=new Ht(this.ctx,o);i=r.getLogSeries(i),this.yRatio=r.getLogYRatios(this.yRatio),this.barHelpers.initVariables(i),"100%"===o.config.chart.stackType&&(i=o.globals.comboCharts?a.map(function(C){return o.globals.seriesPercent[C]}):o.globals.seriesPercent.slice()),this.series=i,this.barHelpers.initializeStackedPrevVars(this);for(var h=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),d=0,f=0,g=function(C,k){var M=void 0,D=void 0,I=void 0,c=void 0,u=o.globals.comboCharts?a[C]:C,m=n.barHelpers.getGroupIndex(u),w=m.groupIndex,b=m.columnGroupIndex;n.groupCtx=n[o.globals.seriesGroups[w]];var A=[],T=[],z=0;n.yRatio.length>1&&(n.yaxisIndex=o.globals.seriesYAxisReverseMap[u][0],z=u),n.isReversed=o.config.yaxis[n.yaxisIndex]&&o.config.yaxis[n.yaxisIndex].reversed;var N=n.graphics.group({class:"apexcharts-series",seriesName:X.escapeString(o.globals.seriesNames[u]),rel:C+1,"data:realIndex":u});n.ctx.series.addCollapsedClassToSeries(N,u);var F=n.graphics.group({class:"apexcharts-datalabels","data:realIndex":u}),B=n.graphics.group({class:"apexcharts-bar-goals-markers"}),H=0,Y=0,V=n.initialPositions(d,f,M,D,I,c,z);f=V.y,D=V.yDivision,c=V.zeroW,d=V.x,Y=V.barWidth,M=V.xDivision,I=V.zeroH,o.globals.barHeight=H=V.barHeight,o.globals.barWidth=Y,n.barHelpers.initializeStackedXYVars(n),1===n.groupCtx.prevY.length&&n.groupCtx.prevY[0].every(function(kt){return isNaN(kt)})&&(n.groupCtx.prevY[0]=n.groupCtx.prevY[0].map(function(){return I}),n.groupCtx.prevYF[0]=n.groupCtx.prevYF[0].map(function(){return 0}));for(var tt=0;tt<o.globals.dataPoints;tt++){var et=n.barHelpers.getStrokeWidth(C,tt,u),rt={indexes:{i:C,j:tt,realIndex:u,translationsIndex:z,bc:k},strokeWidth:et,x:d,y:f,elSeries:N,columnGroupIndex:b,seriesGroup:o.globals.seriesGroups[w]},st=null;n.isHorizontal?(st=n.drawStackedBarPaths($($({},rt),{},{zeroW:c,barHeight:H,yDivision:D})),Y=n.series[C][tt]/n.invertedYRatio):(st=n.drawStackedColumnPaths($($({},rt),{},{xDivision:M,barWidth:Y,zeroH:I})),H=n.series[C][tt]/n.yRatio[z]);var ht=n.barHelpers.drawGoalLine({barXPosition:st.barXPosition,barYPosition:st.barYPosition,goalX:st.goalX,goalY:st.goalY,barHeight:H,barWidth:Y});ht&&B.add(ht),f=st.y,A.push(d=st.x),T.push(f);var bt=n.barHelpers.getPathFillColor(i,C,tt,u),mt="";o.globals.isBarHorizontal?"bottom"===n.barHelpers.arrBorderRadius[u][tt]&&o.globals.series[u][tt]>0&&(mt="apexcharts-flip-x"):"bottom"===n.barHelpers.arrBorderRadius[u][tt]&&o.globals.series[u][tt]>0&&(mt="apexcharts-flip-y"),N=n.renderSeries({realIndex:u,pathFill:bt,j:tt,i:C,columnGroupIndex:b,pathFrom:st.pathFrom,pathTo:st.pathTo,strokeWidth:et,elSeries:N,x:d,y:f,series:i,barHeight:H,barWidth:Y,elDataLabelsWrap:F,elGoalsMarkers:B,type:"bar",visibleSeries:b,classes:mt})}o.globals.seriesXvalues[u]=A,o.globals.seriesYvalues[u]=T,n.groupCtx.prevY.push(n.groupCtx.yArrj),n.groupCtx.prevYF.push(n.groupCtx.yArrjF),n.groupCtx.prevYVal.push(n.groupCtx.yArrjVal),n.groupCtx.prevX.push(n.groupCtx.xArrj),n.groupCtx.prevXF.push(n.groupCtx.xArrjF),n.groupCtx.prevXVal.push(n.groupCtx.xArrjVal),h.add(N)},x=0,y=0;x<i.length;x++,y++)g(x,y);return h}},{key:"initialPositions",value:function(i,a,n,o,r,h,d){var f,g,x=this.w;if(this.isHorizontal){o=x.globals.gridHeight/x.globals.dataPoints;var y=x.config.plotOptions.bar.barHeight;f=-1===String(y).indexOf("%")?parseInt(y,10):o*parseInt(y,10)/100,h=x.globals.padHorizontal+(this.isReversed?x.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),a=(o-f)/2}else{g=n=x.globals.gridWidth/x.globals.dataPoints;var C=x.config.plotOptions.bar.columnWidth;x.globals.isXNumeric&&x.globals.dataPoints>1?g=(n=x.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:-1===String(C).indexOf("%")?g=parseInt(C,10):g*=parseInt(C,10)/100,r=this.isReversed?this.baseLineY[d]:x.globals.gridHeight-this.baseLineY[d],i=x.globals.padHorizontal+(n-g)/2}var k=x.globals.barGroups.length||1;return{x:i,y:a,yDivision:o,xDivision:n,barHeight:f/k,barWidth:g/k,zeroH:r,zeroW:h}}},{key:"drawStackedBarPaths",value:function(i){for(var a,d,n=i.indexes,o=i.barHeight,r=i.strokeWidth,h=i.zeroW,f=i.y,x=i.seriesGroup,y=i.yDivision,C=i.elSeries,k=this.w,M=f+i.columnGroupIndex*o,D=n.i,I=n.j,c=n.realIndex,u=n.translationsIndex,m=0,w=0;w<this.groupCtx.prevXF.length;w++)m+=this.groupCtx.prevXF[w][I];var b;if((b=x.indexOf(k.config.series[c].name))>0){var A=h;this.groupCtx.prevXVal[b-1][I]<0?A=this.series[D][I]>=0?this.groupCtx.prevX[b-1][I]+m-2*(this.isReversed?m:0):this.groupCtx.prevX[b-1][I]:this.groupCtx.prevXVal[b-1][I]>=0&&(A=this.series[D][I]>=0?this.groupCtx.prevX[b-1][I]:this.groupCtx.prevX[b-1][I]-m+2*(this.isReversed?m:0)),a=A}else a=h;var T=this.barHelpers.getBarpaths({barYPosition:M,barHeight:o,x1:a,x2:d=null===this.series[D][I]?a:a+this.series[D][I]/this.invertedYRatio-2*(this.isReversed?this.series[D][I]/this.invertedYRatio:0),strokeWidth:r,isReversed:this.isReversed,series:this.series,realIndex:n.realIndex,seriesGroup:x,i:D,j:I,w:k});return this.barHelpers.barBackground({j:I,i:D,y1:M,y2:o,elSeries:C}),f+=y,{pathTo:T.pathTo,pathFrom:T.pathFrom,goalX:this.barHelpers.getGoalValues("x",h,null,D,I,u),barXPosition:a,barYPosition:M,x:d,y:f}}},{key:"drawStackedColumnPaths",value:function(i){var o,a=i.indexes,n=i.x,r=i.xDivision,h=i.barWidth,d=i.zeroH,g=i.seriesGroup,x=i.elSeries,y=this.w,C=a.i,k=a.j,M=a.bc,D=a.realIndex,I=a.translationsIndex;if(y.globals.isXNumeric){var c=y.globals.seriesX[D][k];c||(c=0),n=(c-y.globals.minX)/this.xRatio-h/2*y.globals.barGroups.length}for(var u,m=n+i.columnGroupIndex*h,w=0,b=0;b<this.groupCtx.prevYF.length;b++)w+=isNaN(this.groupCtx.prevYF[b][k])?0:this.groupCtx.prevYF[b][k];var A=C;if(g&&(A=g.indexOf(y.globals.seriesNames[D])),A>0&&!y.globals.isXNumeric||A>0&&y.globals.isXNumeric&&y.globals.seriesX[D-1][k]===y.globals.seriesX[D][k]){var T,z,N,F=Math.min(this.yRatio.length+1,D+1);if(void 0!==this.groupCtx.prevY[A-1]&&this.groupCtx.prevY[A-1].length)for(var B=1;B<F;B++){var H;if(!isNaN(null===(H=this.groupCtx.prevY[A-B])||void 0===H?void 0:H[k])){N=this.groupCtx.prevY[A-B][k];break}}for(var Y=1;Y<F;Y++){var V,tt;if((null===(V=this.groupCtx.prevYVal[A-Y])||void 0===V?void 0:V[k])<0){z=this.series[C][k]>=0?N-w+2*(this.isReversed?w:0):N;break}if((null===(tt=this.groupCtx.prevYVal[A-Y])||void 0===tt?void 0:tt[k])>=0){z=this.series[C][k]>=0?N:N+w-2*(this.isReversed?w:0);break}}void 0===z&&(z=y.globals.gridHeight),u=null!==(T=this.groupCtx.prevYF[0])&&void 0!==T&&T.every(function(rt){return 0===rt})&&this.groupCtx.prevYF.slice(1,A).every(function(rt){return rt.every(function(st){return isNaN(st)})})?d:z}else u=d;var et=this.barHelpers.getColumnPaths({barXPosition:m,barWidth:h,y1:u,y2:o=this.series[C][k]?u-this.series[C][k]/this.yRatio[I]+2*(this.isReversed?this.series[C][k]/this.yRatio[I]:0):u,yRatio:this.yRatio[I],strokeWidth:this.strokeWidth,isReversed:this.isReversed,series:this.series,seriesGroup:g,realIndex:a.realIndex,i:C,j:k,w:y});return this.barHelpers.barBackground({bc:M,j:k,i:C,x1:m,x2:h,elSeries:x}),{pathTo:et.pathTo,pathFrom:et.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,d,C,k),barXPosition:m,x:y.globals.isXNumeric?n:n+r,y:o}}}]),e}(Xe),Dt=function(E){J(e,E);var t=R(e);function e(){return ot(this,e),t.apply(this,arguments)}return v(e,[{key:"draw",value:function(i,a,n){var o=this,r=this.w,h=new U(this.ctx),d=r.globals.comboCharts?a:r.config.chart.type,f=new Ft(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=r.config.plotOptions.bar.horizontal;var g=new Ht(this.ctx,r);i=g.getLogSeries(i),this.series=i,this.yRatio=g.getLogYRatios(this.yRatio),this.barHelpers.initVariables(i);for(var x=h.group({class:"apexcharts-".concat(d,"-series apexcharts-plot-series")}),y=function(k){o.isBoxPlot="boxPlot"===r.config.chart.type||"boxPlot"===r.config.series[k].type;var M,D,I,c,u=void 0,m=void 0,w=[],b=[],A=r.globals.comboCharts?n[k]:k,T=o.barHelpers.getGroupIndex(A).columnGroupIndex,z=h.group({class:"apexcharts-series",seriesName:X.escapeString(r.globals.seriesNames[A]),rel:k+1,"data:realIndex":A});o.ctx.series.addCollapsedClassToSeries(z,A),i[k].length>0&&(o.visibleI=o.visibleI+1);var N,F,B=0;o.yRatio.length>1&&(o.yaxisIndex=r.globals.seriesYAxisReverseMap[A][0],B=A);var H=o.barHelpers.initialPositions();m=H.y,N=H.barHeight,D=H.yDivision,c=H.zeroW,M=H.xDivision,I=H.zeroH,b.push((u=H.x)+(F=H.barWidth)/2);for(var Y=h.group({class:"apexcharts-datalabels","data:realIndex":A}),V=function(et){var rt=o.barHelpers.getStrokeWidth(k,et,A),st=null,ht={indexes:{i:k,j:et,realIndex:A,translationsIndex:B},x:u,y:m,strokeWidth:rt,elSeries:z};st=o.isHorizontal?o.drawHorizontalBoxPaths($($({},ht),{},{yDivision:D,barHeight:N,zeroW:c})):o.drawVerticalBoxPaths($($({},ht),{},{xDivision:M,barWidth:F,zeroH:I})),m=st.y,u=st.x,et>0&&b.push(u+F/2),w.push(m),st.pathTo.forEach(function(bt,mt){var kt=!o.isBoxPlot&&o.candlestickOptions.wick.useFillColor?st.color[mt]:r.globals.stroke.colors[k],Rt=f.fillPath({seriesNumber:A,dataPointIndex:et,color:st.color[mt],value:i[k][et]});o.renderSeries({realIndex:A,pathFill:Rt,lineFill:kt,j:et,i:k,pathFrom:st.pathFrom,pathTo:bt,strokeWidth:rt,elSeries:z,x:u,y:m,series:i,columnGroupIndex:T,barHeight:N,barWidth:F,elDataLabelsWrap:Y,visibleSeries:o.visibleI,type:r.config.chart.type})})},tt=0;tt<r.globals.dataPoints;tt++)V(tt);r.globals.seriesXvalues[A]=b,r.globals.seriesYvalues[A]=w,x.add(z)},C=0;C<i.length;C++)y(C);return x}},{key:"drawVerticalBoxPaths",value:function(i){var a=i.indexes,n=i.x,o=i.xDivision,r=i.barWidth,h=i.zeroH,d=i.strokeWidth,f=this.w,g=new U(this.ctx),x=a.i,y=a.j,C=!0,k=f.config.plotOptions.candlestick.colors.upward,M=f.config.plotOptions.candlestick.colors.downward,D="";this.isBoxPlot&&(D=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var I=this.yRatio[a.translationsIndex],c=a.realIndex,u=this.getOHLCValue(c,y),m=h,w=h;u.o>u.c&&(C=!1);var b=Math.min(u.o,u.c),A=Math.max(u.o,u.c),T=u.m;f.globals.isXNumeric&&(n=(f.globals.seriesX[c][y]-f.globals.minX)/this.xRatio-r/2);var z=n+r*this.visibleI;null==this.series[x][y]?(b=h,A=h):(b=h-b/I,A=h-A/I,m=h-u.h/I,w=h-u.l/I,T=h-u.m/I);var N=g.move(z,h),F=g.move(z+r/2,b);return f.globals.previousPaths.length>0&&(F=this.getPreviousPath(c,y,!0)),N=this.isBoxPlot?[g.move(z,b)+g.line(z+r/2,b)+g.line(z+r/2,m)+g.line(z+r/4,m)+g.line(z+r-r/4,m)+g.line(z+r/2,m)+g.line(z+r/2,b)+g.line(z+r,b)+g.line(z+r,T)+g.line(z,T)+g.line(z,b+d/2),g.move(z,T)+g.line(z+r,T)+g.line(z+r,A)+g.line(z+r/2,A)+g.line(z+r/2,w)+g.line(z+r-r/4,w)+g.line(z+r/4,w)+g.line(z+r/2,w)+g.line(z+r/2,A)+g.line(z,A)+g.line(z,T)+"z"]:[g.move(z,A)+g.line(z+r/2,A)+g.line(z+r/2,m)+g.line(z+r/2,A)+g.line(z+r,A)+g.line(z+r,b)+g.line(z+r/2,b)+g.line(z+r/2,w)+g.line(z+r/2,b)+g.line(z,b)+g.line(z,A-d/2)],F+=g.move(z,b),f.globals.isXNumeric||(n+=o),{pathTo:N,pathFrom:F,x:n,y:A,barXPosition:z,color:this.isBoxPlot?D:C?[k]:[M]}}},{key:"drawHorizontalBoxPaths",value:function(i){var a=i.indexes,n=i.y,o=i.yDivision,r=i.barHeight,h=i.zeroW,d=i.strokeWidth,f=this.w,g=new U(this.ctx),x=a.i,y=a.j,C=this.boxOptions.colors.lower;this.isBoxPlot&&(C=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var k=this.invertedYRatio,M=a.realIndex,D=this.getOHLCValue(M,y),I=h,c=h,u=Math.min(D.o,D.c),m=Math.max(D.o,D.c),w=D.m;f.globals.isXNumeric&&(n=(f.globals.seriesX[M][y]-f.globals.minX)/this.invertedXRatio-r/2);var b=n+r*this.visibleI;null==this.series[x][y]?(u=h,m=h):(u=h+u/k,m=h+m/k,I=h+D.h/k,c=h+D.l/k,w=h+D.m/k);var A=g.move(h,b),T=g.move(u,b+r/2);return f.globals.previousPaths.length>0&&(T=this.getPreviousPath(M,y,!0)),A=[g.move(u,b)+g.line(u,b+r/2)+g.line(I,b+r/2)+g.line(I,b+r/2-r/4)+g.line(I,b+r/2+r/4)+g.line(I,b+r/2)+g.line(u,b+r/2)+g.line(u,b+r)+g.line(w,b+r)+g.line(w,b)+g.line(u+d/2,b),g.move(w,b)+g.line(w,b+r)+g.line(m,b+r)+g.line(m,b+r/2)+g.line(c,b+r/2)+g.line(c,b+r-r/4)+g.line(c,b+r/4)+g.line(c,b+r/2)+g.line(m,b+r/2)+g.line(m,b)+g.line(w,b)+"z"],T+=g.move(u,b),f.globals.isXNumeric||(n+=o),{pathTo:A,pathFrom:T,x:m,y:n,barYPosition:b,color:C}}},{key:"getOHLCValue",value:function(i,a){var n=this.w;return{o:this.isBoxPlot?n.globals.seriesCandleH[i][a]:n.globals.seriesCandleO[i][a],h:this.isBoxPlot?n.globals.seriesCandleO[i][a]:n.globals.seriesCandleH[i][a],m:n.globals.seriesCandleM[i][a],l:this.isBoxPlot?n.globals.seriesCandleC[i][a]:n.globals.seriesCandleL[i][a],c:this.isBoxPlot?n.globals.seriesCandleL[i][a]:n.globals.seriesCandleC[i][a]}}}]),e}(Xe),Ge=function(){function E(t){ot(this,E),this.ctx=t,this.w=t.w}return v(E,[{key:"checkColorRange",value:function(){var t=this.w,e=!1,i=t.config.plotOptions[t.config.chart.type];return i.colorScale.ranges.length>0&&i.colorScale.ranges.map(function(a,n){a.from<=0&&(e=!0)}),e}},{key:"getShadeColor",value:function(t,e,i,a){var n=this.w,o=1,r=n.config.plotOptions[t].shadeIntensity,h=this.determineColor(t,e,i);n.globals.hasNegs||a?o=n.config.plotOptions[t].reverseNegativeShade?h.percent<0?h.percent/100*(1.25*r):1.25*r*(1-h.percent/100):h.percent<=0?1-(1+h.percent/100)*r:(1-h.percent/100)*r:(o=1-h.percent/100,"treemap"===t&&(o=1.25*r*(1-h.percent/100)));var d=h.color,f=new X;if(n.config.plotOptions[t].enableShades)if("dark"===this.w.config.theme.mode){var g=f.shadeColor(-1*o,h.color);d=X.hexToRgba(X.isColorHex(g)?g:X.rgb2hex(g),n.config.fill.opacity)}else{var x=f.shadeColor(o,h.color);d=X.hexToRgba(X.isColorHex(x)?x:X.rgb2hex(x),n.config.fill.opacity)}return{color:d,colorProps:h}}},{key:"determineColor",value:function(t,e,i){var a=this.w,n=a.globals.series[e][i],o=a.config.plotOptions[t],r=o.colorScale.inverse?i:e;o.distributed&&"treemap"===a.config.chart.type&&(r=i);var h=a.globals.colors[r],d=null,f=Math.min.apply(Math,Vt(a.globals.series[e])),g=Math.max.apply(Math,Vt(a.globals.series[e]));o.distributed||"heatmap"!==t||(f=a.globals.minY,g=a.globals.maxY),void 0!==o.colorScale.min&&(f=o.colorScale.min<a.globals.minY?o.colorScale.min:a.globals.minY,g=o.colorScale.max>a.globals.maxY?o.colorScale.max:a.globals.maxY);var x=Math.abs(g)+Math.abs(f),y=100*n/(0===x?x-1e-6:x);return o.colorScale.ranges.length>0&&o.colorScale.ranges.map(function(C,k){if(n>=C.from&&n<=C.to){h=C.color,d=C.foreColor?C.foreColor:null,f=C.from,g=C.to;var M=Math.abs(g)+Math.abs(f);y=100*n/(0===M?M-1e-6:M)}}),{color:h,foreColor:d,percent:y}}},{key:"calculateDataLabels",value:function(t){var e=t.text,i=t.x,a=t.y,n=t.i,o=t.j,r=t.colorProps,h=t.fontSize,d=this.w.config.dataLabels,f=new U(this.ctx),g=new ke(this.ctx),x=null;if(d.enabled){x=f.group({class:"apexcharts-data-labels"});var C=d.offsetY,k=i+d.offsetX,M=a+parseFloat(d.style.fontSize)/3+C;g.plotDataLabelsText({x:k,y:M,text:e,i:n,j:o,color:r.foreColor,parent:x,fontSize:h,dataLabelsConfig:d})}return x}},{key:"addListeners",value:function(t){var e=new U(this.ctx);t.node.addEventListener("mouseenter",e.pathMouseEnter.bind(this,t)),t.node.addEventListener("mouseleave",e.pathMouseLeave.bind(this,t)),t.node.addEventListener("mousedown",e.pathMouseDown.bind(this,t))}}]),E}(),Ce=function(){function E(t,e){ot(this,E),this.ctx=t,this.w=t.w,this.xRatio=e.xRatio,this.yRatio=e.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new Ge(t),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return v(E,[{key:"draw",value:function(t){var e=this.w,i=new U(this.ctx),a=i.group({class:"apexcharts-heatmap"});a.attr("clip-path","url(#gridRectMask".concat(e.globals.cuid,")"));var n=e.globals.gridWidth/e.globals.dataPoints,o=e.globals.gridHeight/e.globals.series.length,r=0,h=!1;this.negRange=this.helpers.checkColorRange();var d=t.slice();e.config.yaxis[0].reversed&&(h=!0,d.reverse());for(var f=h?0:d.length-1;h?f<d.length:f>=0;h?f++:f--){var g=i.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:X.escapeString(e.globals.seriesNames[f]),rel:f+1,"data:realIndex":f});if(this.ctx.series.addCollapsedClassToSeries(g,f),e.config.chart.dropShadow.enabled){var x=e.config.chart.dropShadow;new $t(this.ctx).dropShadow(g,x,f)}for(var y=0,C=e.config.plotOptions.heatmap.shadeIntensity,k=0;k<d[f].length;k++){var M=this.helpers.getShadeColor(e.config.chart.type,f,k,this.negRange),D=M.color,I=M.colorProps;"image"===e.config.fill.type&&(D=new Ft(this.ctx).fillPath({seriesNumber:f,dataPointIndex:k,opacity:e.globals.hasNegs?I.percent<0?1-(1+I.percent/100):C+I.percent/100:I.percent/100,patternID:X.randomId(),width:e.config.fill.image.width?e.config.fill.image.width:n,height:e.config.fill.image.height?e.config.fill.image.height:o}));var u=i.drawRect(y,r,n,o,this.rectRadius);if(u.attr({cx:y,cy:r}),u.node.classList.add("apexcharts-heatmap-rect"),g.add(u),u.attr({fill:D,i:f,index:f,j:k,val:t[f][k],"stroke-width":this.strokeWidth,stroke:e.config.plotOptions.heatmap.useFillColorAsStroke?D:e.globals.stroke.colors[0],color:D}),this.helpers.addListeners(u),e.config.chart.animations.enabled&&!e.globals.dataChanged){var m=1;e.globals.resized||(m=e.config.chart.animations.speed),this.animateHeatMap(u,y,r,n,o,m)}if(e.globals.dataChanged){var w=1;if(this.dynamicAnim.enabled&&e.globals.shouldAnimate){w=this.dynamicAnim.speed;var b=e.globals.previousPaths[f]&&e.globals.previousPaths[f][k]&&e.globals.previousPaths[f][k].color;b||(b="rgba(255, 255, 255, 0)"),this.animateHeatColor(u,X.isColorHex(b)?b:X.rgb2hex(b),X.isColorHex(D)?D:X.rgb2hex(D),w)}}var A=(0,e.config.dataLabels.formatter)(e.globals.series[f][k],{value:e.globals.series[f][k],seriesIndex:f,dataPointIndex:k,w:e}),T=this.helpers.calculateDataLabels({text:A,x:y+n/2,y:r+o/2,i:f,j:k,colorProps:I,series:d});null!==T&&g.add(T),y+=n}r+=o,a.add(g)}var z=e.globals.yAxisScale[0].result.slice();return e.config.yaxis[0].reversed?z.unshift(""):z.push(""),e.globals.yAxisScale[0].result=z,a}},{key:"animateHeatMap",value:function(t,e,i,a,n,o){var r=new xe(this.ctx);r.animateRect(t,{x:e+a/2,y:i+n/2,width:0,height:0},{x:e,y:i,width:a,height:n},o,function(){r.animationCompleted(t)})}},{key:"animateHeatColor",value:function(t,e,i,a){t.attr({fill:e}).animate(a).attr({fill:i})}}]),E}(),Ue=function(){function E(t){ot(this,E),this.ctx=t,this.w=t.w}return v(E,[{key:"drawYAxisTexts",value:function(t,e,i,a){var n=this.w,o=n.config.yaxis[0],r=n.globals.yLabelFormatters[0];return new U(this.ctx).drawText({x:t+o.labels.offsetX,y:e+o.labels.offsetY,text:r(a,i),textAnchor:"middle",fontSize:o.labels.style.fontSize,fontFamily:o.labels.style.fontFamily,foreColor:Array.isArray(o.labels.style.colors)?o.labels.style.colors[i]:o.labels.style.colors})}}]),E}(),ge=function(){function E(t){ot(this,E),this.ctx=t,this.w=t.w;var e=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=void 0!==e.globals.stroke.colors?e.globals.stroke.colors:e.globals.colors,this.defaultSize=Math.min(e.globals.gridWidth,e.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=e.globals.gridWidth/2,this.fullAngle="radialBar"===e.config.chart.type?360:Math.abs(e.config.plotOptions.pie.endAngle-e.config.plotOptions.pie.startAngle),this.initialAngle=e.config.plotOptions.pie.startAngle%this.fullAngle,e.globals.radialSize=this.defaultSize/2.05-e.config.stroke.width-(e.config.chart.sparkline.enabled?0:e.config.chart.dropShadow.blur),this.donutSize=e.globals.radialSize*parseInt(e.config.plotOptions.pie.donut.size,10)/100;var i=e.config.plotOptions.pie.customScale,a=e.globals.gridWidth/2,n=e.globals.gridHeight/2;this.translateX=a-a*i,this.translateY=n-n*i,this.dataLabelsGroup=new U(this.ctx).group({class:"apexcharts-datalabels-group",transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(i,")")}),this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return v(E,[{key:"draw",value:function(t){var e=this,i=this.w,a=new U(this.ctx),n=a.group({class:"apexcharts-pie"});if(i.globals.noData)return n;for(var o=0,r=0;r<t.length;r++)o+=X.negToZero(t[r]);var h=[],d=a.group();0===o&&(o=1e-5),t.forEach(function(c){e.maxY=Math.max(e.maxY,c)}),i.config.yaxis[0].max&&(this.maxY=i.config.yaxis[0].max),"back"===i.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(n);for(var f=0;f<t.length;f++){var g=this.fullAngle*X.negToZero(t[f])/o;h.push(g),"polarArea"===this.chartType?(h[f]=this.fullAngle/t.length,this.sliceSizes.push(i.globals.radialSize*t[f]/this.maxY)):this.sliceSizes.push(i.globals.radialSize)}if(i.globals.dataChanged){for(var x,y=0,C=0;C<i.globals.previousPaths.length;C++)y+=X.negToZero(i.globals.previousPaths[C]);for(var k=0;k<i.globals.previousPaths.length;k++)x=this.fullAngle*X.negToZero(i.globals.previousPaths[k])/y,this.prevSectorAngleArr.push(x)}if(this.donutSize<0&&(this.donutSize=0),"donut"===this.chartType){var M=a.drawCircle(this.donutSize);M.attr({cx:this.centerX,cy:this.centerY,fill:i.config.plotOptions.pie.donut.background?i.config.plotOptions.pie.donut.background:"transparent"}),d.add(M)}var D=this.drawArcs(h,t);if(this.sliceLabels.forEach(function(c){D.add(c)}),d.attr({transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(i.config.plotOptions.pie.customScale,")")}),d.add(D),n.add(d),this.donutDataLabels.show){var I=this.renderInnerDataLabels(this.dataLabelsGroup,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});n.add(I)}return"front"===i.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(n),n}},{key:"drawArcs",value:function(t,e){var i=this.w,a=new $t(this.ctx),n=new U(this.ctx),o=new Ft(this.ctx),r=n.group({class:"apexcharts-slices"}),h=this.initialAngle,d=this.initialAngle,f=this.initialAngle,g=this.initialAngle;this.strokeWidth=i.config.stroke.show?i.config.stroke.width:0;for(var x=0;x<t.length;x++){var y=n.group({class:"apexcharts-series apexcharts-pie-series",seriesName:X.escapeString(i.globals.seriesNames[x]),rel:x+1,"data:realIndex":x});r.add(y),f=(h=f)+t[x],g=(d=g)+this.prevSectorAngleArr[x];var C=f<h?this.fullAngle+f-h:f-h,k=o.fillPath({seriesNumber:x,size:this.sliceSizes[x],value:e[x]}),M=this.getChangedPath(d,g),D=n.drawPath({d:M,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[x]:this.lineColorArr,strokeWidth:0,fill:k,fillOpacity:i.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(x)});D.attr({index:0,j:x}),a.setSelectionFilter(D,0,x),i.config.chart.dropShadow.enabled&&a.dropShadow(D,i.config.chart.dropShadow,x),this.addListeners(D,this.donutDataLabels),U.setAttrs(D.node,{"data:angle":C,"data:startAngle":h,"data:strokeWidth":this.strokeWidth,"data:value":e[x]});var c={x:0,y:0};"pie"===this.chartType||"polarArea"===this.chartType?c=X.polarToCartesian(this.centerX,this.centerY,i.globals.radialSize/1.25+i.config.plotOptions.pie.dataLabels.offset,(h+C/2)%this.fullAngle):"donut"===this.chartType&&(c=X.polarToCartesian(this.centerX,this.centerY,(i.globals.radialSize+this.donutSize)/2+i.config.plotOptions.pie.dataLabels.offset,(h+C/2)%this.fullAngle)),y.add(D);var u=0;if(!this.initialAnim||i.globals.resized||i.globals.dataChanged?this.animBeginArr.push(0):(0==(u=C/this.fullAngle*i.config.chart.animations.speed)&&(u=1),this.animDur=u+this.animDur,this.animBeginArr.push(this.animDur)),this.animatePaths(D,this.dynamicAnim&&i.globals.dataChanged?{size:this.sliceSizes[x],endAngle:f,startAngle:h,prevStartAngle:d,prevEndAngle:g,animateStartingPos:!0,i:x,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:i.config.chart.animations.dynamicAnimation.speed}:{size:this.sliceSizes[x],endAngle:f,startAngle:h,i:x,totalItems:t.length-1,animBeginArr:this.animBeginArr,dur:u}),i.config.plotOptions.pie.expandOnClick&&"polarArea"!==this.chartType&&D.node.addEventListener("mouseup",this.pieClicked.bind(this,x)),void 0!==i.globals.selectedDataPoints[0]&&i.globals.selectedDataPoints[0].indexOf(x)>-1&&this.pieClicked(x),i.config.dataLabels.enabled){var m=c.x,w=c.y,b=100*C/this.fullAngle+"%";if(0!==C&&i.config.plotOptions.pie.dataLabels.minAngleToShowLabel<t[x]){var A=i.config.dataLabels.formatter;void 0!==A&&(b=A(i.globals.seriesPercent[x][0],{seriesIndex:x,w:i}));var T=i.globals.dataLabels.style.colors[x],z=n.group({class:"apexcharts-datalabels"}),N=n.drawText({x:m,y:w,text:b,textAnchor:"middle",fontSize:i.config.dataLabels.style.fontSize,fontFamily:i.config.dataLabels.style.fontFamily,fontWeight:i.config.dataLabels.style.fontWeight,foreColor:T});z.add(N),i.config.dataLabels.dropShadow.enabled&&a.dropShadow(N,i.config.dataLabels.dropShadow),N.node.classList.add("apexcharts-pie-label"),i.config.chart.animations.animate&&!1===i.globals.resized&&(N.node.classList.add("apexcharts-pie-label-delay"),N.node.style.animationDelay=i.config.chart.animations.speed/940+"s"),this.sliceLabels.push(z)}}}return r}},{key:"addListeners",value:function(t,e){var i=new U(this.ctx);t.node.addEventListener("mouseenter",i.pathMouseEnter.bind(this,t)),t.node.addEventListener("mouseleave",i.pathMouseLeave.bind(this,t)),t.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,t.node,e)),t.node.addEventListener("mousedown",i.pathMouseDown.bind(this,t)),this.donutDataLabels.total.showAlways||(t.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,t.node,e)),t.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,t.node,e)))}},{key:"animatePaths",value:function(t,e){var a=e.endAngle<e.startAngle?this.fullAngle+e.endAngle-e.startAngle:e.endAngle-e.startAngle,n=a,o=e.startAngle,r=e.startAngle;void 0!==e.prevStartAngle&&void 0!==e.prevEndAngle&&(o=e.prevEndAngle,n=e.prevEndAngle<e.prevStartAngle?this.fullAngle+e.prevEndAngle-e.prevStartAngle:e.prevEndAngle-e.prevStartAngle),e.i===this.w.config.series.length-1&&(a+r>this.fullAngle?e.endAngle=e.endAngle-(a+r):a+r<this.fullAngle&&(e.endAngle=e.endAngle+(this.fullAngle-(a+r)))),a===this.fullAngle&&(a=this.fullAngle-.01),this.animateArc(t,o,r,a,n,e)}},{key:"animateArc",value:function(t,e,i,a,n,o){var r,h=this,d=this.w,f=new xe(this.ctx),g=o.size;(isNaN(e)||isNaN(n))&&(e=i,n=a,o.dur=0);var x=a,y=i,C=e<i?this.fullAngle+e-i:e-i;d.globals.dataChanged&&o.shouldSetPrevPaths&&o.prevEndAngle&&(r=h.getPiePath({me:h,startAngle:o.prevStartAngle,angle:o.prevEndAngle<o.prevStartAngle?this.fullAngle+o.prevEndAngle-o.prevStartAngle:o.prevEndAngle-o.prevStartAngle,size:g}),t.attr({d:r})),0!==o.dur?t.animate(o.dur,d.globals.easing,o.animBeginArr[o.i]).afterAll(function(){"pie"!==h.chartType&&"donut"!==h.chartType&&"polarArea"!==h.chartType||this.animate(d.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":h.strokeWidth}),o.i===d.config.series.length-1&&f.animationCompleted(t)}).during(function(k){x=C+(a-C)*k,o.animateStartingPos&&(x=n+(a-n)*k,y=e-n+(i-(e-n))*k),r=h.getPiePath({me:h,startAngle:y,angle:x,size:g}),t.node.setAttribute("data:pathOrig",r),t.attr({d:r})}):(r=h.getPiePath({me:h,startAngle:y,angle:a,size:g}),o.isTrack||(d.globals.animationEnded=!0),t.node.setAttribute("data:pathOrig",r),t.attr({d:r,"stroke-width":h.strokeWidth}))}},{key:"pieClicked",value:function(t){var e,i=this.w,a=this,n=a.sliceSizes[t]+(i.config.plotOptions.pie.expandOnClick?4:0),o=i.globals.dom.Paper.select(".apexcharts-".concat(a.chartType.toLowerCase(),"-slice-").concat(t)).members[0];if("true"!==o.attr("data:pieClicked")){var r=i.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(r,function(g){g.setAttribute("data:pieClicked","false");var x=g.getAttribute("data:pathOrig");x&&g.setAttribute("d",x)}),i.globals.capturedDataPointIndex=t,o.attr("data:pieClicked","true");var h=parseInt(o.attr("data:startAngle"),10),d=parseInt(o.attr("data:angle"),10);e=a.getPiePath({me:a,startAngle:h,angle:d,size:n}),360!==d&&o.plot(e)}else{o.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(o.node,this.donutDataLabels);var f=o.attr("data:pathOrig");o.attr({d:f})}}},{key:"getChangedPath",value:function(t,e){var i="";return this.dynamicAnim&&this.w.globals.dataChanged&&(i=this.getPiePath({me:this,startAngle:t,angle:e-t,size:this.size})),i}},{key:"getPiePath",value:function(t){var e,i=t.me,a=t.startAngle,n=t.angle,o=t.size,r=new U(this.ctx),h=a,d=Math.PI*(h-90)/180,f=n+a;Math.ceil(f)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(f=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(f)>this.fullAngle&&(f-=this.fullAngle);var g=Math.PI*(f-90)/180,x=i.centerX+o*Math.cos(d),y=i.centerY+o*Math.sin(d),C=i.centerX+o*Math.cos(g),k=i.centerY+o*Math.sin(g),M=X.polarToCartesian(i.centerX,i.centerY,i.donutSize,f),D=X.polarToCartesian(i.centerX,i.centerY,i.donutSize,h),I=n>180?1:0,c=["M",x,y,"A",o,o,0,I,1,C,k];return e="donut"===i.chartType?[].concat(c,["L",M.x,M.y,"A",i.donutSize,i.donutSize,0,I,0,D.x,D.y,"L",x,y,"z"]).join(" "):"pie"===i.chartType||"polarArea"===i.chartType?[].concat(c,["L",i.centerX,i.centerY,"L",x,y]).join(" "):[].concat(c).join(" "),r.roundPathCorners(e,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(t){var e=this.w,i=new Ne(this.ctx),a=new U(this.ctx),n=new Ue(this.ctx),o=a.group(),r=a.group(),h=i.niceScale(0,Math.ceil(this.maxY),0),d=h.result.reverse(),f=h.result.length;this.maxY=h.niceMax;for(var g=e.globals.radialSize,x=g/(f-1),y=0;y<f-1;y++){var C=a.drawCircle(g);if(C.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":e.config.plotOptions.polarArea.rings.strokeWidth,stroke:e.config.plotOptions.polarArea.rings.strokeColor}),e.config.yaxis[0].show){var k=n.drawYAxisTexts(this.centerX,this.centerY-g+parseInt(e.config.yaxis[0].labels.style.fontSize,10)/2,y,d[y]);r.add(k)}o.add(C),g-=x}this.drawSpokes(t),t.add(o),t.add(r)}},{key:"renderInnerDataLabels",value:function(t,e,i){var a=this.w,n=new U(this.ctx),o=e.total.show;t.node.innerHTML="",t.node.style.opacity=i.opacity;var r,h,d=i.centerX,f=this.donutDataLabels.total.label?i.centerY:i.centerY-i.centerY/6;r=void 0===e.name.color?a.globals.colors[0]:e.name.color;var g=e.name.fontSize,x=e.name.fontFamily,y=e.name.fontWeight;h=void 0===e.value.color?a.config.chart.foreColor:e.value.color;var C=e.value.formatter,k="",M="";if(o?(r=e.total.color,g=e.total.fontSize,x=e.total.fontFamily,y=e.total.fontWeight,M=this.donutDataLabels.total.label?e.total.label:"",k=e.total.formatter(a)):1===a.globals.series.length&&(k=C(a.globals.series[0],a),M=a.globals.seriesNames[0]),M&&(M=e.name.formatter(M,e.total.show,a)),e.name.show){var D=n.drawText({x:d,y:f+parseFloat(e.name.offsetY),text:M,textAnchor:"middle",foreColor:r,fontSize:g,fontWeight:y,fontFamily:x});D.node.classList.add("apexcharts-datalabel-label"),t.add(D)}if(e.value.show){var I=e.name.show?parseFloat(e.value.offsetY)+16:e.value.offsetY,c=n.drawText({x:d,y:f+I,text:k,textAnchor:"middle",foreColor:h,fontWeight:e.value.fontWeight,fontSize:e.value.fontSize,fontFamily:e.value.fontFamily});c.node.classList.add("apexcharts-datalabel-value"),t.add(c)}return t}},{key:"printInnerLabels",value:function(t,e,i,a){var n,o=this.w;a?n=void 0===t.name.color?o.globals.colors[parseInt(a.parentNode.getAttribute("rel"),10)-1]:t.name.color:o.globals.series.length>1&&t.total.show&&(n=t.total.color);var r=o.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),h=o.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");i=(0,t.value.formatter)(i,o),a||"function"!=typeof t.total.formatter||(i=t.total.formatter(o)),e=this.donutDataLabels.total.label?t.name.formatter(e,e===t.total.label,o):"",null!==r&&(r.textContent=e),null!==h&&(h.textContent=i),null!==r&&(r.style.fill=n)}},{key:"printDataLabelsInner",value:function(t,e){var i=this.w,a=t.getAttribute("data:value"),n=i.globals.seriesNames[parseInt(t.parentNode.getAttribute("rel"),10)-1];i.globals.series.length>1&&this.printInnerLabels(e,n,a,t);var o=i.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");null!==o&&(o.style.opacity=1)}},{key:"drawSpokes",value:function(t){var e=this,i=this.w,a=new U(this.ctx),n=i.config.plotOptions.polarArea.spokes;if(0!==n.strokeWidth){for(var o=[],r=360/i.globals.series.length,h=0;h<i.globals.series.length;h++)o.push(X.polarToCartesian(this.centerX,this.centerY,i.globals.radialSize,i.config.plotOptions.pie.startAngle+r*h));o.forEach(function(d,f){var g=a.drawLine(d.x,d.y,e.centerX,e.centerY,Array.isArray(n.connectorColors)?n.connectorColors[f]:n.connectorColors);t.add(g)})}}},{key:"revertDataLabelsInner",value:function(){var t=this.w;if(this.donutDataLabels.show){var e=t.globals.dom.Paper.select(".apexcharts-datalabels-group").members[0],i=this.renderInnerDataLabels(e,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});t.globals.dom.Paper.select(".apexcharts-radialbar, .apexcharts-pie").members[0].add(i)}}}]),E}(),wi=function(){function E(t){ot(this,E),this.ctx=t,this.w=t.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var e=this.w;this.graphics=new U(this.ctx),this.lineColorArr=void 0!==e.globals.stroke.colors?e.globals.stroke.colors:e.globals.colors,this.defaultSize=e.globals.svgHeight<e.globals.svgWidth?e.globals.gridHeight:e.globals.gridWidth,this.isLog=e.config.yaxis[0].logarithmic,this.logBase=e.config.yaxis[0].logBase,this.coreUtils=new Ht(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,e.globals.maxY,0):e.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):e.globals.minY,this.polygons=e.config.plotOptions.radar.polygons,this.strokeWidth=e.config.stroke.show?e.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-e.config.chart.dropShadow.blur,e.config.xaxis.labels.show&&(this.size=this.size-e.globals.xAxisLabelsWidth/1.75),void 0!==e.config.plotOptions.radar.size&&(this.size=e.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return v(E,[{key:"draw",value:function(t){var e=this,i=this.w,a=new Ft(this.ctx),n=[],o=new ke(this.ctx);t.length&&(this.dataPointsLen=t[i.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var f=i.globals.gridHeight/2+i.config.plotOptions.radar.offsetY,g=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(i.globals.gridWidth/2+i.config.plotOptions.radar.offsetX||0,", ").concat(f||0,")")}),x=[],y=null,C=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),t.forEach(function(M,D){var I=M.length===i.globals.dataPoints,c=e.graphics.group().attr({class:"apexcharts-series","data:longestSeries":I,seriesName:X.escapeString(i.globals.seriesNames[D]),rel:D+1,"data:realIndex":D});e.dataRadiusOfPercent[D]=[],e.dataRadius[D]=[],e.angleArr[D]=[],M.forEach(function(B,H){var Y=Math.abs(e.maxValue-e.minValue);B-=e.minValue,e.isLog&&(B=e.coreUtils.getLogVal(e.logBase,B,0)),e.dataRadiusOfPercent[D][H]=B/Y,e.dataRadius[D][H]=e.dataRadiusOfPercent[D][H]*e.size,e.angleArr[D][H]=H*e.disAngle}),x=e.getDataPointsPos(e.dataRadius[D],e.angleArr[D]);var u=e.createPaths(x,{x:0,y:0});y=e.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),C=e.graphics.group({class:"apexcharts-datalabels","data:realIndex":D}),i.globals.delayedElements.push({el:y.node,index:D});var m={i:D,realIndex:D,animationDelay:D,initialSpeed:i.config.chart.animations.speed,dataChangeSpeed:i.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:i.globals.stroke.colors[D],strokeLineCap:i.config.stroke.lineCap},w=null;i.globals.previousPaths.length>0&&(w=e.getPreviousPath(D));for(var b=0;b<u.linePathsTo.length;b++){var A=e.graphics.renderPaths($($({},m),{},{pathFrom:null===w?u.linePathsFrom[b]:w,pathTo:u.linePathsTo[b],strokeWidth:Array.isArray(e.strokeWidth)?e.strokeWidth[D]:e.strokeWidth,fill:"none",drawShadow:!1}));c.add(A);var T=a.fillPath({seriesNumber:D}),z=e.graphics.renderPaths($($({},m),{},{pathFrom:null===w?u.areaPathsFrom[b]:w,pathTo:u.areaPathsTo[b],strokeWidth:0,fill:T,drawShadow:!1}));i.config.chart.dropShadow.enabled&&new $t(e.ctx).dropShadow(z,Object.assign({},i.config.chart.dropShadow,{noUserSpaceOnUse:!0}),D),c.add(z)}M.forEach(function(B,H){var Y=new se(e.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:D,dataPointIndex:H}),V=e.graphics.drawMarker(x[H].x,x[H].y,Y);V.attr("rel",H),V.attr("j",H),V.attr("index",D),V.node.setAttribute("default-marker-size",Y.pSize);var tt=e.graphics.group({class:"apexcharts-series-markers"});tt&&tt.add(V),y.add(tt),c.add(y);var et=i.config.dataLabels;if(et.enabled){var rt=et.formatter(i.globals.series[D][H],{seriesIndex:D,dataPointIndex:H,w:i});o.plotDataLabelsText({x:x[H].x,y:x[H].y,text:rt,textAnchor:"middle",i:D,j:D,parent:C,offsetCorrection:!1,dataLabelsConfig:$({},et)})}c.add(C)}),n.push(c)}),this.drawPolygons({parent:g}),i.config.xaxis.labels.show){var k=this.drawXAxisTexts();g.add(k)}return n.forEach(function(M){g.add(M)}),g.add(this.yaxisLabels),g}},{key:"drawPolygons",value:function(t){for(var e=this,i=this.w,a=t.parent,n=new Ue(this.ctx),o=i.globals.yAxisScale[0].result.reverse(),r=o.length,h=[],d=this.size/(r-1),f=0;f<r;f++)h[f]=d*f;h.reverse();var g=[],x=[];h.forEach(function(y,C){var k=X.getPolygonPos(y,e.dataPointsLen),M="";k.forEach(function(D,I){if(0===C){var c=e.graphics.drawLine(D.x,D.y,0,0,Array.isArray(e.polygons.connectorColors)?e.polygons.connectorColors[I]:e.polygons.connectorColors);x.push(c)}0===I&&e.yaxisLabelsTextsPos.push({x:D.x,y:D.y}),M+=D.x+","+D.y+" "}),g.push(M)}),g.forEach(function(y,C){var k=e.polygons.strokeColors,M=e.polygons.strokeWidth,D=e.graphics.drawPolygon(y,Array.isArray(k)?k[C]:k,Array.isArray(M)?M[C]:M,i.globals.radarPolygons.fill.colors[C]);a.add(D)}),x.forEach(function(y){a.add(y)}),i.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(y,C){var k=n.drawYAxisTexts(y.x,y.y,C,o[C]);e.yaxisLabels.add(k)})}},{key:"drawXAxisTexts",value:function(){var t=this,e=this.w,i=e.config.xaxis.labels,a=this.graphics.group({class:"apexcharts-xaxis"}),n=X.getPolygonPos(this.size,this.dataPointsLen);return e.globals.labels.forEach(function(o,r){var h=e.config.xaxis.labels.formatter,d=new ke(t.ctx);if(n[r]){var f=t.getTextPos(n[r],t.size),g=h(o,{seriesIndex:-1,dataPointIndex:r,w:e});d.plotDataLabelsText({x:f.newX,y:f.newY,text:g,textAnchor:f.textAnchor,i:r,j:r,parent:a,className:"apexcharts-xaxis-label",color:Array.isArray(i.style.colors)&&i.style.colors[r]?i.style.colors[r]:"#a8a8a8",dataLabelsConfig:$({textAnchor:f.textAnchor,dropShadow:{enabled:!1}},i),offsetCorrection:!1}).on("click",function(x){if("function"==typeof e.config.chart.events.xAxisLabelClick){var y=Object.assign({},e,{labelIndex:r});e.config.chart.events.xAxisLabelClick(x,t.ctx,y)}})}}),a}},{key:"createPaths",value:function(t,e){var i=this,a=[],n=[],o=[],r=[];if(t.length){n=[this.graphics.move(e.x,e.y)],r=[this.graphics.move(e.x,e.y)];var h=this.graphics.move(t[0].x,t[0].y),d=this.graphics.move(t[0].x,t[0].y);t.forEach(function(f,g){h+=i.graphics.line(f.x,f.y),d+=i.graphics.line(f.x,f.y),g===t.length-1&&(h+="Z",d+="Z")}),a.push(h),o.push(d)}return{linePathsFrom:n,linePathsTo:a,areaPathsFrom:r,areaPathsTo:o}}},{key:"getTextPos",value:function(t,e){var i="middle",a=t.x,n=t.y;return Math.abs(t.x)>=10?t.x>0?(i="start",a+=10):t.x<0&&(i="end",a-=10):i="middle",Math.abs(t.y)>=e-10&&(t.y<0?n-=10:t.y>0&&(n+=10)),{textAnchor:i,newX:a,newY:n}}},{key:"getPreviousPath",value:function(t){for(var e=this.w,i=null,a=0;a<e.globals.previousPaths.length;a++){var n=e.globals.previousPaths[a];n.paths.length>0&&parseInt(n.realIndex,10)===parseInt(t,10)&&void 0!==e.globals.previousPaths[a].paths[0]&&(i=e.globals.previousPaths[a].paths[0].d)}return i}},{key:"getDataPointsPos",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.dataPointsLen;t=t||[],e=e||[];for(var a=[],n=0;n<i;n++){var o={};o.x=t[n]*Math.sin(e[n]),o.y=-t[n]*Math.cos(e[n]),a.push(o)}return a}}]),E}(),Wt=function(E){J(e,E);var t=R(e);function e(i){var a;ot(this,e),(a=t.call(this,i)).ctx=i,a.w=i.w,a.animBeginArr=[0],a.animDur=0;var n=a.w;return a.startAngle=n.config.plotOptions.radialBar.startAngle,a.endAngle=n.config.plotOptions.radialBar.endAngle,a.totalAngle=Math.abs(n.config.plotOptions.radialBar.endAngle-n.config.plotOptions.radialBar.startAngle),a.trackStartAngle=n.config.plotOptions.radialBar.track.startAngle,a.trackEndAngle=n.config.plotOptions.radialBar.track.endAngle,a.barLabels=a.w.config.plotOptions.radialBar.barLabels,a.donutDataLabels=a.w.config.plotOptions.radialBar.dataLabels,a.radialDataLabels=a.donutDataLabels,a.trackStartAngle||(a.trackStartAngle=a.startAngle),a.trackEndAngle||(a.trackEndAngle=a.endAngle),360===a.endAngle&&(a.endAngle=359.99),a.margin=parseInt(n.config.plotOptions.radialBar.track.margin,10),a.onBarLabelClick=a.onBarLabelClick.bind(gt(a)),a}return v(e,[{key:"draw",value:function(i){var a=this.w,n=new U(this.ctx),o=n.group({class:"apexcharts-radialbar"});if(a.globals.noData)return o;var r=n.group(),h=this.defaultSize/2,d=a.globals.gridWidth/2,f=this.defaultSize/2.05;a.config.chart.sparkline.enabled||(f=f-a.config.stroke.width-a.config.chart.dropShadow.blur);var g=a.globals.fill.colors;if(a.config.plotOptions.radialBar.track.show){var x=this.drawTracks({size:f,centerX:d,centerY:h,colorArr:g,series:i});r.add(x)}var y=this.drawArcs({size:f,centerX:d,centerY:h,colorArr:g,series:i}),C=360;a.config.plotOptions.radialBar.startAngle<0&&(C=this.totalAngle);var k=(360-C)/360;if(a.globals.radialSize=f-f*k,this.radialDataLabels.value.show){var M=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);a.globals.radialSize+=M*k}return r.add(y.g),"front"===a.config.plotOptions.radialBar.hollow.position&&(y.g.add(y.elHollow),y.dataLabels&&y.g.add(y.dataLabels)),o.add(r),o}},{key:"drawTracks",value:function(i){var a=this.w,n=new U(this.ctx),o=n.group({class:"apexcharts-tracks"}),r=new $t(this.ctx),h=new Ft(this.ctx),d=this.getStrokeWidth(i);i.size=i.size-d/2;for(var f=0;f<i.series.length;f++){var g=n.group({class:"apexcharts-radialbar-track apexcharts-track"});o.add(g),g.attr({rel:f+1}),i.size=i.size-d-this.margin;var x=a.config.plotOptions.radialBar.track,y=h.fillPath({seriesNumber:0,size:i.size,fillColors:Array.isArray(x.background)?x.background[f]:x.background,solid:!0}),C=this.trackStartAngle,k=this.trackEndAngle;Math.abs(k)+Math.abs(C)>=360&&(k=360-Math.abs(this.startAngle)-.1);var M=n.drawPath({d:"",stroke:y,strokeWidth:d*parseInt(x.strokeWidth,10)/100,fill:"none",strokeOpacity:x.opacity,classes:"apexcharts-radialbar-area"});x.dropShadow.enabled&&r.dropShadow(M,x.dropShadow),g.add(M),M.attr("id","apexcharts-radialbarTrack-"+f),this.animatePaths(M,{centerX:i.centerX,centerY:i.centerY,endAngle:k,startAngle:C,size:i.size,i:f,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:a.globals.easing})}return o}},{key:"drawArcs",value:function(i){var a=this.w,n=new U(this.ctx),o=new Ft(this.ctx),r=new $t(this.ctx),h=n.group(),d=this.getStrokeWidth(i);i.size=i.size-d/2;var f=a.config.plotOptions.radialBar.hollow.background,g=i.size-d*i.series.length-this.margin*i.series.length-d*parseInt(a.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,x=g-a.config.plotOptions.radialBar.hollow.margin;void 0!==a.config.plotOptions.radialBar.hollow.image&&(f=this.drawHollowImage(i,h,g,f));var y=this.drawHollow({size:x,centerX:i.centerX,centerY:i.centerY,fill:f||"transparent"});a.config.plotOptions.radialBar.hollow.dropShadow.enabled&&r.dropShadow(y,a.config.plotOptions.radialBar.hollow.dropShadow);var k=1;!this.radialDataLabels.total.show&&a.globals.series.length>1&&(k=0);var M=null;if(this.radialDataLabels.show){var D=a.globals.dom.Paper.select(".apexcharts-datalabels-group").members[0];M=this.renderInnerDataLabels(D,this.radialDataLabels,{hollowSize:g,centerX:i.centerX,centerY:i.centerY,opacity:k})}"back"===a.config.plotOptions.radialBar.hollow.position&&(h.add(y),M&&h.add(M));var I=!1;a.config.plotOptions.radialBar.inverseOrder&&(I=!0);for(var c=I?i.series.length-1:0;I?c>=0:c<i.series.length;I?c--:c++){var u=n.group({class:"apexcharts-series apexcharts-radial-series",seriesName:X.escapeString(a.globals.seriesNames[c])});h.add(u),u.attr({rel:c+1,"data:realIndex":c}),this.ctx.series.addCollapsedClassToSeries(u,c),i.size=i.size-d-this.margin;var m=o.fillPath({seriesNumber:c,size:i.size,value:i.series[c]}),w=this.startAngle,b=void 0,A=X.negToZero(i.series[c]>100?100:i.series[c])/100,T=Math.round(this.totalAngle*A)+this.startAngle,z=void 0;a.globals.dataChanged&&(b=this.startAngle,z=Math.round(this.totalAngle*X.negToZero(a.globals.previousPaths[c])/100)+b),Math.abs(T)+Math.abs(w)>360&&(T-=.01),Math.abs(z)+Math.abs(b)>360&&(z-=.01);var N=T-w,F=Array.isArray(a.config.stroke.dashArray)?a.config.stroke.dashArray[c]:a.config.stroke.dashArray,B=n.drawPath({d:"",stroke:m,strokeWidth:d,fill:"none",fillOpacity:a.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+c,strokeDashArray:F});if(U.setAttrs(B.node,{"data:angle":N,"data:value":i.series[c]}),a.config.chart.dropShadow.enabled&&r.dropShadow(B,a.config.chart.dropShadow,c),r.setSelectionFilter(B,0,c),this.addListeners(B,this.radialDataLabels),u.add(B),B.attr({index:0,j:c}),this.barLabels.enabled){var Y=X.polarToCartesian(i.centerX,i.centerY,i.size,w),V=this.barLabels.formatter(a.globals.seriesNames[c],{seriesIndex:c,w:a}),tt=["apexcharts-radialbar-label"];this.barLabels.onClick||tt.push("apexcharts-no-click");var et=this.barLabels.useSeriesColors?a.globals.colors[c]:a.config.chart.foreColor;et||(et=a.config.chart.foreColor);var rt=Y.x+this.barLabels.offsetX,st=Y.y+this.barLabels.offsetY,ht=n.drawText({x:rt,y:st,text:V,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:et,cssClass:tt.join(" ")});ht.on("click",this.onBarLabelClick),ht.attr({rel:c+1}),0!==w&&ht.attr({"transform-origin":"".concat(rt," ").concat(st),transform:"rotate(".concat(w," 0 0)")}),u.add(ht)}var bt=0;!this.initialAnim||a.globals.resized||a.globals.dataChanged||(bt=a.config.chart.animations.speed),a.globals.dataChanged&&(bt=a.config.chart.animations.dynamicAnimation.speed),this.animDur=bt/(1.2*i.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(B,{centerX:i.centerX,centerY:i.centerY,endAngle:T,startAngle:w,prevEndAngle:z,prevStartAngle:b,size:i.size,i:c,totalItems:2,animBeginArr:this.animBeginArr,dur:bt,shouldSetPrevPaths:!0,easing:a.globals.easing})}return{g:h,elHollow:y,dataLabels:M}}},{key:"drawHollow",value:function(i){var a=new U(this.ctx).drawCircle(2*i.size);return a.attr({class:"apexcharts-radialbar-hollow",cx:i.centerX,cy:i.centerY,r:i.size,fill:i.fill}),a}},{key:"drawHollowImage",value:function(i,a,n,o){var r=this.w,h=new Ft(this.ctx),d=X.randomId(),f=r.config.plotOptions.radialBar.hollow.image;if(r.config.plotOptions.radialBar.hollow.imageClipped)h.clippedImgArea({width:n,height:n,image:f,patternID:"pattern".concat(r.globals.cuid).concat(d)}),o="url(#pattern".concat(r.globals.cuid).concat(d,")");else{var g=r.config.plotOptions.radialBar.hollow.imageWidth,x=r.config.plotOptions.radialBar.hollow.imageHeight;if(void 0===g&&void 0===x){var y=r.globals.dom.Paper.image(f).loaded(function(k){this.move(i.centerX-k.width/2+r.config.plotOptions.radialBar.hollow.imageOffsetX,i.centerY-k.height/2+r.config.plotOptions.radialBar.hollow.imageOffsetY)});a.add(y)}else{var C=r.globals.dom.Paper.image(f).loaded(function(k){this.move(i.centerX-g/2+r.config.plotOptions.radialBar.hollow.imageOffsetX,i.centerY-x/2+r.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(g,x)});a.add(C)}}return o}},{key:"getStrokeWidth",value:function(i){return i.size*(100-parseInt(this.w.config.plotOptions.radialBar.hollow.size,10))/100/(i.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(i){var a=parseInt(i.target.getAttribute("rel"),10)-1,n=this.barLabels.onClick,o=this.w;n&&n(o.globals.seriesNames[a],{w:o,seriesIndex:a})}}]),e}(ge),fe=function(E){J(e,E);var t=R(e);function e(){return ot(this,e),t.apply(this,arguments)}return v(e,[{key:"draw",value:function(i,a){var n=this.w,o=new U(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=i,this.seriesRangeStart=n.globals.seriesRangeStart,this.seriesRangeEnd=n.globals.seriesRangeEnd,this.barHelpers.initVariables(i);for(var r=o.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),h=0;h<i.length;h++){var d,f,g,x,y=void 0,C=void 0,k=n.globals.comboCharts?a[h]:h,M=this.barHelpers.getGroupIndex(k).columnGroupIndex,D=o.group({class:"apexcharts-series",seriesName:X.escapeString(n.globals.seriesNames[k]),rel:h+1,"data:realIndex":k});this.ctx.series.addCollapsedClassToSeries(D,k),i[h].length>0&&(this.visibleI=this.visibleI+1);var I=0,c=0,u=0;this.yRatio.length>1&&(this.yaxisIndex=n.globals.seriesYAxisReverseMap[k][0],u=k);var m=this.barHelpers.initialPositions();C=m.y,x=m.zeroW,y=m.x,c=m.barWidth,I=m.barHeight,d=m.xDivision,f=m.yDivision,g=m.zeroH;for(var w=o.group({class:"apexcharts-datalabels","data:realIndex":k}),b=o.group({class:"apexcharts-rangebar-goals-markers"}),A=0;A<n.globals.dataPoints;A++){var T=this.barHelpers.getStrokeWidth(h,A,k),z=this.seriesRangeStart[h][A],N=this.seriesRangeEnd[h][A],F=null,B=null,H=null,Y={x:y,y:C,strokeWidth:T,elSeries:D},V=this.seriesLen;if(n.config.plotOptions.bar.rangeBarGroupRows&&(V=1),void 0===n.config.series[h].data[A])break;if(this.isHorizontal){if(H=C+I*this.visibleI,n.config.series[h].data[A].x){var et=this.detectOverlappingBars({i:h,j:A,barYPosition:H,srty:(f-I*V)/2,barHeight:I,yDivision:f,initPositions:m});I=et.barHeight,H=et.barYPosition}c=(F=this.drawRangeBarPaths($({indexes:{i:h,j:A,realIndex:k},barHeight:I,barYPosition:H,zeroW:x,yDivision:f,y1:z,y2:N},Y))).barWidth}else{if(n.globals.isXNumeric&&(y=(n.globals.seriesX[h][A]-n.globals.minX)/this.xRatio-c/2),B=y+c*this.visibleI,n.config.series[h].data[A].x){var st=this.detectOverlappingBars({i:h,j:A,barXPosition:B,srtx:(d-c*V)/2,barWidth:c,xDivision:d,initPositions:m});c=st.barWidth,B=st.barXPosition}I=(F=this.drawRangeColumnPaths($({indexes:{i:h,j:A,realIndex:k,translationsIndex:u},barWidth:c,barXPosition:B,zeroH:g,xDivision:d},Y))).barHeight}var ht=this.barHelpers.drawGoalLine({barXPosition:F.barXPosition,barYPosition:H,goalX:F.goalX,goalY:F.goalY,barHeight:I,barWidth:c});ht&&b.add(ht),C=F.y,y=F.x;var bt=this.barHelpers.getPathFillColor(i,h,A,k);this.renderSeries({realIndex:k,pathFill:bt,lineFill:n.globals.stroke.colors[k],j:A,i:h,x:y,y:C,y1:z,y2:N,pathFrom:F.pathFrom,pathTo:F.pathTo,strokeWidth:T,elSeries:D,series:i,barHeight:I,barWidth:c,barXPosition:B,barYPosition:H,columnGroupIndex:M,elDataLabelsWrap:w,elGoalsMarkers:b,visibleSeries:this.visibleI,type:"rangebar"})}r.add(D)}return r}},{key:"detectOverlappingBars",value:function(i){var a=i.i,n=i.j,o=i.barYPosition,r=i.barXPosition,h=i.srty,d=i.srtx,f=i.barHeight,g=i.barWidth,x=i.yDivision,y=i.xDivision,C=i.initPositions,k=this.w,M=[],D=k.config.series[a].data[n].rangeName,I=k.config.series[a].data[n].x,c=Array.isArray(I)?I.join(" "):I,u=k.globals.labels.map(function(w){return Array.isArray(w)?w.join(" "):w}).indexOf(c),m=k.globals.seriesRange[a].findIndex(function(w){return w.x===c&&w.overlaps.length>0});return this.isHorizontal?(o=k.config.plotOptions.bar.rangeBarGroupRows?h+x*u:h+f*this.visibleI+x*u,m>-1&&!k.config.plotOptions.bar.rangeBarOverlap&&(M=k.globals.seriesRange[a][m].overlaps).indexOf(D)>-1&&(o=(f=C.barHeight/M.length)*this.visibleI+x*(100-parseInt(this.barOptions.barHeight,10))/100/2+f*(this.visibleI+M.indexOf(D))+x*u)):(u>-1&&!k.globals.timescaleLabels.length&&(r=k.config.plotOptions.bar.rangeBarGroupRows?d+y*u:d+g*this.visibleI+y*u),m>-1&&!k.config.plotOptions.bar.rangeBarOverlap&&(M=k.globals.seriesRange[a][m].overlaps).indexOf(D)>-1&&(r=(g=C.barWidth/M.length)*this.visibleI+y*(100-parseInt(this.barOptions.barWidth,10))/100/2+g*(this.visibleI+M.indexOf(D))+y*u)),{barYPosition:o,barXPosition:r,barHeight:f,barWidth:g}}},{key:"drawRangeColumnPaths",value:function(i){var a=i.indexes,n=i.x,o=i.xDivision,r=i.barWidth,h=i.barXPosition,d=i.zeroH,f=this.w,g=a.i,x=a.j,y=a.realIndex,C=a.translationsIndex,k=this.yRatio[C],M=this.getRangeValue(y,x),D=Math.min(M.start,M.end),I=Math.max(M.start,M.end);null==this.series[g][x]?D=d:(D=d-D/k,I=d-I/k);var c=Math.abs(I-D),u=this.barHelpers.getColumnPaths({barXPosition:h,barWidth:r,y1:D,y2:I,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:y,i:y,j:x,w:f});if(f.globals.isXNumeric){var m=this.getBarXForNumericXAxis({x:n,j:x,realIndex:y,barWidth:r});n=m.x,h=m.barXPosition}else n+=o;return{pathTo:u.pathTo,pathFrom:u.pathFrom,barHeight:c,x:n,y:M.start<0&&M.end<0?D:I,goalY:this.barHelpers.getGoalValues("y",null,d,g,x,C),barXPosition:h}}},{key:"preventBarOverflow",value:function(i){var a=this.w;return i<0&&(i=0),i>a.globals.gridWidth&&(i=a.globals.gridWidth),i}},{key:"drawRangeBarPaths",value:function(i){var a=i.indexes,n=i.y,r=i.y2,h=i.yDivision,d=i.barHeight,f=i.barYPosition,g=i.zeroW,x=this.w,y=a.realIndex,C=a.j,k=this.preventBarOverflow(g+i.y1/this.invertedYRatio),M=this.preventBarOverflow(g+r/this.invertedYRatio),D=this.getRangeValue(y,C),I=Math.abs(M-k),c=this.barHelpers.getBarpaths({barYPosition:f,barHeight:d,x1:k,x2:M,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:y,realIndex:y,j:C,w:x});return x.globals.isXNumeric||(n+=h),{pathTo:c.pathTo,pathFrom:c.pathFrom,barWidth:I,x:D.start<0&&D.end<0?k:M,goalX:this.barHelpers.getGoalValues("x",g,null,y,C),y:n}}},{key:"getRangeValue",value:function(i,a){var n=this.w;return{start:n.globals.seriesRangeStart[i][a],end:n.globals.seriesRangeEnd[i][a]}}}]),e}(Xe),Ye=function(){function E(t){ot(this,E),this.w=t.w,this.lineCtx=t}return v(E,[{key:"sameValueSeriesFix",value:function(t,e){var i=this.w;if(("gradient"===i.config.fill.type||"gradient"===i.config.fill.type[t])&&new Ht(this.lineCtx.ctx,i).seriesHaveSameValues(t)){var a=e[t].slice();a[a.length-1]=a[a.length-1]+1e-6,e[t]=a}return e}},{key:"calculatePoints",value:function(t){var e=t.series,a=t.x,n=t.y,o=t.i,r=t.j,h=t.prevY,d=this.w,f=[],g=[];if(0===r){var x=this.lineCtx.categoryAxisCorrection+d.config.markers.offsetX;d.globals.isXNumeric&&(x=(d.globals.seriesX[t.realIndex][0]-d.globals.minX)/this.lineCtx.xRatio+d.config.markers.offsetX),f.push(x),g.push(X.isNumber(e[o][0])?h+d.config.markers.offsetY:null),f.push(a+d.config.markers.offsetX),g.push(X.isNumber(e[o][r+1])?n+d.config.markers.offsetY:null)}else f.push(a+d.config.markers.offsetX),g.push(X.isNumber(e[o][r+1])?n+d.config.markers.offsetY:null);return{x:f,y:g}}},{key:"checkPreviousPaths",value:function(t){for(var e=t.pathFromLine,i=t.pathFromArea,a=t.realIndex,n=this.w,o=0;o<n.globals.previousPaths.length;o++){var r=n.globals.previousPaths[o];("line"===r.type||"area"===r.type)&&r.paths.length>0&&parseInt(r.realIndex,10)===parseInt(a,10)&&("line"===r.type?(this.lineCtx.appendPathFrom=!1,e=n.globals.previousPaths[o].paths[0].d):"area"===r.type&&(this.lineCtx.appendPathFrom=!1,i=n.globals.previousPaths[o].paths[0].d,n.config.stroke.show&&n.globals.previousPaths[o].paths[1]&&(e=n.globals.previousPaths[o].paths[1].d)))}return{pathFromLine:e,pathFromArea:i}}},{key:"determineFirstPrevY",value:function(t){var e,i,a,n=t.i,o=t.realIndex,r=t.series,h=t.prevY,d=t.lineYPosition,f=t.translationsIndex,g=this.w,x=g.config.chart.stacked&&!g.globals.comboCharts||g.config.chart.stacked&&g.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||"bar"===(null===(e=this.w.config.series[o])||void 0===e?void 0:e.type)||"column"===(null===(i=this.w.config.series[o])||void 0===i?void 0:i.type));if(void 0!==(null===(a=r[n])||void 0===a?void 0:a[0]))h=(d=x&&n>0?this.lineCtx.prevSeriesY[n-1][0]:this.lineCtx.zeroY)-r[n][0]/this.lineCtx.yRatio[f]+2*(this.lineCtx.isReversed?r[n][0]/this.lineCtx.yRatio[f]:0);else if(x&&n>0&&void 0===r[n][0])for(var y=n-1;y>=0;y--)if(null!=r[y][0]){h=d=this.lineCtx.prevSeriesY[y][0];break}return{prevY:h,lineYPosition:d}}}]),E}(),Nt=function(E,t,e){var i=E.slice(t,e);if(t){if(e-t>1&&i[1].length<6){var a=i[0].length;i[1]=[2*i[0][a-2]-i[0][a-4],2*i[0][a-1]-i[0][a-3]].concat(i[1])}i[0]=i[0].slice(-2)}return i};function ye(E,t){return(t[1]-E[1])/(t[0]-E[0])}var Ee=function(){function E(t,e,i){ot(this,E),this.ctx=t,this.w=t.w,this.xyRatios=e,this.pointsChart=!("bubble"!==this.w.config.chart.type&&"scatter"!==this.w.config.chart.type)||i,this.scatter=new de(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Ye(this),this.markers=new se(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return v(E,[{key:"draw",value:function(t,e,i,a){var n,o=this.w,r=new U(this.ctx),h=o.globals.comboCharts?e:o.config.chart.type,d=r.group({class:"apexcharts-".concat(h,"-series apexcharts-plot-series")}),f=new Ht(this.ctx,o);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,t=f.getLogSeries(t),this.yRatio=f.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var g=[],x=0;x<t.length;x++){t=this.lineHelpers.sameValueSeriesFix(x,t);var y=o.globals.comboCharts?i[x]:x,C=this.yRatio.length>1?y:0;this._initSerieVariables(t,x,y);var k=[],M=[],D=[],I=o.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,y),o.globals.isXNumeric&&o.globals.seriesX.length>0&&(I=(o.globals.seriesX[y][0]-o.globals.minX)/this.xRatio),D.push(I);var c,u=I,m=void 0,w=u,b=this.zeroY,A=this.zeroY;b=this.lineHelpers.determineFirstPrevY({i:x,realIndex:y,series:t,prevY:b,lineYPosition:0,translationsIndex:C}).prevY,k.push("monotoneCubic"===o.config.stroke.curve&&null===t[x][0]?null:b),c=b,"rangeArea"===h&&(m=A=this.lineHelpers.determineFirstPrevY({i:x,realIndex:y,series:a,prevY:A,lineYPosition:0,translationsIndex:C}).prevY,M.push(null!==k[0]?A:null));var T=this._calculatePathsFrom({type:h,series:t,i:x,realIndex:y,translationsIndex:C,prevX:w,prevY:b,prevY2:A}),z=[k[0]],N=[M[0]],F={type:h,series:t,realIndex:y,translationsIndex:C,i:x,x:I,y:1,pX:u,pY:c,pathsFrom:T,linePaths:[],areaPaths:[],seriesIndex:i,lineYPosition:0,xArrj:D,yArrj:k,y2Arrj:M,seriesRangeEnd:a},B=this._iterateOverDataPoints($($({},F),{},{iterations:"rangeArea"===h?t[x].length-1:void 0,isRangeStart:!0}));if("rangeArea"===h){for(var H=this._calculatePathsFrom({series:a,i:x,realIndex:y,prevX:w,prevY:A}),Y=this._iterateOverDataPoints($($({},F),{},{series:a,xArrj:[I],yArrj:z,y2Arrj:N,pY:m,areaPaths:B.areaPaths,pathsFrom:H,iterations:a[x].length-1,isRangeStart:!1})),V=B.linePaths.length/2,tt=0;tt<V;tt++)B.linePaths[tt]=Y.linePaths[tt+V]+B.linePaths[tt];B.linePaths.splice(V),B.pathFromLine=Y.pathFromLine+B.pathFromLine}else B.pathFromArea+="z";this._handlePaths({type:h,realIndex:y,i:x,paths:B}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),g.push(this.elSeries)}if(void 0!==(null===(n=o.config.series[0])||void 0===n?void 0:n.zIndex)&&g.sort(function(st,ht){return Number(st.node.getAttribute("zIndex"))-Number(ht.node.getAttribute("zIndex"))}),o.config.chart.stacked)for(var et=g.length-1;et>=0;et--)d.add(g[et]);else for(var rt=0;rt<g.length;rt++)d.add(g[rt]);return d}},{key:"_initSerieVariables",value:function(t,e,i){var a=this.w,n=new U(this.ctx);this.xDivision=a.globals.gridWidth/(a.globals.dataPoints-("on"===a.config.xaxis.tickPlacement?1:0)),this.strokeWidth=Array.isArray(a.config.stroke.width)?a.config.stroke.width[i]:a.config.stroke.width;var o=0;this.yRatio.length>1&&(this.yaxisIndex=a.globals.seriesYAxisReverseMap[i],o=i),this.isReversed=a.config.yaxis[this.yaxisIndex]&&a.config.yaxis[this.yaxisIndex].reversed,this.zeroY=a.globals.gridHeight-this.baseLineY[o]-(this.isReversed?a.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[o]:0),this.areaBottomY=this.zeroY,(this.zeroY>a.globals.gridHeight||"end"===a.config.plotOptions.area.fillTo)&&(this.areaBottomY=a.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=n.group({class:"apexcharts-series",zIndex:void 0!==a.config.series[i].zIndex?a.config.series[i].zIndex:i,seriesName:X.escapeString(a.globals.seriesNames[i])}),this.elPointsMain=n.group({class:"apexcharts-series-markers-wrap","data:realIndex":i}),this.elDataLabelsWrap=n.group({class:"apexcharts-datalabels","data:realIndex":i}),this.elSeries.attr({"data:longestSeries":t[e].length===a.globals.dataPoints,rel:e+1,"data:realIndex":i}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(t){var e,i,a,n,o=t.type,r=t.series,h=t.i,d=t.realIndex,f=t.translationsIndex,g=t.prevX,x=t.prevY,y=t.prevY2,C=this.w,k=new U(this.ctx);if(null===r[h][0]){for(var M=0;M<r[h].length;M++)if(null!==r[h][M]){e=k.move(g=this.xDivision*M,x=this.zeroY-r[h][M]/this.yRatio[f]),i=k.move(g,this.areaBottomY);break}}else e=k.move(g,x),"rangeArea"===o&&(e=k.move(g,y)+k.line(g,x)),i=k.move(g,this.areaBottomY)+k.line(g,x);if(a=k.move(0,this.zeroY)+k.line(0,this.zeroY),n=k.move(0,this.zeroY)+k.line(0,this.zeroY),C.globals.previousPaths.length>0){var D=this.lineHelpers.checkPreviousPaths({pathFromLine:a,pathFromArea:n,realIndex:d});a=D.pathFromLine,n=D.pathFromArea}return{prevX:g,prevY:x,linePath:e,areaPath:i,pathFromLine:a,pathFromArea:n}}},{key:"_handlePaths",value:function(t){var e=t.type,i=t.realIndex,a=t.i,n=t.paths,o=this.w,r=new U(this.ctx),h=new Ft(this.ctx);this.prevSeriesY.push(n.yArrj),o.globals.seriesXvalues[i]=n.xArrj,o.globals.seriesYvalues[i]=n.yArrj;var d=o.config.forecastDataPoints;if(d.count>0&&"rangeArea"!==e){var f=o.globals.seriesXvalues[i][o.globals.seriesXvalues[i].length-d.count-1],g=r.drawRect(f,0,o.globals.gridWidth,o.globals.gridHeight,0);o.globals.dom.elForecastMask.appendChild(g.node);var x=r.drawRect(0,0,f,o.globals.gridHeight,0);o.globals.dom.elNonForecastMask.appendChild(x.node)}this.pointsChart||o.globals.delayedElements.push({el:this.elPointsMain.node,index:i});var y={i:a,realIndex:i,animationDelay:a,initialSpeed:o.config.chart.animations.speed,dataChangeSpeed:o.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(e)};if("area"===e)for(var C=h.fillPath({seriesNumber:i}),k=0;k<n.areaPaths.length;k++){var M=r.renderPaths($($({},y),{},{pathFrom:n.pathFromArea,pathTo:n.areaPaths[k],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:C}));this.elSeries.add(M)}if(o.config.stroke.show&&!this.pointsChart){var D=null;if("line"===e)D=h.fillPath({seriesNumber:i,i:a});else if("solid"===o.config.stroke.fill.type)D=o.globals.stroke.colors[i];else{var I=o.config.fill;o.config.fill=o.config.stroke.fill,D=h.fillPath({seriesNumber:i,i:a}),o.config.fill=I}for(var c=0;c<n.linePaths.length;c++){var u=D;"rangeArea"===e&&(u=h.fillPath({seriesNumber:i}));var m=$($({},y),{},{pathFrom:n.pathFromLine,pathTo:n.linePaths[c],stroke:D,strokeWidth:this.strokeWidth,strokeLineCap:o.config.stroke.lineCap,fill:"rangeArea"===e?u:"none"}),w=r.renderPaths(m);if(this.elSeries.add(w),w.attr("fill-rule","evenodd"),d.count>0&&"rangeArea"!==e){var b=r.renderPaths(m);b.node.setAttribute("stroke-dasharray",d.dashArray),d.strokeWidth&&b.node.setAttribute("stroke-width",d.strokeWidth),this.elSeries.add(b),b.attr("clip-path","url(#forecastMask".concat(o.globals.cuid,")")),w.attr("clip-path","url(#nonForecastMask".concat(o.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(t){var e,i,a=this,n=t.type,o=t.series,r=t.iterations,h=t.realIndex,d=t.translationsIndex,f=t.i,g=t.x,x=t.y,y=t.pX,C=t.pY,k=t.pathsFrom,M=t.linePaths,D=t.areaPaths,I=t.seriesIndex,c=t.lineYPosition,u=t.xArrj,m=t.yArrj,w=t.y2Arrj,b=t.isRangeStart,A=t.seriesRangeEnd,T=this.w,z=new U(this.ctx),N=this.yRatio,F=k.prevY,B=k.linePath,H=k.areaPath,Y=k.pathFromLine,V=k.pathFromArea,tt=X.isNumber(T.globals.minYArr[h])?T.globals.minYArr[h]:T.globals.minY;r||(r=T.globals.dataPoints>1?T.globals.dataPoints-1:T.globals.dataPoints);var et=function(It,St){return St-It/N[d]+2*(a.isReversed?It/N[d]:0)},rt=x,st=T.config.chart.stacked&&!T.globals.comboCharts||T.config.chart.stacked&&T.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||"bar"===(null===(e=this.w.config.series[h])||void 0===e?void 0:e.type)||"column"===(null===(i=this.w.config.series[h])||void 0===i?void 0:i.type)),ht=T.config.stroke.curve;Array.isArray(ht)&&(ht=Array.isArray(I)?ht[I[f]]:ht[f]);for(var bt,mt=0,kt=0;kt<r;kt++){var Rt=null==o[f][kt+1];if(T.globals.isXNumeric){var q=T.globals.seriesX[h][kt+1];void 0===T.globals.seriesX[h][kt+1]&&(q=T.globals.seriesX[h][r-1]),g=(q-T.globals.minX)/this.xRatio}else g+=this.xDivision;c=st&&f>0&&T.globals.collapsedSeries.length<T.config.series.length-1?this.prevSeriesY[function(It){for(var St=It;St>0;St--){if(!(T.globals.collapsedSeriesIndices.indexOf(I?.[St]||St)>-1))return St;St--}return 0}(f-1)][kt+1]:this.zeroY,Rt?x=et(tt,c):(x=et(o[f][kt+1],c),"rangeArea"===n&&(rt=et(A[f][kt+1],c))),u.push(g),!Rt||"smooth"!==T.config.stroke.curve&&"monotoneCubic"!==T.config.stroke.curve?(m.push(x),w.push(rt)):(m.push(null),w.push(null));var lt=this.lineHelpers.calculatePoints({series:o,x:g,y:x,realIndex:h,i:f,j:kt,prevY:F}),ut=this._createPaths({type:n,series:o,i:f,realIndex:h,j:kt,x:g,y:x,y2:rt,xArrj:u,yArrj:m,y2Arrj:w,pX:y,pY:C,pathState:mt,segmentStartX:bt,linePath:B,areaPath:H,linePaths:M,areaPaths:D,curve:ht,isRangeStart:b});D=ut.areaPaths,M=ut.linePaths,y=ut.pX,C=ut.pY,mt=ut.pathState,bt=ut.segmentStartX,H=ut.areaPath,B=ut.linePath,!this.appendPathFrom||"monotoneCubic"===ht&&"rangeArea"===n||(Y+=z.line(g,this.zeroY),V+=z.line(g,this.zeroY)),this.handleNullDataPoints(o,lt,f,kt,h),this._handleMarkersAndLabels({type:n,pointsPos:lt,i:f,j:kt,realIndex:h,isRangeStart:b})}return{yArrj:m,xArrj:u,pathFromArea:V,areaPaths:D,pathFromLine:Y,linePaths:M,linePath:B,areaPath:H}}},{key:"_handleMarkersAndLabels",value:function(t){var e=t.type,i=t.pointsPos,a=t.isRangeStart,n=t.i,o=t.j,r=t.realIndex,h=this.w,d=new ke(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,o,{realIndex:r,pointsPos:i,zRatio:this.zRatio,elParent:this.elPointsMain});else{h.globals.series[n].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var f=this.markers.plotChartMarkers(i,r,o+1);null!==f&&this.elPointsMain.add(f)}var g=d.drawDataLabel({type:e,isRangeStart:a,pos:i,i:r,j:o+1});null!==g&&this.elDataLabelsWrap.add(g)}},{key:"_createPaths",value:function(t){var n,e=t.type,i=t.series,a=t.i,o=t.j,r=t.x,h=t.y,d=t.xArrj,f=t.yArrj,g=t.y2,x=t.y2Arrj,y=t.pX,C=t.pY,k=t.pathState,M=t.segmentStartX,D=t.linePath,I=t.areaPath,c=t.linePaths,u=t.areaPaths,m=t.curve,w=t.isRangeStart,b=new U(this.ctx),A=this.areaBottomY,T="rangeArea"===e,z="rangeArea"===e&&w;switch(m){case"monotoneCubic":var N=w?f:x;switch(k){case 0:if(null===N[o+1])break;k=1;case 1:if(!(T?d.length===i[a].length:o===i[a].length-2))break;case 2:var F=w?d:d.slice().reverse(),B=w?N:N.slice().reverse(),H=(n=B,F.map(function(q,lt){return[q,n[lt]]}).filter(function(q){return null!==q[1]})),Y=H.length>1?function(E){var t=function(E){for(var t,e,i,a,n=function(f){for(var g=[],x=f[0],y=f[1],C=g[0]=ye(x,y),k=1,M=f.length-1;k<M;k++)g[k]=.5*(C+(C=ye(x=y,y=f[k+1])));return g[k]=C,g}(E),o=E.length-1,r=[],h=0;h<o;h++)i=ye(E[h],E[h+1]),Math.abs(i)<1e-6?n[h]=n[h+1]=0:(a=(t=n[h]/i)*t+(e=n[h+1]/i)*e)>9&&(a=3*i/Math.sqrt(a),n[h]=a*t,n[h+1]=a*e);for(var d=0;d<=o;d++)a=(E[Math.min(o,d+1)][0]-E[Math.max(0,d-1)][0])/(6*(1+n[d]*n[d])),r.push([a||0,n[d]*a||0]);return r}(E),e=E[1],i=E[0],a=[],n=t[1],o=t[0];a.push(i,[i[0]+o[0],i[1]+o[1],e[0]-n[0],e[1]-n[1],e[0],e[1]]);for(var r=2,h=t.length;r<h;r++){var d=E[r],f=t[r];a.push([d[0]-f[0],d[1]-f[1],d[0],d[1]])}return a}(H):H,V=[];T&&(z?u=H:V=u.reverse());var tt=0,et=0;if(function(q,lt){for(var ut=function(ue){var Bt=[],Xt=0;return ue.forEach(function(Ut){null!==Ut?Xt++:Xt>0&&(Bt.push(Xt),Xt=0)}),Xt>0&&Bt.push(Xt),Bt}(q),It=[],St=0,ie=0;St<ut.length;ie+=ut[St++])It[St]=Nt(lt,ie,ie+ut[St]);return It}(B,Y).forEach(function(q){tt++;var lt=function(St){for(var ie="",ue=0;ue<St.length;ue++){var Bt=St[ue],Xt=Bt.length;Xt>4?(ie+="C".concat(Bt[0],", ").concat(Bt[1]),ie+=", ".concat(Bt[2],", ").concat(Bt[3]),ie+=", ".concat(Bt[4],", ").concat(Bt[5])):Xt>2&&(ie+="S".concat(Bt[0],", ").concat(Bt[1]),ie+=", ".concat(Bt[2],", ").concat(Bt[3]))}return ie}(q),ut=et,It=(et+=q.length)-1;z?D=b.move(H[ut][0],H[ut][1])+lt:T?D=b.move(V[ut][0],V[ut][1])+b.line(H[ut][0],H[ut][1])+lt+b.line(V[It][0],V[It][1]):(D=b.move(H[ut][0],H[ut][1])+lt,I=D+b.line(H[It][0],A)+b.line(H[ut][0],A)+"z",u.push(I)),c.push(D)}),T&&tt>1&&!z){var rt=c.slice(tt).reverse();c.splice(tt),rt.forEach(function(q){return c.push(q)})}k=0}break;case"smooth":var st=.35*(r-y);if(null===i[a][o])k=0;else switch(k){case 0:if(M=y,D=z?b.move(y,x[o])+b.line(y,C):b.move(y,C),I=b.move(y,C),null===i[a][o+1]){c.push(D),u.push(I);break}if(k=1,o<i[a].length-2){var ht=b.curve(y+st,C,r-st,h,r,h);D+=ht,I+=ht;break}case 1:if(null===i[a][o+1])D+=z?b.line(y,g):b.move(y,C),I+=b.line(y,A)+b.line(M,A)+"z",c.push(D),u.push(I),k=-1;else{var bt=b.curve(y+st,C,r-st,h,r,h);D+=bt,I+=bt,o>=i[a].length-2&&(z&&(D+=b.curve(r,h,r,h,r,g)+b.move(r,g)),I+=b.curve(r,h,r,h,r,A)+b.line(M,A)+"z",c.push(D),u.push(I),k=-1)}}y=r,C=h;break;default:var mt=function(q,lt,ut){var It=[];switch(q){case"stepline":It=b.line(lt,null,"H")+b.line(null,ut,"V");break;case"linestep":It=b.line(null,ut,"V")+b.line(lt,null,"H");break;case"straight":It=b.line(lt,ut)}return It};if(null===i[a][o])k=0;else switch(k){case 0:if(M=y,D=z?b.move(y,x[o])+b.line(y,C):b.move(y,C),I=b.move(y,C),null===i[a][o+1]){c.push(D),u.push(I);break}if(k=1,o<i[a].length-2){var kt=mt(m,r,h);D+=kt,I+=kt;break}case 1:if(null===i[a][o+1])D+=z?b.line(y,g):b.move(y,C),I+=b.line(y,A)+b.line(M,A)+"z",c.push(D),u.push(I),k=-1;else{var Rt=mt(m,r,h);D+=Rt,I+=Rt,o>=i[a].length-2&&(z&&(D+=b.line(r,g)),I+=b.line(r,A)+b.line(M,A)+"z",c.push(D),u.push(I),k=-1)}}y=r,C=h}return{linePaths:c,areaPaths:u,pX:y,pY:C,pathState:k,segmentStartX:M,linePath:D,areaPath:I}}},{key:"handleNullDataPoints",value:function(t,e,i,a,n){var o=this.w;if(null===t[i][a]&&o.config.markers.showNullDataPoints||1===t[i].length){var r=this.strokeWidth-o.config.markers.strokeWidth/2;r>0||(r=0);var h=this.markers.plotChartMarkers(e,n,a+1,r,!0);null!==h&&this.elPointsMain.add(h)}}}]),E}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function E(r,h,d,f){this.xoffset=r,this.yoffset=h,this.height=f,this.width=d,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(g){var x,y=[],C=this.xoffset,k=this.yoffset,M=n(g)/this.height,D=n(g)/this.width;if(this.width>=this.height)for(x=0;x<g.length;x++)y.push([C,k,C+M,k+g[x]/M]),k+=g[x]/M;else for(x=0;x<g.length;x++)y.push([C,k,C+g[x]/D,k+D]),C+=g[x]/D;return y},this.cutArea=function(g){var x;if(this.width>=this.height){var y=g/this.height;x=new E(this.xoffset+y,this.yoffset,this.width-y,this.height)}else{var k=g/this.width;x=new E(this.xoffset,this.yoffset+k,this.width,this.height-k)}return x}}function t(r,h,d,f,g){return f=void 0===f?0:f,g=void 0===g?0:g,function(y){var C,k,M=[];for(C=0;C<y.length;C++)for(k=0;k<y[C].length;k++)M.push(y[C][k]);return M}(e(function(y,C){var k,M=[],D=C/n(y);for(k=0;k<y.length;k++)M[k]=y[k]*D;return M}(r,h*d),[],new E(f,g,h,d),[]))}function e(r,h,d,f){var g,x,y,C,k,M,D;if(0!==r.length)return g=d.shortestEdge(),k=x=r[0],M=g,0===(C=h).length||((D=C.slice()).push(k),i(C,M)>=i(D,M))?(h.push(x),e(r.slice(1),h,d,f)):(y=d.cutArea(n(h),f),f.push(d.getCoordinates(h)),e(r,[],y,f)),f;f.push(d.getCoordinates(h))}function i(r,h){var d=Math.min.apply(Math,r),f=Math.max.apply(Math,r),g=n(r);return Math.max(Math.pow(h,2)*f/Math.pow(g,2),Math.pow(g,2)/(Math.pow(h,2)*d))}function a(r){return r&&r.constructor===Array}function n(r){var h,d=0;for(h=0;h<r.length;h++)d+=r[h];return d}function o(r){var h,d=0;if(a(r[0]))for(h=0;h<r.length;h++)d+=o(r[h]);else d=n(r);return d}return function r(h,d,f,g,x){g=void 0===g?0:g,x=void 0===x?0:x;var y,C,k=[],M=[];if(a(h[0])){for(C=0;C<h.length;C++)k[C]=o(h[C]);for(y=t(k,d,f,g,x),C=0;C<h.length;C++)M.push(r(h[C],y[C][2]-y[C][0],y[C][3]-y[C][1],y[C][0],y[C][1]))}else M=t(h,d,f,g,x);return M}}();var ne,De,pt=function(){function E(t,e){ot(this,E),this.ctx=t,this.w=t.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new Ge(t),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return v(E,[{key:"draw",value:function(t){var e=this,i=this.w,a=new U(this.ctx),n=new Ft(this.ctx),o=a.group({class:"apexcharts-treemap"});if(i.globals.noData)return o;var r=[];return t.forEach(function(h){var d=h.map(function(f){return Math.abs(f)});r.push(d)}),this.negRange=this.helpers.checkColorRange(),i.config.series.forEach(function(h,d){h.data.forEach(function(f){Array.isArray(e.labels[d])||(e.labels[d]=[]),e.labels[d].push(f.x)})}),window.TreemapSquared.generate(r,i.globals.gridWidth,i.globals.gridHeight).forEach(function(h,d){var f=a.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:X.escapeString(i.globals.seriesNames[d]),rel:d+1,"data:realIndex":d});if(i.config.chart.dropShadow.enabled){var g=i.config.chart.dropShadow;new $t(e.ctx).dropShadow(o,g,d)}var x=a.group({class:"apexcharts-data-labels"});h.forEach(function(y,C){var k=y[0],M=y[1],D=y[2],I=y[3],c=a.drawRect(k,M,D-k,I-M,i.config.plotOptions.treemap.borderRadius,"#fff",1,e.strokeWidth,i.config.plotOptions.treemap.useFillColorAsStroke?m:i.globals.stroke.colors[d]);c.attr({cx:k,cy:M,index:d,i:d,j:C,width:D-k,height:I-M});var u=e.helpers.getShadeColor(i.config.chart.type,d,C,e.negRange),m=u.color;void 0!==i.config.series[d].data[C]&&i.config.series[d].data[C].fillColor&&(m=i.config.series[d].data[C].fillColor);var w=n.fillPath({color:m,seriesNumber:d,dataPointIndex:C});c.node.classList.add("apexcharts-treemap-rect"),c.attr({fill:w}),e.helpers.addListeners(c);var b={x:k+(D-k)/2,y:M+(I-M)/2,width:0,height:0},A={x:k,y:M,width:D-k,height:I-M};if(i.config.chart.animations.enabled&&!i.globals.dataChanged){var T=1;i.globals.resized||(T=i.config.chart.animations.speed),e.animateTreemap(c,b,A,T)}i.globals.dataChanged&&e.dynamicAnim.enabled&&i.globals.shouldAnimate&&(i.globals.previousPaths[d]&&i.globals.previousPaths[d][C]&&i.globals.previousPaths[d][C].rect&&(b=i.globals.previousPaths[d][C].rect),e.animateTreemap(c,b,A,e.dynamicAnim.speed));var N=e.getFontSize(y),F=i.config.dataLabels.formatter(e.labels[d][C],{value:i.globals.series[d][C],seriesIndex:d,dataPointIndex:C,w:i});"truncate"===i.config.plotOptions.treemap.dataLabels.format&&(N=parseInt(i.config.dataLabels.style.fontSize,10),F=e.truncateLabels(F,N,k,M,D,I));var B=null;i.globals.series[d][C]&&(B=e.helpers.calculateDataLabels({text:F,x:(k+D)/2,y:(M+I)/2+e.strokeWidth/2+N/3,i:d,j:C,colorProps:u,fontSize:N,series:t})),i.config.dataLabels.enabled&&B&&e.rotateToFitLabel(B,N,F,k,M,D,I),f.add(c),null!==B&&f.add(B)}),f.add(x),o.add(f)}),o}},{key:"getFontSize",value:function(t){var o,e=this.w,r=function h(d){var f,g=0;if(Array.isArray(d[0]))for(f=0;f<d.length;f++)g+=h(d[f]);else for(f=0;f<d.length;f++)g+=d[f].length;return g}(this.labels)/function h(d){var f,g=0;if(Array.isArray(d[0]))for(f=0;f<d.length;f++)g+=h(d[f]);else for(f=0;f<d.length;f++)g+=1;return g}(this.labels);return o=Math.pow((t[2]-t[0])*(t[3]-t[1]),.5),Math.min(o/r,parseInt(e.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(t,e,i,a,n,o,r){var h=new U(this.ctx),d=h.getTextRects(i,e);if(d.width+this.w.config.stroke.width+5>o-a&&d.width<=r-n){var f=h.rotateAroundCenter(t.node);t.node.setAttribute("transform","rotate(-90 ".concat(f.x," ").concat(f.y,") translate(").concat(d.height/3,")"))}}},{key:"truncateLabels",value:function(t,e,i,a,n,o){var r=new U(this.ctx),h=r.getTextRects(t,e).width+this.w.config.stroke.width+5>n-i&&o-a>n-i?o-a:n-i,d=r.getTextBasedOnMaxWidth({text:t,maxWidth:h,fontSize:e});return t.length!==d.length&&h/e<5?"":d}},{key:"animateTreemap",value:function(t,e,i,a){var n=new xe(this.ctx);n.animateRect(t,{x:e.x,y:e.y,width:e.width,height:e.height},{x:i.x,y:i.y,width:i.width,height:i.height},a,function(){n.animationCompleted(t)})}}]),E}(),Ie=10/86400,$e=function(){function E(t){ot(this,E),this.ctx=t,this.w=t.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return v(E,[{key:"calculateTimeScaleTicks",value:function(t,e){var i=this,a=this.w;if(a.globals.allSeriesCollapsed)return a.globals.labels=[],a.globals.timescaleLabels=[],[];var n=new Pt(this.ctx),o=(e-t)/864e5;this.determineInterval(o),a.globals.disableZoomIn=!1,a.globals.disableZoomOut=!1,o<Ie?a.globals.disableZoomIn=!0:o>5e4&&(a.globals.disableZoomOut=!0);var r=n.getTimeUnitsfromTimestamp(t,e,this.utc),h=a.globals.gridWidth/o,d=h/24,f=d/60,g=f/60,x=Math.floor(24*o),y=Math.floor(1440*o),C=Math.floor(86400*o),k=Math.floor(o),M=Math.floor(o/30),D=Math.floor(o/365),I={minMillisecond:r.minMillisecond,minSecond:r.minSecond,minMinute:r.minMinute,minHour:r.minHour,minDate:r.minDate,minMonth:r.minMonth,minYear:r.minYear},c={firstVal:I,currentMillisecond:I.minMillisecond,currentSecond:I.minSecond,currentMinute:I.minMinute,currentHour:I.minHour,currentMonthDate:I.minDate,currentDate:I.minDate,currentMonth:I.minMonth,currentYear:I.minYear,daysWidthOnXAxis:h,hoursWidthOnXAxis:d,minutesWidthOnXAxis:f,secondsWidthOnXAxis:g,numberOfSeconds:C,numberOfMinutes:y,numberOfHours:x,numberOfDays:k,numberOfMonths:M,numberOfYears:D};switch(this.tickInterval){case"years":this.generateYearScale(c);break;case"months":case"half_year":this.generateMonthScale(c);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(c);break;case"hours":this.generateHourScale(c);break;case"minutes_fives":case"minutes":this.generateMinuteScale(c);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(c)}var u=this.timeScaleArray.map(function(m){var w={position:m.position,unit:m.unit,year:m.year,day:m.day?m.day:1,hour:m.hour?m.hour:0,month:m.month+1};return"month"===m.unit?$($({},w),{},{day:1,value:m.value+1}):"day"===m.unit||"hour"===m.unit?$($({},w),{},{value:m.value}):"minute"===m.unit?$($({},w),{},{value:m.value,minute:m.value}):"second"===m.unit?$($({},w),{},{value:m.value,minute:m.minute,second:m.second}):m});return u.filter(function(m){var w=1,b=Math.ceil(a.globals.gridWidth/120),A=m.value;void 0!==a.config.xaxis.tickAmount&&(b=a.config.xaxis.tickAmount),u.length>b&&(w=Math.floor(u.length/b));var T=!1,z=!1;switch(i.tickInterval){case"years":"year"===m.unit&&(T=!0);break;case"half_year":w=7,"year"===m.unit&&(T=!0);break;case"months":w=1,"year"===m.unit&&(T=!0);break;case"months_fortnight":w=15,"year"!==m.unit&&"month"!==m.unit||(T=!0),30===A&&(z=!0);break;case"months_days":w=10,"month"===m.unit&&(T=!0),30===A&&(z=!0);break;case"week_days":w=8,"month"===m.unit&&(T=!0);break;case"days":w=1,"month"===m.unit&&(T=!0);break;case"hours":"day"===m.unit&&(T=!0);break;case"minutes_fives":case"seconds_fives":A%5!=0&&(z=!0);break;case"seconds_tens":A%10!=0&&(z=!0)}if("hours"===i.tickInterval||"minutes_fives"===i.tickInterval||"seconds_tens"===i.tickInterval||"seconds_fives"===i.tickInterval){if(!z)return!0}else if((A%w==0||T)&&!z)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(t,e){var i=this.w,a=this.formatDates(t),n=this.removeOverlappingTS(a);i.globals.timescaleLabels=n.slice(),new Ze(this.ctx).plotCoords()}},{key:"determineInterval",value:function(t){var e=24*t,i=60*e;switch(!0){case t/365>5:this.tickInterval="years";break;case t>800:this.tickInterval="half_year";break;case t>180:this.tickInterval="months";break;case t>90:this.tickInterval="months_fortnight";break;case t>60:this.tickInterval="months_days";break;case t>30:this.tickInterval="week_days";break;case t>2:this.tickInterval="days";break;case e>2.4:this.tickInterval="hours";break;case i>15:this.tickInterval="minutes_fives";break;case i>5:this.tickInterval="minutes";break;case i>1:this.tickInterval="seconds_tens";break;case 60*i>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(t){var e=t.firstVal,i=t.currentMonth,a=t.currentYear,n=t.daysWidthOnXAxis,o=t.numberOfYears,r=e.minYear,h=0,d=new Pt(this.ctx),f="year";if(e.minDate>1||e.minMonth>0){var g=d.determineRemainingDaysOfYear(e.minYear,e.minMonth,e.minDate);h=(d.determineDaysOfYear(e.minYear)-g+1)*n,this.timeScaleArray.push({position:h,value:r=e.minYear+1,unit:f,year:r,month:X.monthMod(i+1)})}else 1===e.minDate&&0===e.minMonth&&this.timeScaleArray.push({position:h,value:r,unit:f,year:a,month:X.monthMod(i+1)});for(var x=r,y=h,C=0;C<o;C++)x++,y=d.determineDaysOfYear(x-1)*n+y,this.timeScaleArray.push({position:y,value:x,unit:f,year:x,month:1})}},{key:"generateMonthScale",value:function(t){var e=t.firstVal,i=t.currentMonthDate,a=t.currentMonth,n=t.currentYear,o=t.daysWidthOnXAxis,r=t.numberOfMonths,h=a,d=0,f=new Pt(this.ctx),g="month",x=0;if(e.minDate>1){d=(f.determineDaysOfMonths(a+1,e.minYear)-i+1)*o,h=X.monthMod(a+1);var y=n+x,C=X.monthMod(h),k=h;0===h&&(g="year",k=y,C=1,y+=x+=1),this.timeScaleArray.push({position:d,value:k,unit:g,year:y,month:C})}else this.timeScaleArray.push({position:d,value:h,unit:g,year:n,month:X.monthMod(a)});for(var M=h+1,D=d,I=0,c=1;I<r;I++,c++){0===(M=X.monthMod(M))?(g="year",x+=1):g="month";var u=this._getYear(n,M,x);D=f.determineDaysOfMonths(M,u)*o+D,this.timeScaleArray.push({position:D,value:0===M?u:M,unit:g,year:u,month:0===M?1:M}),M++}}},{key:"generateDayScale",value:function(t){var e=t.firstVal,i=t.currentMonth,a=t.currentYear,n=t.hoursWidthOnXAxis,o=t.numberOfDays,r=new Pt(this.ctx),h="day",d=e.minDate+1,f=d,g=function(c,u,m){return c>r.determineDaysOfMonths(u+1,m)&&(f=1,h="month",y=u+=1),u},x=(24-e.minHour)*n,y=d,C=g(f,i,a);0===e.minHour&&1===e.minDate?(x=0,y=X.monthMod(e.minMonth),h="month",f=e.minDate):1!==e.minDate&&0===e.minHour&&0===e.minMinute&&(x=0,y=d=e.minDate,C=g(f=d,i,a)),this.timeScaleArray.push({position:x,value:y,unit:h,year:this._getYear(a,C,0),month:X.monthMod(C),day:f});for(var k=x,M=0;M<o;M++){h="day",C=g(f+=1,C,this._getYear(a,C,0));var D=this._getYear(a,C,0);k=24*n+k;var I=1===f?X.monthMod(C):f;this.timeScaleArray.push({position:k,value:I,unit:h,year:D,month:X.monthMod(C),day:I})}}},{key:"generateHourScale",value:function(t){var e=t.firstVal,i=t.currentDate,a=t.currentMonth,n=t.currentYear,o=t.minutesWidthOnXAxis,r=t.numberOfHours,h=new Pt(this.ctx),d="hour",f=function(w,b){return w>h.determineDaysOfMonths(b+1,n)&&(M=1,b+=1),{month:b,date:M}},g=function(w,b){return w>h.determineDaysOfMonths(b+1,n)?b+=1:b},x=60-(e.minMinute+e.minSecond/60),y=x*o,C=e.minHour+1,k=C;60===x&&(y=0,k=C=e.minHour);var M=i;k>=24&&(k=0,M+=1,d="day");var D=f(M,a).month;D=g(M,D),this.timeScaleArray.push({position:y,value:C,unit:d,day:M,hour:k,year:n,month:X.monthMod(D)}),k++;for(var I=y,c=0;c<r;c++){d="hour",k>=24&&(k=0,d="day",D=f(M+=1,D).month,D=g(M,D));var u=this._getYear(n,D,0);this.timeScaleArray.push({position:I=60*o+I,value:0===k?M:k,unit:d,hour:k,day:M,year:u,month:X.monthMod(D)}),k++}}},{key:"generateMinuteScale",value:function(t){for(var d=t.minutesWidthOnXAxis,g=t.numberOfMinutes,x=t.currentMinute+1,y=t.currentDate,C=t.currentMonth,k=t.currentYear,M=t.currentHour,D=(60-t.currentSecond-t.currentMillisecond/1e3)*t.secondsWidthOnXAxis,I=0;I<g;I++)x>=60&&(x=0,24===(M+=1)&&(M=0)),this.timeScaleArray.push({position:D,value:x,unit:"minute",hour:M,minute:x,day:y,year:this._getYear(k,C,0),month:X.monthMod(C)}),D+=d,x++}},{key:"generateSecondScale",value:function(t){for(var d=t.secondsWidthOnXAxis,f=t.numberOfSeconds,g=t.currentSecond+1,x=t.currentMinute,y=t.currentDate,C=t.currentMonth,k=t.currentYear,M=t.currentHour,D=(1e3-t.currentMillisecond)/1e3*d,I=0;I<f;I++)g>=60&&(g=0,++x>=60&&(x=0,24==++M&&(M=0))),this.timeScaleArray.push({position:D,value:g,unit:"second",hour:M,minute:x,second:g,day:y,year:this._getYear(k,C,0),month:X.monthMod(C)}),D+=d,g++}},{key:"createRawDateString",value:function(t,e){var i=t.year;return 0===t.month&&(t.month=1),i+="-"+("0"+t.month.toString()).slice(-2),i+="day"===t.unit?"day"===t.unit?"-"+("0"+e).slice(-2):"-01":"-"+("0"+(t.day?t.day:"1")).slice(-2),i+="hour"===t.unit?"hour"===t.unit?"T"+("0"+e).slice(-2):"T00":"T"+("0"+(t.hour?t.hour:"0")).slice(-2),i+="minute"===t.unit?":"+("0"+e).slice(-2):":"+(t.minute?("0"+t.minute).slice(-2):"00"),i+="second"===t.unit?":"+("0"+e).slice(-2):":00",this.utc&&(i+=".000Z"),i}},{key:"formatDates",value:function(t){var e=this,i=this.w;return t.map(function(a){var n=a.value.toString(),o=new Pt(e.ctx),r=e.createRawDateString(a,n),h=o.getDate(o.parseDate(r));if(e.utc||(h=o.getDate(o.parseDateWithTimezone(r))),void 0===i.config.xaxis.labels.format){var d="dd MMM",f=i.config.xaxis.labels.datetimeFormatter;"year"===a.unit&&(d=f.year),"month"===a.unit&&(d=f.month),"day"===a.unit&&(d=f.day),"hour"===a.unit&&(d=f.hour),"minute"===a.unit&&(d=f.minute),"second"===a.unit&&(d=f.second),n=o.formatDate(h,d)}else n=o.formatDate(h,i.config.xaxis.labels.format);return{dateString:r,position:a.position,value:n,unit:a.unit,year:a.year,month:a.month}})}},{key:"removeOverlappingTS",value:function(t){var e,i=this,a=new U(this.ctx),n=!1;t.length>0&&t[0].value&&t.every(function(h){return h.value.length===t[0].value.length})&&(n=!0,e=a.getTextRects(t[0].value).width);var o=0;return t.map(function(h,d){if(d>0&&i.w.config.xaxis.labels.hideOverlappingLabels){var f=n?e:a.getTextRects(t[o].value).width;return h.position>t[o].position+f+10?(o=d,h):null}return h}).filter(function(h){return null!==h})}},{key:"_getYear",value:function(t,e,i){return t+Math.floor(e/12)+i}}]),E}(),oe=function(){function E(t,e){ot(this,E),this.ctx=e,this.w=e.w,this.el=t}return v(E,[{key:"setupElements",value:function(){var t=this.w,e=t.globals,i=t.config,a=i.chart.type;e.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].includes(a),e.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].includes(a),e.isBarHorizontal=["bar","rangeBar","boxPlot"].includes(a)&&i.plotOptions.bar.horizontal,e.chartClass=".apexcharts".concat(e.chartID),e.dom.baseEl=this.el,e.dom.elWrap=document.createElement("div"),U.setAttrs(e.dom.elWrap,{id:e.chartClass.substring(1),class:"apexcharts-canvas ".concat(e.chartClass.substring(1))}),this.el.appendChild(e.dom.elWrap),e.dom.Paper=new window.SVG.Doc(e.dom.elWrap),e.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(i.chart.offsetX,", ").concat(i.chart.offsetY,")")}),e.dom.Paper.node.style.background="dark"!==i.theme.mode||i.chart.background?"light"!==i.theme.mode||i.chart.background?i.chart.background:"#fff":"#424242",this.setSVGDimensions(),e.dom.elLegendForeign=document.createElementNS(e.SVGNS,"foreignObject"),U.setAttrs(e.dom.elLegendForeign,{x:0,y:0,width:e.svgWidth,height:e.svgHeight}),e.dom.elLegendWrap=document.createElement("div"),e.dom.elLegendWrap.classList.add("apexcharts-legend"),e.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),e.dom.elLegendForeign.appendChild(e.dom.elLegendWrap),e.dom.Paper.node.appendChild(e.dom.elLegendForeign),e.dom.elGraphical=e.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),e.dom.elDefs=e.dom.Paper.defs(),e.dom.Paper.add(e.dom.elGraphical),e.dom.elGraphical.add(e.dom.elDefs)}},{key:"plotChartType",value:function(t,e){var i=this.w,a=this.ctx,n=i.config,o=i.globals,r={line:{series:[],i:[]},area:{series:[],i:[]},scatter:{series:[],i:[]},bubble:{series:[],i:[]},column:{series:[],i:[]},candlestick:{series:[],i:[]},boxPlot:{series:[],i:[]},rangeBar:{series:[],i:[]},rangeArea:{series:[],seriesRangeEnd:[],i:[]}},h=n.chart.type||"line",d=null,f=0;o.series.forEach(function(w,b){var A=t[b].type||h;r[A]?("rangeArea"===A?(r[A].series.push(o.seriesRangeStart[b]),r[A].seriesRangeEnd.push(o.seriesRangeEnd[b])):r[A].series.push(w),r[A].i.push(b),"column"!==A&&"bar"!==A||(i.globals.columnSeries=r.column)):["heatmap","treemap","pie","donut","polarArea","radialBar","radar"].includes(A)?d=A:"bar"===A?(r.column.series.push(w),r.column.i.push(b)):console.warn("You have specified an unrecognized series type (".concat(A,").")),h!==A&&"scatter"!==A&&f++}),f>0&&(d&&console.warn("Chart or series type ".concat(d," cannot appear with other chart or series types.")),r.column.series.length>0&&n.plotOptions.bar.horizontal&&(f-=r.column.series.length,r.column={series:[],i:[]},i.globals.columnSeries={series:[],i:[]},console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"))),o.comboCharts||(o.comboCharts=f>0);var g=new Ee(a,e),x=new Dt(a,e);a.pie=new ge(a);var y=new Wt(a);a.rangeBar=new fe(a,e);var C=new wi(a),k=[];if(o.comboCharts){var M,D,I=new Ht(a);if(r.area.series.length>0&&(M=k).push.apply(M,Vt(I.drawSeriesByGroup(r.area,o.areaGroups,"area",g))),r.column.series.length>0)if(n.chart.stacked){var c=new Yt(a,e);k.push(c.draw(r.column.series,r.column.i))}else a.bar=new Xe(a,e),k.push(a.bar.draw(r.column.series,r.column.i));if(r.rangeArea.series.length>0&&k.push(g.draw(r.rangeArea.series,"rangeArea",r.rangeArea.i,r.rangeArea.seriesRangeEnd)),r.line.series.length>0&&(D=k).push.apply(D,Vt(I.drawSeriesByGroup(r.line,o.lineGroups,"line",g))),r.candlestick.series.length>0&&k.push(x.draw(r.candlestick.series,"candlestick",r.candlestick.i)),r.boxPlot.series.length>0&&k.push(x.draw(r.boxPlot.series,"boxPlot",r.boxPlot.i)),r.rangeBar.series.length>0&&k.push(a.rangeBar.draw(r.rangeBar.series,r.rangeBar.i)),r.scatter.series.length>0){var u=new Ee(a,e,!0);k.push(u.draw(r.scatter.series,"scatter",r.scatter.i))}if(r.bubble.series.length>0){var m=new Ee(a,e,!0);k.push(m.draw(r.bubble.series,"bubble",r.bubble.i))}}else switch(n.chart.type){case"line":k=g.draw(o.series,"line");break;case"area":k=g.draw(o.series,"area");break;case"bar":n.chart.stacked?k=new Yt(a,e).draw(o.series):(a.bar=new Xe(a,e),k=a.bar.draw(o.series));break;case"candlestick":k=new Dt(a,e).draw(o.series,"candlestick");break;case"boxPlot":k=new Dt(a,e).draw(o.series,n.chart.type);break;case"rangeBar":k=a.rangeBar.draw(o.series);break;case"rangeArea":k=g.draw(o.seriesRangeStart,"rangeArea",void 0,o.seriesRangeEnd);break;case"heatmap":k=new Ce(a,e).draw(o.series);break;case"treemap":k=new pt(a,e).draw(o.series);break;case"pie":case"donut":case"polarArea":k=a.pie.draw(o.series);break;case"radialBar":k=y.draw(o.series);break;case"radar":k=C.draw(o.series);break;default:k=g.draw(o.series)}return k}},{key:"setSVGDimensions",value:function(){var t=this.w,e=t.globals,i=t.config;i.chart.width=i.chart.width||"100%",i.chart.height=i.chart.height||"auto",e.svgWidth=i.chart.width,e.svgHeight=i.chart.height;var a=X.getDimensions(this.el),n=i.chart.width.toString().split(/[0-9]+/g).pop();"%"===n?X.isNumber(a[0])&&(0===a[0].width&&(a=X.getDimensions(this.el.parentNode)),e.svgWidth=a[0]*parseInt(i.chart.width,10)/100):"px"!==n&&""!==n||(e.svgWidth=parseInt(i.chart.width,10));var o=String(i.chart.height).toString().split(/[0-9]+/g).pop();if("auto"!==e.svgHeight&&""!==e.svgHeight)if("%"===o){var r=X.getDimensions(this.el.parentNode);e.svgHeight=r[1]*parseInt(i.chart.height,10)/100}else e.svgHeight=parseInt(i.chart.height,10);else e.svgHeight=e.axisCharts?e.svgWidth/1.61:e.svgWidth/1.2;e.svgWidth=Math.max(e.svgWidth,0),e.svgHeight=Math.max(e.svgHeight,0),U.setAttrs(e.dom.Paper.node,{width:e.svgWidth,height:e.svgHeight}),"%"!==o&&(e.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(e.svgHeight+(i.chart.sparkline.enabled?0:e.axisCharts?i.chart.parentHeightOffset:0),"px")),e.dom.elWrap.style.width="".concat(e.svgWidth,"px"),e.dom.elWrap.style.height="".concat(e.svgHeight,"px")}},{key:"shiftGraphPosition",value:function(){var t=this.w.globals,e=t.translateY;U.setAttrs(t.dom.elGraphical.node,{transform:"translate(".concat(t.translateX,", ").concat(e,")")})}},{key:"resizeNonAxisCharts",value:function(){var t=this.w,e=t.globals,i=0,a=t.config.chart.sparkline.enabled?1:15;a+=t.config.grid.padding.bottom,["top","bottom"].includes(t.config.legend.position)&&t.config.legend.show&&!t.config.legend.floating&&(i=new ri(this.ctx).legendHelpers.getLegendDimensions().clwh+7);var n=t.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),o=2.05*t.globals.radialSize;if(n&&!t.config.chart.sparkline.enabled&&0!==t.config.plotOptions.radialBar.startAngle){var r=X.getBoundingClientRect(n);o=r.bottom,o=Math.max(2.05*t.globals.radialSize,r.bottom-r.top)}var d=Math.ceil(o+e.translateY+i+a);e.dom.elLegendForeign&&e.dom.elLegendForeign.setAttribute("height",d),t.config.chart.height&&String(t.config.chart.height).includes("%")||(e.dom.elWrap.style.height="".concat(d,"px"),U.setAttrs(e.dom.Paper.node,{height:d}),e.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(d,"px"))}},{key:"coreCalculations",value:function(){new We(this.ctx).init()}},{key:"resetGlobals",value:function(){var t=this,e=function(){return t.w.config.series.map(function(){return[]})},i=new Et,a=this.w.globals;i.initGlobalVars(a),a.seriesXvalues=e(),a.seriesYvalues=e()}},{key:"isMultipleY",value:function(){return!!(Array.isArray(this.w.config.yaxis)&&this.w.config.yaxis.length>1)&&(this.w.globals.isMultipleYAxis=!0,!0)}},{key:"xySettings",value:function(){var t=this.w,e=null;if(t.globals.axisCharts){if("back"===t.config.xaxis.crosshairs.position&&new si(this.ctx).drawXCrosshairs(),"back"===t.config.yaxis[0].crosshairs.position&&new si(this.ctx).drawYCrosshairs(),"datetime"===t.config.xaxis.type&&void 0===t.config.xaxis.labels.formatter){this.ctx.timeScale=new $e(this.ctx);var i=[];isFinite(t.globals.minX)&&isFinite(t.globals.maxX)&&!t.globals.isBarHorizontal?i=this.ctx.timeScale.calculateTimeScaleTicks(t.globals.minX,t.globals.maxX):t.globals.isBarHorizontal&&(i=this.ctx.timeScale.calculateTimeScaleTicks(t.globals.minY,t.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(i)}e=new Ht(this.ctx).getCalculatedRatios()}return e}},{key:"updateSourceChart",value:function(t){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:t.w.globals.minX,max:t.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var t=this,e=this.w;if(e.config.chart.brush.enabled&&"function"!=typeof e.config.chart.events.selection){var i=Array.isArray(e.config.chart.brush.targets)?e.config.chart.brush.targets:[e.config.chart.brush.target];i.forEach(function(a){var n=ApexCharts.getChartByID(a);n.w.globals.brushSource=t.ctx,"function"!=typeof n.w.config.chart.events.zoomed&&(n.w.config.chart.events.zoomed=function(){return t.updateSourceChart(n)}),"function"!=typeof n.w.config.chart.events.scrolled&&(n.w.config.chart.events.scrolled=function(){return t.updateSourceChart(n)})}),e.config.chart.events.selection=function(a,n){i.forEach(function(o){ApexCharts.getChartByID(o).ctx.updateHelpers._updateOptions({xaxis:{min:n.xaxis.min,max:n.xaxis.max}},!1,!1,!1,!1)})}}}}]),E}(),ci=function(){function E(t){ot(this,E),this.ctx=t,this.w=t.w}return v(E,[{key:"_updateOptions",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise(function(r){var h=[e.ctx];n&&(h=e.ctx.getSyncedCharts()),e.ctx.w.globals.isExecCalled&&(h=[e.ctx],e.ctx.w.globals.isExecCalled=!1),h.forEach(function(d,f){var g=d.w;if(g.globals.shouldAnimate=a,i||(g.globals.resized=!0,g.globals.dataChanged=!0,a&&d.series.getPreviousPaths()),t&&"object"===zt(t)&&(d.config=new Ot(t),t=Ht.extendArrayProps(d.config,t,g),d.w.globals.chartID!==e.ctx.w.globals.chartID&&delete t.series,g.config=X.extend(g.config,t),o&&(g.globals.lastXAxis=t.xaxis?X.clone(t.xaxis):[],g.globals.lastYAxis=t.yaxis?X.clone(t.yaxis):[],g.globals.initialConfig=X.extend({},g.config),g.globals.initialSeries=X.clone(g.config.series),t.series))){for(var x=0;x<g.globals.collapsedSeriesIndices.length;x++){var y=g.config.series[g.globals.collapsedSeriesIndices[x]];g.globals.collapsedSeries[x].data=g.globals.axisCharts?y.data.slice():y}for(var C=0;C<g.globals.ancillaryCollapsedSeriesIndices.length;C++){var k=g.config.series[g.globals.ancillaryCollapsedSeriesIndices[C]];g.globals.ancillaryCollapsedSeries[C].data=g.globals.axisCharts?k.data.slice():k}d.series.emptyCollapsedSeries(g.config.series)}return d.update(t).then(function(){f===h.length-1&&r(d)})})})}},{key:"_updateSeries",value:function(t,e){var i=this,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(n){var o,r=i.w;return r.globals.shouldAnimate=e,r.globals.dataChanged=!0,e&&i.ctx.series.getPreviousPaths(),r.globals.axisCharts?(0===(o=t.map(function(h,d){return i._extendSeries(h,d)})).length&&(o=[{data:[]}]),r.config.series=o):r.config.series=t.slice(),a&&(r.globals.initialConfig.series=X.clone(r.config.series),r.globals.initialSeries=X.clone(r.config.series)),i.ctx.update().then(function(){n(i.ctx)})})}},{key:"_extendSeries",value:function(t,e){var i=this.w,a=i.config.series[e];return $($({},i.config.series[e]),{},{name:t.name?t.name:a?.name,color:t.color?t.color:a?.color,type:t.type?t.type:a?.type,group:t.group?t.group:a?.group,hidden:void 0!==t.hidden?t.hidden:a?.hidden,data:t.data?t.data:a?.data,zIndex:void 0!==t.zIndex?t.zIndex:e})}},{key:"toggleDataPointSelection",value:function(t,e){var i=this.w,a=null,n=".apexcharts-series[data\\:realIndex='".concat(t,"']");return i.globals.axisCharts?a=i.globals.dom.Paper.select("".concat(n," path[j='").concat(e,"'], ").concat(n," circle[j='").concat(e,"'], ").concat(n," rect[j='").concat(e,"']")).members[0]:void 0===e&&(a=i.globals.dom.Paper.select("".concat(n," path[j='").concat(t,"']")).members[0],"pie"!==i.config.chart.type&&"polarArea"!==i.config.chart.type&&"donut"!==i.config.chart.type||this.ctx.pie.pieClicked(t)),a?(new U(this.ctx).pathMouseDown(a,null),a.node?a.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(t){var e=this.w;if(["min","max"].forEach(function(a){void 0!==t.xaxis[a]&&(e.config.xaxis[a]=t.xaxis[a],e.globals.lastXAxis[a]=t.xaxis[a])}),t.xaxis.categories&&t.xaxis.categories.length&&(e.config.xaxis.categories=t.xaxis.categories),e.config.xaxis.convertedCatToNumeric){var i=new Kt(t);t=i.convertCatToNumericXaxis(t,this.ctx)}return t}},{key:"forceYAxisUpdate",value:function(t){return t.chart&&t.chart.stacked&&"100%"===t.chart.stackType&&(Array.isArray(t.yaxis)?t.yaxis.forEach(function(e,i){t.yaxis[i].min=0,t.yaxis[i].max=100}):(t.yaxis.min=0,t.yaxis.max=100)),t}},{key:"revertDefaultAxisMinMax",value:function(t){var e=this,i=this.w,a=i.globals.lastXAxis,n=i.globals.lastYAxis;t&&t.xaxis&&(a=t.xaxis),t&&t.yaxis&&(n=t.yaxis),i.config.xaxis.min=a.min,i.config.xaxis.max=a.max,i.config.yaxis.map(function(r,h){i.globals.zoomed||void 0!==n[h]?function(r){void 0!==n[r]&&(i.config.yaxis[r].min=n[r].min,i.config.yaxis[r].max=n[r].max)}(h):void 0!==e.ctx.opts.yaxis[h]&&(r.min=e.ctx.opts.yaxis[h].min,r.max=e.ctx.opts.yaxis[h].max)})}}]),E}();ne=typeof window<"u"?window:void 0,De=function(E,t){var e=(void 0!==this?this:E).SVG=function(c){if(e.supported)return c=new e.Doc(c),e.parser.draw||e.prepare(),c};if(e.ns="http://www.w3.org/2000/svg",e.xmlns="http://www.w3.org/2000/xmlns/",e.xlink="http://www.w3.org/1999/xlink",e.svgjs="http://svgjs.dev",e.supported=!0,!e.supported)return!1;e.did=1e3,e.eid=function(c){return"Svgjs"+f(c)+e.did++},e.create=function(c){var u=t.createElementNS(this.ns,c);return u.setAttribute("id",this.eid(c)),u},e.extend=function(){var c,u;u=(c=[].slice.call(arguments)).pop();for(var m=c.length-1;m>=0;m--)if(c[m])for(var w in u)c[m].prototype[w]=u[w];e.Set&&e.Set.inherit&&e.Set.inherit()},e.invent=function(c){var u="function"==typeof c.create?c.create:function(){this.constructor.call(this,e.create(c.create))};return c.inherit&&(u.prototype=new c.inherit),c.extend&&e.extend(u,c.extend),c.construct&&e.extend(c.parent||e.Container,c.construct),u},e.adopt=function(c){return c?c.instance?c.instance:((u="svg"==c.nodeName?c.parentNode instanceof E.SVGElement?new e.Nested:new e.Doc:"linearGradient"==c.nodeName?new e.Gradient("linear"):"radialGradient"==c.nodeName?new e.Gradient("radial"):e[f(c.nodeName)]?new(e[f(c.nodeName)]):new e.Element(c)).type=c.nodeName,u.node=c,c.instance=u,u instanceof e.Doc&&u.namespace().defs(),u.setData(JSON.parse(c.getAttribute("svgjs:data"))||{}),u):null;var u},e.prepare=function(){var c=t.getElementsByTagName("body")[0],u=(c?new e.Doc(c):e.adopt(t.documentElement).nested()).size(2,0);e.parser={body:c||t.documentElement,draw:u.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:u.polyline().node,path:u.path().node,native:e.create("svg")}},e.parser={native:e.create("svg")},t.addEventListener("DOMContentLoaded",function(){e.parser.draw||e.prepare()},!1),e.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},e.utils={map:function(c,u){for(var m=c.length,w=[],b=0;b<m;b++)w.push(u(c[b]));return w},filter:function(c,u){for(var m=c.length,w=[],b=0;b<m;b++)u(c[b])&&w.push(c[b]);return w},filterSVGElements:function(c){return this.filter(c,function(u){return u instanceof E.SVGElement})}},e.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},e.Color=function(c){var u,m;this.r=0,this.g=0,this.b=0,c&&("string"==typeof c?e.regex.isRgb.test(c)?(u=e.regex.rgb.exec(c.replace(e.regex.whitespace,"")),this.r=parseInt(u[1]),this.g=parseInt(u[2]),this.b=parseInt(u[3])):e.regex.isHex.test(c)&&(u=e.regex.hex.exec(4==(m=c).length?["#",m.substring(1,2),m.substring(1,2),m.substring(2,3),m.substring(2,3),m.substring(3,4),m.substring(3,4)].join(""):m),this.r=parseInt(u[1],16),this.g=parseInt(u[2],16),this.b=parseInt(u[3],16)):"object"===zt(c)&&(this.r=c.r,this.g=c.g,this.b=c.b))},e.extend(e.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+g(this.r)+g(this.g)+g(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(c){return this.destination=new e.Color(c),this},at:function(c){return this.destination?new e.Color({r:~~(this.r+(this.destination.r-this.r)*(c=c<0?0:c>1?1:c)),g:~~(this.g+(this.destination.g-this.g)*c),b:~~(this.b+(this.destination.b-this.b)*c)}):this}}),e.Color.test=function(c){return e.regex.isHex.test(c+="")||e.regex.isRgb.test(c)},e.Color.isRgb=function(c){return c&&"number"==typeof c.r&&"number"==typeof c.g&&"number"==typeof c.b},e.Color.isColor=function(c){return e.Color.isRgb(c)||e.Color.test(c)},e.Array=function(c,u){0==(c=(c||[]).valueOf()).length&&u&&(c=u.valueOf()),this.value=this.parse(c)},e.extend(e.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(c){return c=c.valueOf(),Array.isArray(c)?c:this.split(c)}}),e.PointArray=function(c,u){e.Array.call(this,c,u||[[0,0]])},e.PointArray.prototype=new e.Array,e.PointArray.prototype.constructor=e.PointArray;for(var i={M:function(c,u,m){return u.x=m.x=c[0],u.y=m.y=c[1],["M",u.x,u.y]},L:function(c,u){return u.x=c[0],u.y=c[1],["L",c[0],c[1]]},H:function(c,u){return u.x=c[0],["H",c[0]]},V:function(c,u){return u.y=c[0],["V",c[0]]},C:function(c,u){return u.x=c[4],u.y=c[5],["C",c[0],c[1],c[2],c[3],c[4],c[5]]},Q:function(c,u){return u.x=c[2],u.y=c[3],["Q",c[0],c[1],c[2],c[3]]},S:function(c,u){return u.x=c[2],u.y=c[3],["S",c[0],c[1],c[2],c[3]]},Z:function(c,u,m){return u.x=m.x,u.y=m.y,["Z"]}},a="mlhvqtcsaz".split(""),n=0,o=a.length;n<o;++n)i[a[n]]=function(c){return function(u,m,w){if("H"==c)u[0]=u[0]+m.x;else if("V"==c)u[0]=u[0]+m.y;else if("A"==c)u[5]=u[5]+m.x,u[6]=u[6]+m.y;else for(var b=0,A=u.length;b<A;++b)u[b]=u[b]+(b%2?m.y:m.x);if(i&&"function"==typeof i[c])return i[c](u,m,w)}}(a[n].toUpperCase());e.PathArray=function(c,u){e.Array.call(this,c,u||[["M",0,0]])},e.PathArray.prototype=new e.Array,e.PathArray.prototype.constructor=e.PathArray,e.extend(e.PathArray,{toString:function(){return function(c){for(var u=0,m=c.length,w="";u<m;u++)w+=c[u][0],null!=c[u][1]&&(w+=c[u][1],null!=c[u][2]&&(w+=" ",w+=c[u][2],null!=c[u][3]&&(w+=" ",w+=c[u][3],w+=" ",w+=c[u][4],null!=c[u][5]&&(w+=" ",w+=c[u][5],w+=" ",w+=c[u][6],null!=c[u][7]&&(w+=" ",w+=c[u][7])))));return w+" "}(this.value)},move:function(c,u){return this.bbox(),this},at:function(c){if(!this.destination)return this;for(var u=this.value,m=this.destination.value,w=[],b=new e.PathArray,A=0,T=u.length;A<T;A++){w[A]=[u[A][0]];for(var z=1,N=u[A].length;z<N;z++)w[A][z]=u[A][z]+(m[A][z]-u[A][z])*c;"A"===w[A][0]&&(w[A][4]=+(0!=w[A][4]),w[A][5]=+(0!=w[A][5]))}return b.value=w,b},parse:function(c){if(c instanceof e.PathArray)return c.valueOf();var u,m={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};c="string"==typeof c?c.replace(e.regex.numbersWithDots,h).replace(e.regex.pathLetters," $& ").replace(e.regex.hyphen,"$1 -").trim().split(e.regex.delimiter):c.reduce(function(N,F){return[].concat.call(N,F)},[]);var w=[],b=new e.Point,A=new e.Point,T=0,z=c.length;do{e.regex.isPathLetter.test(c[T])?(u=c[T],++T):"M"==u?u="L":"m"==u&&(u="l"),w.push(i[u].call(null,c.slice(T,T+=m[u.toUpperCase()]).map(parseFloat),b,A))}while(z>T);return w},bbox:function(){return e.parser.draw||e.prepare(),e.parser.path.setAttribute("d",this.toString()),e.parser.path.getBBox()}}),e.Number=e.invent({create:function(c,u){this.value=0,this.unit=u||"","number"==typeof c?this.value=isNaN(c)?0:isFinite(c)?c:c<0?-34e37:34e37:"string"==typeof c?(u=c.match(e.regex.numberAndUnit))&&(this.value=parseFloat(u[1]),"%"==u[5]?this.value/=100:"s"==u[5]&&(this.value*=1e3),this.unit=u[5]):c instanceof e.Number&&(this.value=c.valueOf(),this.unit=c.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(c){return c=new e.Number(c),new e.Number(this+c,this.unit||c.unit)},minus:function(c){return c=new e.Number(c),new e.Number(this-c,this.unit||c.unit)},times:function(c){return c=new e.Number(c),new e.Number(this*c,this.unit||c.unit)},divide:function(c){return c=new e.Number(c),new e.Number(this/c,this.unit||c.unit)},to:function(c){var u=new e.Number(this);return"string"==typeof c&&(u.unit=c),u},morph:function(c){return this.destination=new e.Number(c),c.relative&&(this.destination.value+=this.value),this},at:function(c){return this.destination?new e.Number(this.destination).minus(this).times(c).plus(this):this}}}),e.Element=e.invent({create:function(c){this._stroke=e.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=c)&&(this.type=c.nodeName,this.node.instance=this,this._stroke=c.getAttribute("stroke")||this._stroke)},extend:{x:function(c){return this.attr("x",c)},y:function(c){return this.attr("y",c)},cx:function(c){return null==c?this.x()+this.width()/2:this.x(c-this.width()/2)},cy:function(c){return null==c?this.y()+this.height()/2:this.y(c-this.height()/2)},move:function(c,u){return this.x(c).y(u)},center:function(c,u){return this.cx(c).cy(u)},width:function(c){return this.attr("width",c)},height:function(c){return this.attr("height",c)},size:function(c,u){var m=x(this,c,u);return this.width(new e.Number(m.width)).height(new e.Number(m.height))},clone:function(c){this.writeDataToDom();var u=k(this.node.cloneNode(!0));return c?c.add(u):this.after(u),u},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(c){return this.after(c).remove(),c},addTo:function(c){return c.put(this)},putIn:function(c){return c.add(this)},id:function(c){return this.attr("id",c)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var c=this.attr("class");return null==c?[]:c.trim().split(e.regex.delimiter)},hasClass:function(c){return-1!=this.classes().indexOf(c)},addClass:function(c){if(!this.hasClass(c)){var u=this.classes();u.push(c),this.attr("class",u.join(" "))}return this},removeClass:function(c){return this.hasClass(c)&&this.attr("class",this.classes().filter(function(u){return u!=c}).join(" ")),this},toggleClass:function(c){return this.hasClass(c)?this.removeClass(c):this.addClass(c)},reference:function(c){return e.get(this.attr(c))},parent:function(c){var u=this;if(!u.node.parentNode)return null;if(u=e.adopt(u.node.parentNode),!c)return u;for(;u&&u.node instanceof E.SVGElement;){if("string"==typeof c?u.matches(c):u instanceof c)return u;if(!u.node.parentNode||"#document"==u.node.parentNode.nodeName)return null;u=e.adopt(u.node.parentNode)}},doc:function(){return this instanceof e.Doc?this:this.parent(e.Doc)},parents:function(c){var u=[],m=this;do{if(!(m=m.parent(c))||!m.node)break;u.push(m)}while(m.parent);return u},matches:function(c){return((u=this.node).matches||u.matchesSelector||u.msMatchesSelector||u.mozMatchesSelector||u.webkitMatchesSelector||u.oMatchesSelector).call(u,c);var u},native:function(){return this.node},svg:function(c){var u=t.createElementNS("http://www.w3.org/2000/svg","svg");if(!(c&&this instanceof e.Parent))return u.appendChild(c=t.createElementNS("http://www.w3.org/2000/svg","svg")),this.writeDataToDom(),c.appendChild(this.node.cloneNode(!0)),u.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");u.innerHTML="<svg>"+c.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var m=0,w=u.firstChild.childNodes.length;m<w;m++)this.node.appendChild(u.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(c){return this.dom=c,this},is:function(c){return this instanceof c}}}),e.easing={"-":function(c){return c},"<>":function(c){return-Math.cos(c*Math.PI)/2+.5},">":function(c){return Math.sin(c*Math.PI/2)},"<":function(c){return 1-Math.cos(c*Math.PI/2)}},e.morph=function(c){return function(u,m){return new e.MorphObj(u,m).at(c)}},e.Situation=e.invent({create:function(c){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new e.Number(c.duration).valueOf(),this.delay=new e.Number(c.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=c.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),e.FX=e.invent({create:function(c){this._target=c,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(c,u,m){"object"===zt(c)&&(u=c.ease,m=c.delay,c=c.duration);var w=new e.Situation({duration:c||1e3,delay:m||0,ease:e.easing[u||"-"]||u});return this.queue(w),this},target:function(c){return c&&c instanceof e.Element?(this._target=c,this):this._target},timeToAbsPos:function(c){return(c-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(c){return this.situation.duration/this._speed*c+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=E.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){E.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(c){return("function"==typeof c||c instanceof e.Situation)&&this.situations.push(c),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof e.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var c,u=this.situation;if(u.init)return this;for(var m in u.animations){c=this.target()[m](),Array.isArray(c)||(c=[c]),Array.isArray(u.animations[m])||(u.animations[m]=[u.animations[m]]);for(var w=c.length;w--;)u.animations[m][w]instanceof e.Number&&(c[w]=new e.Number(c[w])),u.animations[m][w]=c[w].morph(u.animations[m][w])}for(var m in u.attrs)u.attrs[m]=new e.MorphObj(this.target().attr(m),u.attrs[m]);for(var m in u.styles)u.styles[m]=new e.MorphObj(this.target().style(m),u.styles[m]);return u.initialTransformation=this.target().matrixify(),u.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(c,u){var m=this.active;return this.active=!1,u&&this.clearQueue(),c&&this.situation&&(!m&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(c){var u=this.last();return this.target().on("finished.fx",function m(w){w.detail.situation==u&&(c.call(this,u),this.off("finished.fx",m))}),this._callStart()},during:function(c){var u=this.last(),m=function(w){w.detail.situation==u&&c.call(this,w.detail.pos,e.morph(w.detail.pos),w.detail.eased,u)};return this.target().off("during.fx",m).on("during.fx",m),this.after(function(){this.off("during.fx",m)}),this._callStart()},afterAll:function(c){var u=function m(w){c.call(this),this.off("allfinished.fx",m)};return this.target().off("allfinished.fx",u).on("allfinished.fx",u),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(c,u,m){return this.last()[m||"animations"][c]=u,this._callStart()},step:function(c){var u,m,w;c||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(u=Math.max(this.absPos,0),m=Math.floor(u),!0===this.situation.loops||m<this.situation.loops?(this.pos=u-m,w=this.situation.loop,this.situation.loop=m):(this.absPos=this.situation.loops,this.pos=1,w=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=!!((this.situation.loop-w)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var b=this.situation.ease(this.pos);for(var A in this.situation.once)A>this.lastPos&&A<=b&&(this.situation.once[A].call(this.target(),this.pos,b),delete this.situation.once[A]);return this.active&&this.target().fire("during",{pos:this.pos,eased:b,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=b,this):this},eachAt:function(){var c,u=this,m=this.target(),w=this.situation;for(var b in w.animations)c=[].concat(w.animations[b]).map(function(z){return"string"!=typeof z&&z.at?z.at(w.ease(u.pos),u.pos):z}),m[b].apply(m,c);for(var b in w.attrs)c=[b].concat(w.attrs[b]).map(function(N){return"string"!=typeof N&&N.at?N.at(w.ease(u.pos),u.pos):N}),m.attr.apply(m,c);for(var b in w.styles)c=[b].concat(w.styles[b]).map(function(N){return"string"!=typeof N&&N.at?N.at(w.ease(u.pos),u.pos):N}),m.style.apply(m,c);if(w.transforms.length){c=w.initialTransformation,b=0;for(var A=w.transforms.length;b<A;b++){var T=w.transforms[b];T instanceof e.Matrix?c=T.relative?c.multiply((new e.Matrix).morph(T).at(w.ease(this.pos))):c.morph(T).at(w.ease(this.pos)):(T.relative||T.undo(c.extract()),c=c.multiply(T.at(w.ease(this.pos))))}m.matrix(c)}return this},once:function(c,u,m){var w=this.last();return m||(c=w.ease(c)),w.once[c]=u,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:e.Element,construct:{animate:function(c,u,m){return(this.fx||(this.fx=new e.FX(this))).animate(c,u,m)},delay:function(c){return(this.fx||(this.fx=new e.FX(this))).delay(c)},stop:function(c,u){return this.fx&&this.fx.stop(c,u),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),e.MorphObj=e.invent({create:function(c,u){return e.Color.isColor(u)?new e.Color(c).morph(u):e.regex.delimiter.test(c)?e.regex.pathLetters.test(c)?new e.PathArray(c).morph(u):new e.Array(c).morph(u):e.regex.numberAndUnit.test(u)?new e.Number(c).morph(u):(this.value=c,void(this.destination=u))},extend:{at:function(c,u){return u<1?this.value:this.destination},valueOf:function(){return this.value}}}),e.extend(e.FX,{attr:function(c,u,m){if("object"===zt(c))for(var w in c)this.attr(w,c[w]);else this.add(c,u,"attrs");return this},plot:function(c,u,m,w){return 4==arguments.length?this.plot([c,u,m,w]):this.add("plot",new(this.target().morphArray)(c))}}),e.Box=e.invent({create:function(c,u,m,w){if(!("object"!==zt(c)||c instanceof e.Element))return e.Box.call(this,null!=c.left?c.left:c.x,null!=c.top?c.top:c.y,c.width,c.height);var b;4==arguments.length&&(this.x=c,this.y=u,this.width=m,this.height=w),null==(b=this).x&&(b.x=0,b.y=0,b.width=0,b.height=0),b.w=b.width,b.h=b.height,b.x2=b.x+b.width,b.y2=b.y+b.height,b.cx=b.x+b.width/2,b.cy=b.y+b.height/2}}),e.BBox=e.invent({create:function(c){if(e.Box.apply(this,[].slice.call(arguments)),c instanceof e.Element){var u;try{if(!t.documentElement.contains){for(var m=c.node;m.parentNode;)m=m.parentNode;if(m!=t)throw new Error("Element not in the dom")}u=c.node.getBBox()}catch{if(c instanceof e.Shape){e.parser.draw||e.prepare();var w=c.clone(e.parser.draw.instance).show();w&&w.node&&"function"==typeof w.node.getBBox&&(u=w.node.getBBox()),w&&"function"==typeof w.remove&&w.remove()}else u={x:c.node.clientLeft,y:c.node.clientTop,width:c.node.clientWidth,height:c.node.clientHeight}}e.Box.call(this,u)}},inherit:e.Box,parent:e.Element,construct:{bbox:function(){return new e.BBox(this)}}}),e.BBox.prototype.constructor=e.BBox,e.Matrix=e.invent({create:function(c){var u=C([1,0,0,1,0,0]);c=null===c?u:c instanceof e.Element?c.matrixify():"string"==typeof c?C(c.split(e.regex.delimiter).map(parseFloat)):6==arguments.length?C([].slice.call(arguments)):Array.isArray(c)?C(c):c&&"object"===zt(c)?c:u;for(var m=D.length-1;m>=0;--m)this[D[m]]=null!=c[D[m]]?c[D[m]]:u[D[m]]},extend:{extract:function(){var c=y(this,0,1);y(this,1,0);var u=180/Math.PI*Math.atan2(c.y,c.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(u*Math.PI/180)+this.f*Math.sin(u*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(u*Math.PI/180)+this.e*Math.sin(-u*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:u,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new e.Matrix(this)}},clone:function(){return new e.Matrix(this)},morph:function(c){return this.destination=new e.Matrix(c),this},multiply:function(c){return new e.Matrix(this.native().multiply((u=c,u instanceof e.Matrix||(u=new e.Matrix(u)),u).native()));var u},inverse:function(){return new e.Matrix(this.native().inverse())},translate:function(c,u){return new e.Matrix(this.native().translate(c||0,u||0))},native:function(){for(var c=e.parser.native.createSVGMatrix(),u=D.length-1;u>=0;u--)c[D[u]]=this[D[u]];return c},toString:function(){return"matrix("+M(this.a)+","+M(this.b)+","+M(this.c)+","+M(this.d)+","+M(this.e)+","+M(this.f)+")"}},parent:e.Element,construct:{ctm:function(){return new e.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof e.Nested){var c=this.rect(1,1),u=c.node.getScreenCTM();return c.remove(),new e.Matrix(u)}return new e.Matrix(this.node.getScreenCTM())}}}),e.Point=e.invent({create:function(c,u){var m;m=Array.isArray(c)?{x:c[0],y:c[1]}:"object"===zt(c)?{x:c.x,y:c.y}:null!=c?{x:c,y:u??c}:{x:0,y:0},this.x=m.x,this.y=m.y},extend:{clone:function(){return new e.Point(this)},morph:function(c,u){return this.destination=new e.Point(c,u),this}}}),e.extend(e.Element,{point:function(c,u){return new e.Point(c,u).transform(this.screenCTM().inverse())}}),e.extend(e.Element,{attr:function(c,u,m){if(null==c){for(c={},m=(u=this.node.attributes).length-1;m>=0;m--)c[u[m].nodeName]=e.regex.isNumber.test(u[m].nodeValue)?parseFloat(u[m].nodeValue):u[m].nodeValue;return c}if("object"===zt(c))for(var w in c)this.attr(w,c[w]);else if(null===u)this.node.removeAttribute(c);else{if(null==u)return null==(u=this.node.getAttribute(c))?e.defaults.attrs[c]:e.regex.isNumber.test(u)?parseFloat(u):u;"stroke-width"==c?this.attr("stroke",parseFloat(u)>0?this._stroke:null):"stroke"==c&&(this._stroke=u),"fill"!=c&&"stroke"!=c||(e.regex.isImage.test(u)&&(u=this.doc().defs().image(u,0,0)),u instanceof e.Image&&(u=this.doc().defs().pattern(0,0,function(){this.add(u)}))),"number"==typeof u?u=new e.Number(u):e.Color.isColor(u)?u=new e.Color(u):Array.isArray(u)&&(u=new e.Array(u)),"leading"==c?this.leading&&this.leading(u):"string"==typeof m?this.node.setAttributeNS(m,c,u.toString()):this.node.setAttribute(c,u.toString()),!this.rebuild||"font-size"!=c&&"x"!=c||this.rebuild(c,u)}return this}}),e.extend(e.Element,{transform:function(c,u){var m;return"object"!==zt(c)?(m=new e.Matrix(this).extract(),"string"==typeof c?m[c]:m):(m=new e.Matrix(this),u=!!u||!!c.relative,null!=c.a&&(m=u?m.multiply(new e.Matrix(c)):new e.Matrix(c)),this.attr("transform",m))}}),e.extend(e.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(e.regex.transforms).slice(0,-1).map(function(c){var u=c.trim().split("(");return[u[0],u[1].split(e.regex.delimiter).map(function(m){return parseFloat(m)})]}).reduce(function(c,u){return"matrix"==u[0]?c.multiply(C(u[1])):c[u[0]].apply(c,u[1])},new e.Matrix)},toParent:function(c){if(this==c)return this;var u=this.screenCTM(),m=c.screenCTM().inverse();return this.addTo(c).untransform().transform(m.multiply(u)),this},toDoc:function(){return this.toParent(this.doc())}}),e.Transformation=e.invent({create:function(c,u){if(arguments.length>1&&"boolean"!=typeof u)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(c))for(var m=0,w=this.arguments.length;m<w;++m)this[this.arguments[m]]=c[m];else if(c&&"object"===zt(c))for(m=0,w=this.arguments.length;m<w;++m)this[this.arguments[m]]=c[this.arguments[m]];this.inversed=!1,!0===u&&(this.inversed=!0)}}),e.Translate=e.invent({parent:e.Matrix,inherit:e.Transformation,create:function(c,u){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),e.extend(e.Element,{style:function(c,u){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"===zt(c))for(var m in c)this.style(m,c[m]);else{if(!e.regex.isCss.test(c))return this.node.style[d(c)];for(c=c.split(/\s*;\s*/).filter(function(w){return!!w}).map(function(w){return w.split(/\s*:\s*/)});u=c.pop();)this.style(u[0],u[1])}else this.node.style[d(c)]=null===u||e.regex.isBlank.test(u)?"":u;return this}}),e.Parent=e.invent({create:function(c){this.constructor.call(this,c)},inherit:e.Element,extend:{children:function(){return e.utils.map(e.utils.filterSVGElements(this.node.childNodes),function(c){return e.adopt(c)})},add:function(c,u){return null==u?this.node.appendChild(c.node):c.node!=this.node.childNodes[u]&&this.node.insertBefore(c.node,this.node.childNodes[u]),this},put:function(c,u){return this.add(c,u),c},has:function(c){return this.index(c)>=0},index:function(c){return[].slice.call(this.node.childNodes).indexOf(c.node)},get:function(c){return e.adopt(this.node.childNodes[c])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(c,u){for(var m=this.children(),w=0,b=m.length;w<b;w++)m[w]instanceof e.Element&&c.apply(m[w],[w,m]),u&&m[w]instanceof e.Container&&m[w].each(c,u);return this},removeElement:function(c){return this.node.removeChild(c.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),e.extend(e.Parent,{ungroup:function(c,u){return 0===u||this instanceof e.Defs||this.node==e.parser.draw||(c=c||(this instanceof e.Doc?this:this.parent(e.Parent)),u=u||1/0,this.each(function(){return this instanceof e.Defs?this:this instanceof e.Parent?this.ungroup(c,u-1):this.toParent(c)}),this.node.firstChild||this.remove()),this},flatten:function(c,u){return this.ungroup(c,u)}}),e.Container=e.invent({create:function(c){this.constructor.call(this,c)},inherit:e.Parent}),e.ViewBox=e.invent({parent:e.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(c){e.Element.prototype[c]=function(u){return e.on(this.node,c,u),this}}),e.listeners=[],e.handlerMap=[],e.listenerId=0,e.on=function(c,u,m,w,b){var A=m.bind(w||c.instance||c),T=(e.handlerMap.indexOf(c)+1||e.handlerMap.push(c))-1,z=u.split(".")[0],N=u.split(".")[1]||"*";e.listeners[T]=e.listeners[T]||{},e.listeners[T][z]=e.listeners[T][z]||{},e.listeners[T][z][N]=e.listeners[T][z][N]||{},m._svgjsListenerId||(m._svgjsListenerId=++e.listenerId),e.listeners[T][z][N][m._svgjsListenerId]=A,c.addEventListener(z,A,b||{passive:!1})},e.off=function(c,u,m){var w=e.handlerMap.indexOf(c),b=u&&u.split(".")[0],A=u&&u.split(".")[1],T="";if(-1!=w)if(m){if("function"==typeof m&&(m=m._svgjsListenerId),!m)return;e.listeners[w][b]&&e.listeners[w][b][A||"*"]&&(c.removeEventListener(b,e.listeners[w][b][A||"*"][m],!1),delete e.listeners[w][b][A||"*"][m])}else if(A&&b){if(e.listeners[w][b]&&e.listeners[w][b][A]){for(var z in e.listeners[w][b][A])e.off(c,[b,A].join("."),z);delete e.listeners[w][b][A]}}else if(A)for(var N in e.listeners[w])for(var T in e.listeners[w][N])A===T&&e.off(c,[N,A].join("."));else if(b){if(e.listeners[w][b]){for(var T in e.listeners[w][b])e.off(c,[b,T].join("."));delete e.listeners[w][b]}}else{for(var N in e.listeners[w])e.off(c,N);delete e.listeners[w],delete e.handlerMap[w]}},e.extend(e.Element,{on:function(c,u,m,w){return e.on(this.node,c,u,m,w),this},off:function(c,u){return e.off(this.node,c,u),this},fire:function(c,u){return this.node.dispatchEvent(c instanceof E.Event?c:c=new e.CustomEvent(c,{detail:u,cancelable:!0})),this._event=c,this},event:function(){return this._event}}),e.Defs=e.invent({create:"defs",inherit:e.Container}),e.G=e.invent({create:"g",inherit:e.Container,extend:{x:function(c){return null==c?this.transform("x"):this.transform({x:c-this.x()},!0)}},construct:{group:function(){return this.put(new e.G)}}}),e.Doc=e.invent({create:function(c){c&&("svg"==(c="string"==typeof c?t.getElementById(c):c).nodeName?this.constructor.call(this,c):(this.constructor.call(this,e.create("svg")),c.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:e.Container,extend:{namespace:function(){return this.attr({xmlns:e.ns,version:"1.1"}).attr("xmlns:xlink",e.xlink,e.xmlns).attr("xmlns:svgjs",e.svgjs,e.xmlns)},defs:function(){var c;return this._defs||(this._defs=(c=this.node.getElementsByTagName("defs")[0])?e.adopt(c):new e.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,e.parser.draw&&!e.parser.draw.parentNode&&this.node.appendChild(e.parser.draw),this},clone:function(c){this.writeDataToDom();var u=this.node,m=k(u.cloneNode(!0));return c?(c.node||c).appendChild(m.node):u.parentNode.insertBefore(m.node,u.nextSibling),m}}}),e.extend(e.Element,{}),e.Gradient=e.invent({create:function(c){this.constructor.call(this,e.create(c+"Gradient")),this.type=c},inherit:e.Container,extend:{at:function(c,u,m){return this.put(new e.Stop).update(c,u,m)},update:function(c){return this.clear(),"function"==typeof c&&c.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(c,u,m){return"transform"==c&&(c="gradientTransform"),e.Container.prototype.attr.call(this,c,u,m)}},construct:{gradient:function(c,u){return this.defs().gradient(c,u)}}}),e.extend(e.Gradient,e.FX,{from:function(c,u){return this.attr("radial"==(this._target||this).type?{fx:new e.Number(c),fy:new e.Number(u)}:{x1:new e.Number(c),y1:new e.Number(u)})},to:function(c,u){return this.attr("radial"==(this._target||this).type?{cx:new e.Number(c),cy:new e.Number(u)}:{x2:new e.Number(c),y2:new e.Number(u)})}}),e.extend(e.Defs,{gradient:function(c,u){return this.put(new e.Gradient(c)).update(u)}}),e.Stop=e.invent({create:"stop",inherit:e.Element,extend:{update:function(c){return("number"==typeof c||c instanceof e.Number)&&(c={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=c.opacity&&this.attr("stop-opacity",c.opacity),null!=c.color&&this.attr("stop-color",c.color),null!=c.offset&&this.attr("offset",new e.Number(c.offset)),this}}}),e.Pattern=e.invent({create:"pattern",inherit:e.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(c){return this.clear(),"function"==typeof c&&c.call(this,this),this},toString:function(){return this.fill()},attr:function(c,u,m){return"transform"==c&&(c="patternTransform"),e.Container.prototype.attr.call(this,c,u,m)}},construct:{pattern:function(c,u,m){return this.defs().pattern(c,u,m)}}}),e.extend(e.Defs,{pattern:function(c,u,m){return this.put(new e.Pattern).update(m).attr({x:0,y:0,width:c,height:u,patternUnits:"userSpaceOnUse"})}}),e.Shape=e.invent({create:function(c){this.constructor.call(this,c)},inherit:e.Element}),e.Symbol=e.invent({create:"symbol",inherit:e.Container,construct:{symbol:function(){return this.put(new e.Symbol)}}}),e.Use=e.invent({create:"use",inherit:e.Shape,extend:{element:function(c,u){return this.attr("href",(u||"")+"#"+c,e.xlink)}},construct:{use:function(c,u){return this.put(new e.Use).element(c,u)}}}),e.Rect=e.invent({create:"rect",inherit:e.Shape,construct:{rect:function(c,u){return this.put(new e.Rect).size(c,u)}}}),e.Circle=e.invent({create:"circle",inherit:e.Shape,construct:{circle:function(c){return this.put(new e.Circle).rx(new e.Number(c).divide(2)).move(0,0)}}}),e.extend(e.Circle,e.FX,{rx:function(c){return this.attr("r",c)},ry:function(c){return this.rx(c)}}),e.Ellipse=e.invent({create:"ellipse",inherit:e.Shape,construct:{ellipse:function(c,u){return this.put(new e.Ellipse).size(c,u).move(0,0)}}}),e.extend(e.Ellipse,e.Rect,e.FX,{rx:function(c){return this.attr("rx",c)},ry:function(c){return this.attr("ry",c)}}),e.extend(e.Circle,e.Ellipse,{x:function(c){return null==c?this.cx()-this.rx():this.cx(c+this.rx())},y:function(c){return null==c?this.cy()-this.ry():this.cy(c+this.ry())},cx:function(c){return null==c?this.attr("cx"):this.attr("cx",c)},cy:function(c){return null==c?this.attr("cy"):this.attr("cy",c)},width:function(c){return null==c?2*this.rx():this.rx(new e.Number(c).divide(2))},height:function(c){return null==c?2*this.ry():this.ry(new e.Number(c).divide(2))},size:function(c,u){var m=x(this,c,u);return this.rx(new e.Number(m.width).divide(2)).ry(new e.Number(m.height).divide(2))}}),e.Line=e.invent({create:"line",inherit:e.Shape,extend:{array:function(){return new e.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(c,u,m,w){return null==c?this.array():(c=void 0!==u?{x1:c,y1:u,x2:m,y2:w}:new e.PointArray(c).toLine(),this.attr(c))},move:function(c,u){return this.attr(this.array().move(c,u).toLine())},size:function(c,u){var m=x(this,c,u);return this.attr(this.array().size(m.width,m.height).toLine())}},construct:{line:function(c,u,m,w){return e.Line.prototype.plot.apply(this.put(new e.Line),null!=c?[c,u,m,w]:[0,0,0,0])}}}),e.Polyline=e.invent({create:"polyline",inherit:e.Shape,construct:{polyline:function(c){return this.put(new e.Polyline).plot(c||new e.PointArray)}}}),e.Polygon=e.invent({create:"polygon",inherit:e.Shape,construct:{polygon:function(c){return this.put(new e.Polygon).plot(c||new e.PointArray)}}}),e.extend(e.Polyline,e.Polygon,{array:function(){return this._array||(this._array=new e.PointArray(this.attr("points")))},plot:function(c){return null==c?this.array():this.clear().attr("points","string"==typeof c?c:this._array=new e.PointArray(c))},clear:function(){return delete this._array,this},move:function(c,u){return this.attr("points",this.array().move(c,u))},size:function(c,u){var m=x(this,c,u);return this.attr("points",this.array().size(m.width,m.height))}}),e.extend(e.Line,e.Polyline,e.Polygon,{morphArray:e.PointArray,x:function(c){return null==c?this.bbox().x:this.move(c,this.bbox().y)},y:function(c){return null==c?this.bbox().y:this.move(this.bbox().x,c)},width:function(c){var u=this.bbox();return null==c?u.width:this.size(c,u.height)},height:function(c){var u=this.bbox();return null==c?u.height:this.size(u.width,c)}}),e.Path=e.invent({create:"path",inherit:e.Shape,extend:{morphArray:e.PathArray,array:function(){return this._array||(this._array=new e.PathArray(this.attr("d")))},plot:function(c){return null==c?this.array():this.clear().attr("d","string"==typeof c?c:this._array=new e.PathArray(c))},clear:function(){return delete this._array,this}},construct:{path:function(c){return this.put(new e.Path).plot(c||new e.PathArray)}}}),e.Image=e.invent({create:"image",inherit:e.Shape,extend:{load:function(c){if(!c)return this;var u=this,m=new E.Image;return e.on(m,"load",function(){e.off(m);var w=u.parent(e.Pattern);null!==w&&(0==u.width()&&0==u.height()&&u.size(m.width,m.height),w&&0==w.width()&&0==w.height()&&w.size(u.width(),u.height()),"function"==typeof u._loaded&&u._loaded.call(u,{width:m.width,height:m.height,ratio:m.width/m.height,url:c}))}),e.on(m,"error",function(w){e.off(m),"function"==typeof u._error&&u._error.call(u,w)}),this.attr("href",m.src=this.src=c,e.xlink)},loaded:function(c){return this._loaded=c,this},error:function(c){return this._error=c,this}},construct:{image:function(c,u,m){return this.put(new e.Image).load(c).size(u||0,m||u||0)}}}),e.Text=e.invent({create:function(){this.constructor.call(this,e.create("text")),this.dom.leading=new e.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",e.defaults.attrs["font-family"])},inherit:e.Shape,extend:{x:function(c){return null==c?this.attr("x"):this.attr("x",c)},text:function(c){if(void 0===c){c="";for(var u=this.node.childNodes,m=0,w=u.length;m<w;++m)0!=m&&3!=u[m].nodeType&&1==e.adopt(u[m]).dom.newLined&&(c+="\n"),c+=u[m].textContent;return c}if(this.clear().build(!0),"function"==typeof c)c.call(this,this);else{m=0;for(var b=(c=c.split("\n")).length;m<b;m++)this.tspan(c[m]).newLine()}return this.build(!1).rebuild()},size:function(c){return this.attr("font-size",c).rebuild()},leading:function(c){return null==c?this.dom.leading:(this.dom.leading=new e.Number(c),this.rebuild())},lines:function(){var c=(this.textPath&&this.textPath()||this).node,u=e.utils.map(e.utils.filterSVGElements(c.childNodes),function(m){return e.adopt(m)});return new e.Set(u)},rebuild:function(c){if("boolean"==typeof c&&(this._rebuild=c),this._rebuild){var u=this,m=0,w=this.dom.leading*new e.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(u.textPath()||this.attr("x",u.attr("x")),"\n"==this.text()?m+=w:(this.attr("dy",w+m),m=0))}),this.fire("rebuild")}return this},build:function(c){return this._build=!!c,this},setData:function(c){return this.dom=c,this.dom.leading=new e.Number(c.leading||1.3),this}},construct:{text:function(c){return this.put(new e.Text).text(c)},plain:function(c){return this.put(new e.Text).plain(c)}}}),e.Tspan=e.invent({create:"tspan",inherit:e.Shape,extend:{text:function(c){return null==c?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof c?c.call(this,this):this.plain(c),this)},dx:function(c){return this.attr("dx",c)},dy:function(c){return this.attr("dy",c)},newLine:function(){var c=this.parent(e.Text);return this.dom.newLined=!0,this.dy(c.dom.leading*c.attr("font-size")).attr("x",c.x())}}}),e.extend(e.Text,e.Tspan,{plain:function(c){return!1===this._build&&this.clear(),this.node.appendChild(t.createTextNode(c)),this},tspan:function(c){var u=(this.textPath&&this.textPath()||this).node,m=new e.Tspan;return!1===this._build&&this.clear(),u.appendChild(m.node),m.text(c)},clear:function(){for(var c=(this.textPath&&this.textPath()||this).node;c.hasChildNodes();)c.removeChild(c.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),e.TextPath=e.invent({create:"textPath",inherit:e.Parent,parent:e.Text,construct:{morphArray:e.PathArray,array:function(){var c=this.track();return c?c.array():null},plot:function(c){var u=this.track(),m=null;return u&&(m=u.plot(c)),null==c?m:this},track:function(){var c=this.textPath();if(c)return c.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return e.adopt(this.node.firstChild)}}}),e.Nested=e.invent({create:function(){this.constructor.call(this,e.create("svg")),this.style("overflow","visible")},inherit:e.Container,construct:{nested:function(){return this.put(new e.Nested)}}});var r={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(c,u){return"color"==u?c:c+"-"+u}};function h(c,u,m,w){return m+w.replace(e.regex.dots," .")}function d(c){return c.toLowerCase().replace(/-(.)/g,function(u,m){return m.toUpperCase()})}function f(c){return c.charAt(0).toUpperCase()+c.slice(1)}function g(c){var u=c.toString(16);return 1==u.length?"0"+u:u}function x(c,u,m){if(null==u||null==m){var w=c.bbox();null==u?u=w.width/w.height*m:null==m&&(m=w.height/w.width*u)}return{width:u,height:m}}function y(c,u,m){return{x:u*c.a+m*c.c+0,y:u*c.b+m*c.d+0}}function C(c){return{a:c[0],b:c[1],c:c[2],d:c[3],e:c[4],f:c[5]}}function k(c){for(var u=c.childNodes.length-1;u>=0;u--)c.childNodes[u]instanceof E.SVGElement&&k(c.childNodes[u]);return e.adopt(c).id(e.eid(c.nodeName))}function M(c){return Math.abs(c)>1e-37?c:0}["fill","stroke"].forEach(function(c){var u={};u[c]=function(m){if(void 0===m)return this;if("string"==typeof m||e.Color.isRgb(m)||m&&"function"==typeof m.fill)this.attr(c,m);else for(var w=r[c].length-1;w>=0;w--)null!=m[r[c][w]]&&this.attr(r.prefix(c,r[c][w]),m[r[c][w]]);return this},e.extend(e.Element,e.FX,u)}),e.extend(e.Element,e.FX,{translate:function(c,u){return this.transform({x:c,y:u})},matrix:function(c){return this.attr("transform",new e.Matrix(6==arguments.length?[].slice.call(arguments):c))},opacity:function(c){return this.attr("opacity",c)},dx:function(c){return this.x(new e.Number(c).plus(this instanceof e.FX?0:this.x()),!0)},dy:function(c){return this.y(new e.Number(c).plus(this instanceof e.FX?0:this.y()),!0)}}),e.extend(e.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(c){return this.node.getPointAtLength(c)}}),e.Set=e.invent({create:function(c){Array.isArray(c)?this.members=c:this.clear()},extend:{add:function(){for(var c=[].slice.call(arguments),u=0,m=c.length;u<m;u++)this.members.push(c[u]);return this},remove:function(c){var u=this.index(c);return u>-1&&this.members.splice(u,1),this},each:function(c){for(var u=0,m=this.members.length;u<m;u++)c.apply(this.members[u],[u,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(c){return this.index(c)>=0},index:function(c){return this.members.indexOf(c)},get:function(c){return this.members[c]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(c){return new e.Set(c)}}}),e.FX.Set=e.invent({create:function(c){this.set=c}}),e.Set.inherit=function(){var c=[];for(var u in e.Shape.prototype)"function"==typeof e.Shape.prototype[u]&&"function"!=typeof e.Set.prototype[u]&&c.push(u);for(var u in c.forEach(function(w){e.Set.prototype[w]=function(){for(var b=0,A=this.members.length;b<A;b++)this.members[b]&&"function"==typeof this.members[b][w]&&this.members[b][w].apply(this.members[b],arguments);return"animate"==w?this.fx||(this.fx=new e.FX.Set(this)):this}}),c=[],e.FX.prototype)"function"==typeof e.FX.prototype[u]&&"function"!=typeof e.FX.Set.prototype[u]&&c.push(u);c.forEach(function(m){e.FX.Set.prototype[m]=function(){for(var w=0,b=this.set.members.length;w<b;w++)this.set.members[w].fx[m].apply(this.set.members[w].fx,arguments);return this}})},e.extend(e.Element,{}),e.extend(e.Element,{remember:function(c,u){if("object"===zt(arguments[0]))for(var m in c)this.remember(m,c[m]);else{if(1==arguments.length)return this.memory()[c];this.memory()[c]=u}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var c=arguments.length-1;c>=0;c--)delete this.memory()[arguments[c]];return this},memory:function(){return this._memory||(this._memory={})}}),e.get=function(c){var u=t.getElementById(function(m){var w=(m||"").toString().match(e.regex.reference);if(w)return w[1]}(c)||c);return e.adopt(u)},e.select=function(c,u){return new e.Set(e.utils.map((u||t).querySelectorAll(c),function(m){return e.adopt(m)}))},e.extend(e.Parent,{select:function(c){return e.select(c,this.node)}});var D="abcdef".split("");if("function"!=typeof E.CustomEvent){var I=function(c,u){u=u||{bubbles:!1,cancelable:!1,detail:void 0};var m=t.createEvent("CustomEvent");return m.initCustomEvent(c,u.bubbles,u.cancelable,u.detail),m};I.prototype=E.Event.prototype,e.CustomEvent=I}else e.CustomEvent=E.CustomEvent;return e},"function"==typeof define&&define.amd?define(function(){return De(ne,ne.document)}):"object"===(typeof exports>"u"?"undefined":zt(exports))&&typeof module<"u"?module.exports=ne.document?De(ne,ne.document):function(E){return De(E,E.document)}:ne.SVG=De(ne,ne.document),
/*! svg.filter.js - v2.0.2 - 2016-02-24
    * https://github.com/wout/svg.filter.js
    * Copyright (c) 2016 Wout Fierens; Licensed MIT */
function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(o,r){return this.add(o,r),!o.attr("in")&&this.autoSetIn&&o.attr("in",this.source),o.attr("result")||o.attr("result",o),o},blend:function(o,r,h){return this.put(new SVG.BlendEffect(o,r,h))},colorMatrix:function(o,r){return this.put(new SVG.ColorMatrixEffect(o,r))},convolveMatrix:function(o){return this.put(new SVG.ConvolveMatrixEffect(o))},componentTransfer:function(o){return this.put(new SVG.ComponentTransferEffect(o))},composite:function(o,r,h){return this.put(new SVG.CompositeEffect(o,r,h))},flood:function(o,r){return this.put(new SVG.FloodEffect(o,r))},offset:function(o,r){return this.put(new SVG.OffsetEffect(o,r))},image:function(o){return this.put(new SVG.ImageEffect(o))},merge:function(){var o=[void 0];for(var r in arguments)o.push(arguments[r]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,o)))},gaussianBlur:function(o,r){return this.put(new SVG.GaussianBlurEffect(o,r))},morphology:function(o,r){return this.put(new SVG.MorphologyEffect(o,r))},diffuseLighting:function(o,r,h){return this.put(new SVG.DiffuseLightingEffect(o,r,h))},displacementMap:function(o,r,h,d,f){return this.put(new SVG.DisplacementMapEffect(o,r,h,d,f))},specularLighting:function(o,r,h,d){return this.put(new SVG.SpecularLightingEffect(o,r,h,d))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(o,r,h,d,f){return this.put(new SVG.TurbulenceEffect(o,r,h,d,f))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(o){var r=this.put(new SVG.Filter);return"function"==typeof o&&o.call(r,r),r}}),SVG.extend(SVG.Container,{filter:function(o){return this.defs().filter(o)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(o){return this.filterer=o instanceof SVG.Element?o:this.doc().filter(o),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(o){return this.filterer&&!0===o&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(o){return null==o?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",o)},result:function(o){return null==o?this.attr("result"):this.attr("result",o)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(o){return null==o?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",o)},result:function(o){return null==o?this.attr("result"):this.attr("result",o)},toString:function(){return this.result()}}});var E={blend:function(o,r){return this.parent()&&this.parent().blend(this,o,r)},colorMatrix:function(o,r){return this.parent()&&this.parent().colorMatrix(o,r).in(this)},convolveMatrix:function(o){return this.parent()&&this.parent().convolveMatrix(o).in(this)},componentTransfer:function(o){return this.parent()&&this.parent().componentTransfer(o).in(this)},composite:function(o,r){return this.parent()&&this.parent().composite(this,o,r)},flood:function(o,r){return this.parent()&&this.parent().flood(o,r)},offset:function(o,r){return this.parent()&&this.parent().offset(o,r).in(this)},image:function(o){return this.parent()&&this.parent().image(o)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(o,r){return this.parent()&&this.parent().gaussianBlur(o,r).in(this)},morphology:function(o,r){return this.parent()&&this.parent().morphology(o,r).in(this)},diffuseLighting:function(o,r,h){return this.parent()&&this.parent().diffuseLighting(o,r,h).in(this)},displacementMap:function(o,r,h,d){return this.parent()&&this.parent().displacementMap(this,o,r,h,d)},specularLighting:function(o,r,h,d){return this.parent()&&this.parent().specularLighting(o,r,h,d).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(o,r,h,d,f){return this.parent()&&this.parent().turbulence(o,r,h,d,f).in(this)}};SVG.extend(SVG.Effect,E),SVG.extend(SVG.ParentEffect,E),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(o){this.attr("in",o)}}});var t={blend:function(o,r,h){this.attr({in:o,in2:r,mode:h||"normal"})},colorMatrix:function(o,r){"matrix"==o&&(r=a(r)),this.attr({type:o,values:void 0===r?null:r})},convolveMatrix:function(o){o=a(o),this.attr({order:Math.sqrt(o.split(" ").length),kernelMatrix:o})},composite:function(o,r,h){this.attr({in:o,in2:r,operator:h})},flood:function(o,r){this.attr("flood-color",o),null!=r&&this.attr("flood-opacity",r)},offset:function(o,r){this.attr({dx:o,dy:r})},image:function(o){this.attr("href",o,SVG.xlink)},displacementMap:function(o,r,h,d,f){this.attr({in:o,in2:r,scale:h,xChannelSelector:d,yChannelSelector:f})},gaussianBlur:function(o,r){this.attr("stdDeviation",null!=o||null!=r?function(h){if(!Array.isArray(h))return h;for(var d=0,f=h.length,g=[];d<f;d++)g.push(h[d]);return g.join(" ")}(Array.prototype.slice.call(arguments)):"0 0")},morphology:function(o,r){this.attr({operator:o,radius:r})},tile:function(){},turbulence:function(o,r,h,d,f){this.attr({numOctaves:r,seed:h,stitchTiles:d,baseFrequency:o,type:f})}},e={merge:function(){var o;if(arguments[0]instanceof SVG.Set){var r=this;arguments[0].each(function(d){this instanceof SVG.MergeNode?r.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&r.put(new SVG.MergeNode(this))})}else{o=Array.isArray(arguments[0])?arguments[0]:arguments;for(var h=0;h<o.length;h++)o[h]instanceof SVG.MergeNode?this.put(o[h]):this.put(new SVG.MergeNode(o[h]))}},componentTransfer:function(o){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(h){this[h]=new(SVG["Func"+h.toUpperCase()])("identity"),this.rgb.add(this[h]),this.node.appendChild(this[h].node)}.bind(this)),o)for(var r in o.rgb&&(["r","g","b"].forEach(function(h){this[h].attr(o.rgb)}.bind(this)),delete o.rgb),o)this[r].attr(o[r])},diffuseLighting:function(o,r,h){this.attr({surfaceScale:o,diffuseConstant:r,kernelUnitLength:h})},specularLighting:function(o,r,h,d){this.attr({surfaceScale:o,diffuseConstant:r,specularExponent:h,kernelUnitLength:d})}},i={distantLight:function(o,r){this.attr({azimuth:o,elevation:r})},pointLight:function(o,r,h){this.attr({x:o,y:r,z:h})},spotLight:function(o,r,h,d,f,g){this.attr({x:o,y:r,z:h,pointsAtX:d,pointsAtY:f,pointsAtZ:g})},mergeNode:function(o){this.attr("in",o)}};function a(o){return Array.isArray(o)&&(o=new SVG.Array(o)),o.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function n(){var o=function(){};for(var r in"function"==typeof arguments[arguments.length-1]&&(o=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var h in arguments[r])o(arguments[r][h],h,arguments[r])}["r","g","b","a"].forEach(function(o){i["Func"+o.toUpperCase()]=function(r){switch(this.attr("type",r),r){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),n(t,function(o,r){var h=r.charAt(0).toUpperCase()+r.slice(1);SVG[h+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+h)),o.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),n(e,function(o,r){var h=r.charAt(0).toUpperCase()+r.slice(1);SVG[h+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+h)),o.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),n(i,function(o,r){var h=r.charAt(0).toUpperCase()+r.slice(1);SVG[h]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+h)),o.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(o){return o instanceof SVG.MergeNode?this.add(o,0):this.add(new SVG.MergeNode(o),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(o){return null==o?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",o)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),function(){function E(n,o,r,h,d,f,g){for(var x=n.slice(o,r||g),y=h.slice(d,f||g),C=0,k={pos:[0,0],start:[0,0]},M={pos:[0,0],start:[0,0]};x[C]=t.call(k,x[C]),y[C]=t.call(M,y[C]),x[C][0]!=y[C][0]||"M"==x[C][0]||"A"==x[C][0]&&(x[C][4]!=y[C][4]||x[C][5]!=y[C][5])?(Array.prototype.splice.apply(x,[C,1].concat(i.call(k,x[C]))),Array.prototype.splice.apply(y,[C,1].concat(i.call(M,y[C])))):(x[C]=e.call(k,x[C]),y[C]=e.call(M,y[C])),++C!=x.length||C!=y.length;)C==x.length&&x.push(["C",k.pos[0],k.pos[1],k.pos[0],k.pos[1],k.pos[0],k.pos[1]]),C==y.length&&y.push(["C",M.pos[0],M.pos[1],M.pos[0],M.pos[1],M.pos[0],M.pos[1]]);return{start:x,dest:y}}function t(n){switch(n[0]){case"z":case"Z":n[0]="L",n[1]=this.start[0],n[2]=this.start[1];break;case"H":n[0]="L",n[2]=this.pos[1];break;case"V":n[0]="L",n[2]=n[1],n[1]=this.pos[0];break;case"T":n[0]="Q",n[3]=n[1],n[4]=n[2],n[1]=this.reflection[1],n[2]=this.reflection[0];break;case"S":n[0]="C",n[6]=n[4],n[5]=n[3],n[4]=n[2],n[3]=n[1],n[2]=this.reflection[1],n[1]=this.reflection[0]}return n}function e(n){var o=n.length;return this.pos=[n[o-2],n[o-1]],-1!="SCQT".indexOf(n[0])&&(this.reflection=[2*this.pos[0]-n[o-4],2*this.pos[1]-n[o-3]]),n}function i(n){var o=[n];switch(n[0]){case"M":return this.pos=this.start=[n[1],n[2]],o;case"L":n[5]=n[3]=n[1],n[6]=n[4]=n[2],n[1]=this.pos[0],n[2]=this.pos[1];break;case"Q":n[6]=n[4],n[5]=n[3],n[4]=1*n[4]/3+2*n[2]/3,n[3]=1*n[3]/3+2*n[1]/3,n[2]=1*this.pos[1]/3+2*n[2]/3,n[1]=1*this.pos[0]/3+2*n[1]/3;break;case"A":n=(o=function(r,h){var d,f,g,x,y,C,k,M,D,I,c,u,m,w,b,A,T,z,N,F,B,H,Y,V,tt,et,rt=Math.abs(h[1]),st=Math.abs(h[2]),ht=h[3]%360,bt=h[4],mt=h[5],kt=h[6],Rt=h[7],q=new SVG.Point(r),lt=new SVG.Point(kt,Rt),ut=[];if(0===rt||0===st||q.x===lt.x&&q.y===lt.y)return[["C",q.x,q.y,lt.x,lt.y,lt.x,lt.y]];for((f=(d=new SVG.Point((q.x-lt.x)/2,(q.y-lt.y)/2).transform((new SVG.Matrix).rotate(ht))).x*d.x/(rt*rt)+d.y*d.y/(st*st))>1&&(rt*=f=Math.sqrt(f),st*=f),g=(new SVG.Matrix).rotate(ht).scale(1/rt,1/st).rotate(-ht),q=q.transform(g),C=(x=[(lt=lt.transform(g)).x-q.x,lt.y-q.y])[0]*x[0]+x[1]*x[1],y=Math.sqrt(C),x[0]/=y,x[1]/=y,k=C<4?Math.sqrt(1-C/4):0,bt===mt&&(k*=-1),M=new SVG.Point((lt.x+q.x)/2+k*-x[1],(lt.y+q.y)/2+k*x[0]),D=new SVG.Point(q.x-M.x,q.y-M.y),I=new SVG.Point(lt.x-M.x,lt.y-M.y),c=Math.acos(D.x/Math.sqrt(D.x*D.x+D.y*D.y)),D.y<0&&(c*=-1),u=Math.acos(I.x/Math.sqrt(I.x*I.x+I.y*I.y)),I.y<0&&(u*=-1),mt&&c>u&&(u+=2*Math.PI),!mt&&c<u&&(u-=2*Math.PI),A=[],T=c,m=(u-c)/(w=Math.ceil(2*Math.abs(c-u)/Math.PI)),b=4*Math.tan(m/4)/3,B=0;B<=w;B++)N=Math.cos(T),z=Math.sin(T),F=new SVG.Point(M.x+N,M.y+z),A[B]=[new SVG.Point(F.x+b*z,F.y-b*N),F,new SVG.Point(F.x-b*z,F.y+b*N)],T+=m;for(A[0][0]=A[0][1].clone(),A[A.length-1][2]=A[A.length-1][1].clone(),g=(new SVG.Matrix).rotate(ht).scale(rt,st).rotate(-ht),B=0,H=A.length;B<H;B++)A[B][0]=A[B][0].transform(g),A[B][1]=A[B][1].transform(g),A[B][2]=A[B][2].transform(g);for(B=1,H=A.length;B<H;B++)Y=(F=A[B-1][2]).x,V=F.y,tt=(F=A[B][0]).x,et=F.y,kt=(F=A[B][1]).x,ut.push(["C",Y,V,tt,et,kt,Rt=F.y]);return ut}(this.pos,n))[0]}return n[0]="C",this.pos=[n[5],n[6]],this.reflection=[2*n[5]-n[3],2*n[6]-n[4]],o}function a(n,o){if(!1===o)return!1;for(var r=o,h=n.length;r<h;++r)if("M"==n[r][0])return r;return!1}SVG.extend(SVG.PathArray,{morph:function(n){for(var o=this.value,r=this.parse(n),h=0,d=0,f=!1,g=!1;!1!==h||!1!==d;){var x;f=a(o,!1!==h&&h+1),g=a(r,!1!==d&&d+1),!1===h&&(h=0==(x=new SVG.PathArray(y.start).bbox()).height||0==x.width?o.push(o[0])-1:o.push(["M",x.x+x.width/2,x.y+x.height/2])-1),!1===d&&(d=0==(x=new SVG.PathArray(y.dest).bbox()).height||0==x.width?r.push(r[0])-1:r.push(["M",x.x+x.width/2,x.y+x.height/2])-1);var y=E(o,h,f,r,d,g);o=o.slice(0,h).concat(y.start,!1===f?[]:o.slice(f)),r=r.slice(0,d).concat(y.dest,!1===g?[]:r.slice(g)),h=!1!==f&&h+y.start.length,d=!1!==g&&d+y.dest.length}return this.value=o,this.destination=new SVG.PathArray,this.destination.value=r,this}})}(),
/*! svg.draggable.js - v2.2.2 - 2019-01-08
    * https://github.com/svgdotjs/svg.draggable.js
    * Copyright (c) 2019 Wout Fierens; Licensed MIT */
function(){function E(t){t.remember("_draggable",this),this.el=t}E.prototype.init=function(t,e){var i=this;this.constraint=t,this.value=e,this.el.on("mousedown.drag",function(a){i.start(a)}),this.el.on("touchstart.drag",function(a){i.start(a)})},E.prototype.transformPoint=function(t,e){var i=(t=t||window.event).changedTouches&&t.changedTouches[0]||t;return this.p.x=i.clientX-(e||0),this.p.y=i.clientY,this.p.matrixTransform(this.m)},E.prototype.getBBox=function(){var t=this.el.bbox();return this.el instanceof SVG.Nested&&(t=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(t.x=this.el.x(),t.y=this.el.y()),t},E.prototype.start=function(t){if("click"!=t.type&&"mousedown"!=t.type&&"mousemove"!=t.type||1==(t.which||t.buttons)){var e=this;if(this.el.fire("beforedrag",{event:t,handler:this}),!this.el.event().defaultPrevented){t.preventDefault(),t.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var i,a=this.getBBox();if(this.el instanceof SVG.Text)switch(i=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":i/=2;break;case"start":i=0}this.startPoints={point:this.transformPoint(t,i),box:a,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(n){e.drag(n)}),SVG.on(window,"touchmove.drag",function(n){e.drag(n)}),SVG.on(window,"mouseup.drag",function(n){e.end(n)}),SVG.on(window,"touchend.drag",function(n){e.end(n)}),this.el.fire("dragstart",{event:t,p:this.startPoints.point,m:this.m,handler:this})}}},E.prototype.drag=function(t){var e=this.getBBox(),i=this.transformPoint(t),a=this.startPoints.box.x+i.x-this.startPoints.point.x,n=this.startPoints.box.y+i.y-this.startPoints.point.y,o=this.constraint,r=i.x-this.startPoints.point.x,h=i.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:t,p:i,m:this.m,handler:this}),this.el.event().defaultPrevented)return i;if("function"==typeof o){var d=o.call(this.el,a,n,this.m);"boolean"==typeof d&&(d={x:d,y:d}),!0===d.x?this.el.x(a):!1!==d.x&&this.el.x(d.x),!0===d.y?this.el.y(n):!1!==d.y&&this.el.y(d.y)}else"object"==typeof o&&(null!=o.minX&&a<o.minX?r=(a=o.minX)-this.startPoints.box.x:null!=o.maxX&&a>o.maxX-e.width&&(r=(a=o.maxX-e.width)-this.startPoints.box.x),null!=o.minY&&n<o.minY?h=(n=o.minY)-this.startPoints.box.y:null!=o.maxY&&n>o.maxY-e.height&&(h=(n=o.maxY-e.height)-this.startPoints.box.y),null!=o.snapToGrid&&(a-=a%o.snapToGrid,n-=n%o.snapToGrid,r-=r%o.snapToGrid,h-=h%o.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:r,y:h},!0):this.el.move(a,n));return i},E.prototype.end=function(t){var e=this.drag(t);this.el.fire("dragend",{event:t,p:e,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(t,e){"function"!=typeof t&&"object"!=typeof t||(e=t,t=!0);var i=this.remember("_draggable")||new E(this);return(t=void 0===t||t)?i.init(e||{},t):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),function(){function E(t){this.el=t,t.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(e,i,a){var n="string"!=typeof e?e:i[e];return a?n/2:n},this.pointCoords=function(e,i){var a=this.pointsList[e];return{x:this.pointCoord(a[0],i,"t"===e||"b"===e),y:this.pointCoord(a[1],i,"r"===e||"l"===e)}}}E.prototype.init=function(t,e){var i=this.el.bbox();this.options={};var a=this.el.selectize.defaults.points;for(var n in this.el.selectize.defaults)this.options[n]=this.el.selectize.defaults[n],void 0!==e[n]&&(this.options[n]=e[n]);var o=["points","pointsExclude"];for(var n in o){var r=this.options[o[n]];"string"==typeof r?r=r.length>0?r.split(/\s*,\s*/i):[]:"boolean"==typeof r&&"points"===o[n]&&(r=r?a:[]),this.options[o[n]]=r}this.options.points=[a,this.options.points].reduce(function(h,d){return h.filter(function(f){return d.indexOf(f)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(h,d){return h.filter(function(f){return d.indexOf(f)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(i.x,i.y)),this.options.deepSelect&&-1!==["line","polyline","polygon"].indexOf(this.el.type)?this.selectPoints(t):this.selectRect(t),this.observe(),this.cleanup()},E.prototype.selectPoints=function(t){return this.pointSelection.isSelected=t,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},E.prototype.getPointArray=function(){var t=this.el.bbox();return this.el.array().valueOf().map(function(e){return[e[0]-t.x,e[1]-t.y]})},E.prototype.drawPoints=function(){for(var t=this,e=this.getPointArray(),i=0,a=e.length;i<a;++i){var n=function(r){return function(h){(h=h||window.event).preventDefault?h.preventDefault():h.returnValue=!1,h.stopPropagation(),t.el.fire("point",{x:h.pageX||h.touches[0].pageX,y:h.pageY||h.touches[0].pageY,i:r,event:h})}}(i),o=this.drawPoint(e[i][0],e[i][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",n).on("mousedown",n);this.pointSelection.set.add(o)}},E.prototype.drawPoint=function(t,e){var i=this.options.pointType;switch(i){case"circle":return this.drawCircle(t,e);case"rect":return this.drawRect(t,e);default:if("function"==typeof i)return i.call(this,t,e);throw new Error("Unknown "+i+" point type!")}},E.prototype.drawCircle=function(t,e){return this.nested.circle(this.options.pointSize).center(t,e)},E.prototype.drawRect=function(t,e){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(t,e)},E.prototype.updatePointSelection=function(){var t=this.getPointArray();this.pointSelection.set.each(function(e){this.cx()===t[e][0]&&this.cy()===t[e][1]||this.center(t[e][0],t[e][1])})},E.prototype.updateRectSelection=function(){var t=this,e=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:e.width,height:e.height}),this.options.points.length&&this.options.points.map(function(a,n){var o=t.pointCoords(a,e);t.rectSelection.set.get(n+1).center(o.x,o.y)}),this.options.rotationPoint){var i=this.rectSelection.set.length();this.rectSelection.set.get(i-1).center(e.width/2,20)}},E.prototype.selectRect=function(t){var e=this,i=this.el.bbox();function a(r){return function(h){(h=h||window.event).preventDefault?h.preventDefault():h.returnValue=!1,h.stopPropagation(),e.el.fire(r,{x:h.pageX||h.touches[0].pageX,y:h.pageY||h.touches[0].pageY,event:h})}}if(this.rectSelection.isSelected=t,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(i.width,i.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(r,h){var d=e.pointCoords(r,i),f=e.drawPoint(d.x,d.y).attr("class",e.options.classPoints+"_"+r).on("mousedown",a(r)).on("touchstart",a(r));e.rectSelection.set.add(f)}),this.rectSelection.set.each(function(){this.addClass(e.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var n=function(r){(r=r||window.event).preventDefault?r.preventDefault():r.returnValue=!1,r.stopPropagation(),e.el.fire("rot",{x:r.pageX||r.touches[0].pageX,y:r.pageY||r.touches[0].pageY,event:r})},o=this.drawPoint(i.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",n).on("mousedown",n);this.rectSelection.set.add(o)}},E.prototype.handler=function(){var t=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(t.x,t.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},E.prototype.observe=function(){var t=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){t.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch{}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){t.handler()})},E.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(t,e){return"object"==typeof t&&(e=t,t=!0),(this.remember("_selectHandler")||new E(this)).init(void 0===t||t,e||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function E(t){t.remember("_resizeHandler",this),this.el=t,this.parameters={},this.lastUpdateCall=null,this.p=t.doc().node.createSVGPoint()}E.prototype.transformPoint=function(t,e,i){return this.p.x=t-(this.offset.x-window.pageXOffset),this.p.y=e-(this.offset.y-window.pageYOffset),this.p.matrixTransform(i||this.m)},E.prototype._extractPosition=function(t){return{x:null!=t.clientX?t.clientX:t.touches[0].clientX,y:null!=t.clientY?t.clientY:t.touches[0].clientY}},E.prototype.init=function(t){var e=this;if(this.stop(),"stop"!==t){for(var i in this.options={},this.el.resize.defaults)this.options[i]=this.el.resize.defaults[i],void 0!==t[i]&&(this.options[i]=t[i]);this.el.on("lt.resize",function(a){e.resize(a||window.event)}),this.el.on("rt.resize",function(a){e.resize(a||window.event)}),this.el.on("rb.resize",function(a){e.resize(a||window.event)}),this.el.on("lb.resize",function(a){e.resize(a||window.event)}),this.el.on("t.resize",function(a){e.resize(a||window.event)}),this.el.on("r.resize",function(a){e.resize(a||window.event)}),this.el.on("b.resize",function(a){e.resize(a||window.event)}),this.el.on("l.resize",function(a){e.resize(a||window.event)}),this.el.on("rot.resize",function(a){e.resize(a||window.event)}),this.el.on("point.resize",function(a){e.resize(a||window.event)}),this.update()}},E.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},E.prototype.resize=function(t){var e=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var i=this._extractPosition(t.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(i.x,i.y),x:t.detail.x,y:t.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},"text"===this.el.type&&(this.parameters.fontSize=this.el.attr()["font-size"]),void 0!==t.detail.i){var a=this.el.array().valueOf();this.parameters.i=t.detail.i,this.parameters.pointCoords=[a[t.detail.i][0],a[t.detail.i][1]]}switch(t.type){case"lt":this.calc=function(n,o){var r=this.snapToGrid(n,o);if(this.parameters.box.width-r[0]>0&&this.parameters.box.height-r[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+r[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-r[0]);r=this.checkAspectRatio(r),this.el.move(this.parameters.box.x+r[0],this.parameters.box.y+r[1]).size(this.parameters.box.width-r[0],this.parameters.box.height-r[1])}};break;case"rt":this.calc=function(n,o){var r=this.snapToGrid(n,o,2);if(this.parameters.box.width+r[0]>0&&this.parameters.box.height-r[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-r[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+r[0]);r=this.checkAspectRatio(r,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+r[1]).size(this.parameters.box.width+r[0],this.parameters.box.height-r[1])}};break;case"rb":this.calc=function(n,o){var r=this.snapToGrid(n,o,0);if(this.parameters.box.width+r[0]>0&&this.parameters.box.height+r[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-r[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+r[0]);r=this.checkAspectRatio(r),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+r[0],this.parameters.box.height+r[1])}};break;case"lb":this.calc=function(n,o){var r=this.snapToGrid(n,o,1);if(this.parameters.box.width-r[0]>0&&this.parameters.box.height+r[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+r[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-r[0]);r=this.checkAspectRatio(r,!0),this.el.move(this.parameters.box.x+r[0],this.parameters.box.y).size(this.parameters.box.width-r[0],this.parameters.box.height+r[1])}};break;case"t":this.calc=function(n,o){var r=this.snapToGrid(n,o,2);if(this.parameters.box.height-r[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y+r[1]).height(this.parameters.box.height-r[1])}};break;case"r":this.calc=function(n,o){var r=this.snapToGrid(n,o,0);if(this.parameters.box.width+r[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+r[0])}};break;case"b":this.calc=function(n,o){var r=this.snapToGrid(n,o,0);if(this.parameters.box.height+r[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+r[1])}};break;case"l":this.calc=function(n,o){var r=this.snapToGrid(n,o,1);if(this.parameters.box.width-r[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x+r[0],this.parameters.box.y).width(this.parameters.box.width-r[0])}};break;case"rot":this.calc=function(n,o){var r=n+this.parameters.p.x,h=o+this.parameters.p.y,d=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),f=Math.atan2(h-this.parameters.box.y-this.parameters.box.height/2,r-this.parameters.box.x-this.parameters.box.width/2),g=this.parameters.rotation+180*(f-d)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(g-g%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(n,o){var r=this.snapToGrid(n,o,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),h=this.el.array().valueOf();h[this.parameters.i][0]=this.parameters.pointCoords[0]+r[0],h[this.parameters.i][1]=this.parameters.pointCoords[1]+r[1],this.el.plot(h)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:t}),SVG.on(window,"touchmove.resize",function(n){e.update(n||window.event)}),SVG.on(window,"touchend.resize",function(){e.done()}),SVG.on(window,"mousemove.resize",function(n){e.update(n||window.event)}),SVG.on(window,"mouseup.resize",function(){e.done()})},E.prototype.update=function(t){if(t){var e=this._extractPosition(t),i=this.transformPoint(e.x,e.y),a=i.x-this.parameters.p.x,n=i.y-this.parameters.p.y;this.lastUpdateCall=[a,n],this.calc(a,n),this.el.fire("resizing",{dx:a,dy:n,event:t})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},E.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},E.prototype.snapToGrid=function(t,e,i,a){var n;return n=void 0!==a?[(i+t)%this.options.snapToGrid,(a+e)%this.options.snapToGrid]:[(this.parameters.box.x+t+(1&(i=i??3)?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+e+(2&i?0:this.parameters.box.height))%this.options.snapToGrid],t<0&&(n[0]-=this.options.snapToGrid),e<0&&(n[1]-=this.options.snapToGrid),t-=Math.abs(n[0])<this.options.snapToGrid/2?n[0]:n[0]-(t<0?-this.options.snapToGrid:this.options.snapToGrid),e-=Math.abs(n[1])<this.options.snapToGrid/2?n[1]:n[1]-(e<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(t,e,i,a)},E.prototype.constraintToBox=function(t,e,i,a){var n,o,r=this.options.constraint||{};return void 0!==a?(n=i,o=a):(n=this.parameters.box.x+(1&i?0:this.parameters.box.width),o=this.parameters.box.y+(2&i?0:this.parameters.box.height)),void 0!==r.minX&&n+t<r.minX&&(t=r.minX-n),void 0!==r.maxX&&n+t>r.maxX&&(t=r.maxX-n),void 0!==r.minY&&o+e<r.minY&&(e=r.minY-o),void 0!==r.maxY&&o+e>r.maxY&&(e=r.maxY-o),[t,e]},E.prototype.checkAspectRatio=function(t,e){if(!this.options.saveAspectRatio)return t;var i=t.slice(),a=this.parameters.box.width/this.parameters.box.height,n=this.parameters.box.width+t[0],o=this.parameters.box.height-t[1],r=n/o;return r<a?(i[1]=n/a-this.parameters.box.height,e&&(i[1]=-i[1])):r>a&&(i[0]=this.parameters.box.width-o*a,e&&(i[0]=-i[0])),i},SVG.extend(SVG.Element,{resize:function(t){return(this.remember("_resizeHandler")||new E(this)).init(t||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),void 0===window.Apex&&(window.Apex={});var Ae=function(){function E(t){ot(this,E),this.ctx=t,this.w=t.w}return v(E,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","highlightSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new xe(this.ctx),this.ctx.axes=new Ci(this.ctx),this.ctx.core=new oe(this.ctx.el,this.ctx),this.ctx.config=new Ot({}),this.ctx.data=new Le(this.ctx),this.ctx.grid=new ai(this.ctx),this.ctx.graphics=new U(this.ctx),this.ctx.coreUtils=new Ht(this.ctx),this.ctx.crosshairs=new si(this.ctx),this.ctx.events=new fi(this.ctx),this.ctx.exports=new Fe(this.ctx),this.ctx.fill=new Ft(this.ctx),this.ctx.localization=new Li(this.ctx),this.ctx.options=new ve,this.ctx.responsive=new Ai(this.ctx),this.ctx.series=new Jt(this.ctx),this.ctx.theme=new Si(this.ctx),this.ctx.formatters=new ce(this.ctx),this.ctx.titleSubtitle=new mi(this.ctx),this.ctx.legend=new ri(this.ctx),this.ctx.toolbar=new li(this.ctx),this.ctx.tooltip=new Te(this.ctx),this.ctx.dimensions=new Ze(this.ctx),this.ctx.updateHelpers=new ci(this.ctx),this.ctx.zoomPanSelection=new vi(this.ctx),this.ctx.w.globals.tooltip=new Te(this.ctx)}}]),E}(),Gt=function(){function E(t){ot(this,E),this.ctx=t,this.w=t.w}return v(E,[{key:"clear",value:function(t){var e=t.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:e})}},{key:"killSVG",value:function(t){t.each(function(){this.removeClass("*"),this.off(),this.stop()},!0),t.ungroup(),t.clear()}},{key:"clearDomElements",value:function(t){var e=this,a=this.w.globals.dom.Paper.node;a.parentNode&&a.parentNode.parentNode&&!t.isUpdating&&(a.parentNode.parentNode.style.minHeight="unset");var n=this.w.globals.dom.baseEl;n&&this.ctx.eventList.forEach(function(r){n.removeEventListener(r,e.ctx.events.documentEvent)});var o=this.w.globals.dom;if(null!==this.ctx.el)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(o.Paper),o.Paper.remove(),o.elWrap=null,o.elGraphical=null,o.elLegendWrap=null,o.elLegendForeign=null,o.baseEl=null,o.elGridRect=null,o.elGridRectMask=null,o.elGridRectBarMask=null,o.elGridRectMarkerMask=null,o.elForecastMask=null,o.elNonForecastMask=null,o.elDefs=null}}]),E}(),re=new WeakMap,_i=function(){function E(t,e){ot(this,E),this.opts=e,this.ctx=this,this.w=new _t(e).init(),this.el=t,this.w.globals.cuid=X.randomId(),this.w.globals.chartID=this.w.config.chart.id?X.escapeString(this.w.config.chart.id):this.w.globals.cuid,new Ae(this).initModules(),this.create=X.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return v(E,[{key:"render",value:function(){var t=this;return new Promise(function(e,i){if(null!==t.el){void 0===Apex._chartInstances&&(Apex._chartInstances=[]),t.w.config.chart.id&&Apex._chartInstances.push({id:t.w.globals.chartID,group:t.w.config.chart.group,chart:t}),t.setLocale(t.w.config.chart.defaultLocale);var a=t.w.config.chart.events.beforeMount;"function"==typeof a&&a(t,t.w),t.events.fireEvent("beforeMount",[t,t.w]),window.addEventListener("resize",t.windowResizeHandler),function(x,y){var C=!1;if(x.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var k=x.getBoundingClientRect();"none"!==x.style.display&&0!==k.width||(C=!0)}var M=new ResizeObserver(function(D){C&&y.call(x,D),C=!0});x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(x.children).forEach(function(D){return M.observe(D)}):M.observe(x),re.set(y,M)}(t.el.parentNode,t.parentResizeHandler);var n=t.el.getRootNode&&t.el.getRootNode(),o=X.is("ShadowRoot",n),r=t.el.ownerDocument,h=o?n.getElementById("apexcharts-css"):r.getElementById("apexcharts-css");if(!h){var d;(h=document.createElement("style")).id="apexcharts-css",h.textContent='@keyframes opaque {\n  0% {\n    opacity: 0\n  }\n\n  to {\n    opacity: 1\n  }\n}\n\n@keyframes resizeanim {\n\n  0%,\n  to {\n    opacity: 0\n  }\n}\n\n.apexcharts-canvas {\n  position: relative;\n  direction: ltr !important;\n  user-select: none\n}\n\n.apexcharts-canvas ::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px\n}\n\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: rgba(0, 0, 0, .5);\n  box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)\n}\n\n.apexcharts-inner {\n  position: relative\n}\n\n.apexcharts-text tspan {\n  font-family: inherit\n}\n\nrect.legend-mouseover-inactive,\n.legend-mouseover-inactive rect,\n.legend-mouseover-inactive path,\n.legend-mouseover-inactive circle,\n.legend-mouseover-inactive line,\n.legend-mouseover-inactive text.apexcharts-yaxis-title-text,\n.legend-mouseover-inactive text.apexcharts-yaxis-label {\n  transition: .15s ease all;\n  opacity: .2\n}\n\n.apexcharts-legend-text {\n  padding-left: 15px;\n  margin-left: -15px;\n}\n\n.apexcharts-series-collapsed {\n  opacity: 0\n}\n\n.apexcharts-tooltip {\n  border-radius: 5px;\n  box-shadow: 2px 2px 6px -4px #999;\n  cursor: default;\n  font-size: 14px;\n  left: 62px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 20px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: nowrap;\n  z-index: 12;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-theme-light {\n  border: 1px solid #e3e3e3;\n  background: rgba(255, 255, 255, .96)\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark {\n  color: #fff;\n  background: rgba(30, 30, 30, .8)\n}\n\n.apexcharts-tooltip * {\n  font-family: inherit\n}\n\n.apexcharts-tooltip-title {\n  padding: 6px;\n  font-size: 15px;\n  margin-bottom: 4px\n}\n\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\n  background: #eceff1;\n  border-bottom: 1px solid #ddd\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\n  background: rgba(0, 0, 0, .7);\n  border-bottom: 1px solid #333\n}\n\n.apexcharts-tooltip-text-goals-value,\n.apexcharts-tooltip-text-y-value,\n.apexcharts-tooltip-text-z-value {\n  display: inline-block;\n  margin-left: 5px;\n  font-weight: 600\n}\n\n.apexcharts-tooltip-text-goals-label:empty,\n.apexcharts-tooltip-text-goals-value:empty,\n.apexcharts-tooltip-text-y-label:empty,\n.apexcharts-tooltip-text-y-value:empty,\n.apexcharts-tooltip-text-z-value:empty,\n.apexcharts-tooltip-title:empty {\n  display: none\n}\n\n.apexcharts-tooltip-text-goals-label,\n.apexcharts-tooltip-text-goals-value {\n  padding: 6px 0 5px\n}\n\n.apexcharts-tooltip-goals-group,\n.apexcharts-tooltip-text-goals-label,\n.apexcharts-tooltip-text-goals-value {\n  display: flex\n}\n\n.apexcharts-tooltip-text-goals-label:not(:empty),\n.apexcharts-tooltip-text-goals-value:not(:empty) {\n  margin-top: -6px\n}\n\n.apexcharts-tooltip-marker {\n  width: 12px;\n  height: 12px;\n  position: relative;\n  top: 0;\n  margin-right: 10px;\n  border-radius: 50%\n}\n\n.apexcharts-tooltip-series-group {\n  padding: 0 10px;\n  display: none;\n  text-align: left;\n  justify-content: left;\n  align-items: center\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\n  opacity: 1\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active,\n.apexcharts-tooltip-series-group:last-child {\n  padding-bottom: 4px\n}\n\n.apexcharts-tooltip-y-group {\n  padding: 6px 0 5px\n}\n\n.apexcharts-custom-tooltip,\n.apexcharts-tooltip-box {\n  padding: 4px 8px\n}\n\n.apexcharts-tooltip-boxPlot {\n  display: flex;\n  flex-direction: column-reverse\n}\n\n.apexcharts-tooltip-box>div {\n  margin: 4px 0\n}\n\n.apexcharts-tooltip-box span.value {\n  font-weight: 700\n}\n\n.apexcharts-tooltip-rangebar {\n  padding: 5px 8px\n}\n\n.apexcharts-tooltip-rangebar .category {\n  font-weight: 600;\n  color: #777\n}\n\n.apexcharts-tooltip-rangebar .series-name {\n  font-weight: 700;\n  display: block;\n  margin-bottom: 5px\n}\n\n.apexcharts-xaxistooltip,\n.apexcharts-yaxistooltip {\n  opacity: 0;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #eceff1;\n  border: 1px solid #90a4ae\n}\n\n.apexcharts-xaxistooltip {\n  padding: 9px 10px;\n  transition: .15s ease all\n}\n\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, .7);\n  border: 1px solid rgba(0, 0, 0, .5);\n  color: #fff\n}\n\n.apexcharts-xaxistooltip:after,\n.apexcharts-xaxistooltip:before {\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-xaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-left: -6px\n}\n\n.apexcharts-xaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-left: -7px\n}\n\n.apexcharts-xaxistooltip-bottom:after,\n.apexcharts-xaxistooltip-bottom:before {\n  bottom: 100%\n}\n\n.apexcharts-xaxistooltip-top:after,\n.apexcharts-xaxistooltip-top:before {\n  top: 100%\n}\n\n.apexcharts-xaxistooltip-bottom:after {\n  border-bottom-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-bottom:before {\n  border-bottom-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\n  border-bottom-color: rgba(0, 0, 0, .5)\n}\n\n.apexcharts-xaxistooltip-top:after {\n  border-top-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-top:before {\n  border-top-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\n  border-top-color: rgba(0, 0, 0, .5)\n}\n\n.apexcharts-xaxistooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-yaxistooltip {\n  padding: 4px 10px\n}\n\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, .7);\n  border: 1px solid rgba(0, 0, 0, .5);\n  color: #fff\n}\n\n.apexcharts-yaxistooltip:after,\n.apexcharts-yaxistooltip:before {\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-yaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-top: -6px\n}\n\n.apexcharts-yaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-top: -7px\n}\n\n.apexcharts-yaxistooltip-left:after,\n.apexcharts-yaxistooltip-left:before {\n  left: 100%\n}\n\n.apexcharts-yaxistooltip-right:after,\n.apexcharts-yaxistooltip-right:before {\n  right: 100%\n}\n\n.apexcharts-yaxistooltip-left:after {\n  border-left-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-left:before {\n  border-left-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\n  border-left-color: rgba(0, 0, 0, .5)\n}\n\n.apexcharts-yaxistooltip-right:after {\n  border-right-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-right:before {\n  border-right-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\n  border-right-color: rgba(0, 0, 0, .5)\n}\n\n.apexcharts-yaxistooltip.apexcharts-active {\n  opacity: 1\n}\n\n.apexcharts-yaxistooltip-hidden {\n  display: none\n}\n\n.apexcharts-xcrosshairs,\n.apexcharts-ycrosshairs {\n  pointer-events: none;\n  opacity: 0;\n  transition: .15s ease all\n}\n\n.apexcharts-xcrosshairs.apexcharts-active,\n.apexcharts-ycrosshairs.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-ycrosshairs-hidden {\n  opacity: 0\n}\n\n.apexcharts-selection-rect {\n  cursor: move\n}\n\n.svg_select_boundingRect,\n.svg_select_points_rot {\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden\n}\n\n.apexcharts-selection-rect+g .svg_select_boundingRect,\n.apexcharts-selection-rect+g .svg_select_points_rot {\n  opacity: 0;\n  visibility: hidden\n}\n\n.apexcharts-selection-rect+g .svg_select_points_l,\n.apexcharts-selection-rect+g .svg_select_points_r {\n  cursor: ew-resize;\n  opacity: 1;\n  visibility: visible\n}\n\n.svg_select_points {\n  fill: #efefef;\n  stroke: #333;\n  rx: 2\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-zoom {\n  cursor: crosshair\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-pan {\n  cursor: move\n}\n\n.apexcharts-menu-icon,\n.apexcharts-pan-icon,\n.apexcharts-reset-icon,\n.apexcharts-selection-icon,\n.apexcharts-toolbar-custom-icon,\n.apexcharts-zoom-icon,\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon {\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 24px;\n  color: #6e8192;\n  text-align: center\n}\n\n.apexcharts-menu-icon svg,\n.apexcharts-reset-icon svg,\n.apexcharts-zoom-icon svg,\n.apexcharts-zoomin-icon svg,\n.apexcharts-zoomout-icon svg {\n  fill: #6e8192\n}\n\n.apexcharts-selection-icon svg {\n  fill: #444;\n  transform: scale(.76)\n}\n\n.apexcharts-theme-dark .apexcharts-menu-icon svg,\n.apexcharts-theme-dark .apexcharts-pan-icon svg,\n.apexcharts-theme-dark .apexcharts-reset-icon svg,\n.apexcharts-theme-dark .apexcharts-selection-icon svg,\n.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,\n.apexcharts-theme-dark .apexcharts-zoom-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomin-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomout-icon svg {\n  fill: #f3f4f5\n}\n\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {\n  fill: #008ffb\n}\n\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg,\n.apexcharts-theme-light .apexcharts-reset-icon:hover svg,\n.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,\n.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {\n  fill: #333\n}\n\n.apexcharts-menu-icon,\n.apexcharts-selection-icon {\n  position: relative\n}\n\n.apexcharts-reset-icon {\n  margin-left: 5px\n}\n\n.apexcharts-menu-icon,\n.apexcharts-reset-icon,\n.apexcharts-zoom-icon {\n  transform: scale(.85)\n}\n\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon {\n  transform: scale(.7)\n}\n\n.apexcharts-zoomout-icon {\n  margin-right: 3px\n}\n\n.apexcharts-pan-icon {\n  transform: scale(.62);\n  position: relative;\n  left: 1px;\n  top: 0\n}\n\n.apexcharts-pan-icon svg {\n  fill: #fff;\n  stroke: #6e8192;\n  stroke-width: 2\n}\n\n.apexcharts-pan-icon.apexcharts-selected svg {\n  stroke: #008ffb\n}\n\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\n  stroke: #333\n}\n\n.apexcharts-toolbar {\n  position: absolute;\n  z-index: 11;\n  max-width: 176px;\n  text-align: right;\n  border-radius: 3px;\n  padding: 0 6px 2px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center\n}\n\n.apexcharts-menu {\n  background: #fff;\n  position: absolute;\n  top: 100%;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 3px;\n  right: 10px;\n  opacity: 0;\n  min-width: 110px;\n  transition: .15s ease all;\n  pointer-events: none\n}\n\n.apexcharts-menu.apexcharts-menu-open {\n  opacity: 1;\n  pointer-events: all;\n  transition: .15s ease all\n}\n\n.apexcharts-menu-item {\n  padding: 6px 7px;\n  font-size: 12px;\n  cursor: pointer\n}\n\n.apexcharts-theme-light .apexcharts-menu-item:hover {\n  background: #eee\n}\n\n.apexcharts-theme-dark .apexcharts-menu {\n  background: rgba(0, 0, 0, .7);\n  color: #fff\n}\n\n@media screen and (min-width:768px) {\n  .apexcharts-canvas:hover .apexcharts-toolbar {\n    opacity: 1\n  }\n}\n\n.apexcharts-canvas .apexcharts-element-hidden,\n.apexcharts-datalabel.apexcharts-element-hidden,\n.apexcharts-hide .apexcharts-series-points {\n  opacity: 0;\n}\n\n.apexcharts-hidden-element-shown {\n  opacity: 1;\n  transition: 0.25s ease all;\n}\n\n.apexcharts-datalabel,\n.apexcharts-datalabel-label,\n.apexcharts-datalabel-value,\n.apexcharts-datalabels,\n.apexcharts-pie-label {\n  cursor: default;\n  pointer-events: none\n}\n\n.apexcharts-pie-label-delay {\n  opacity: 0;\n  animation-name: opaque;\n  animation-duration: .3s;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease\n}\n\n.apexcharts-radialbar-label {\n  cursor: pointer;\n}\n\n.apexcharts-annotation-rect,\n.apexcharts-area-series .apexcharts-area,\n.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,\n.apexcharts-gridline,\n.apexcharts-line,\n.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,\n.apexcharts-point-annotation-label,\n.apexcharts-radar-series path:not(.apexcharts-marker),\n.apexcharts-radar-series polygon,\n.apexcharts-toolbar svg,\n.apexcharts-tooltip .apexcharts-marker,\n.apexcharts-xaxis-annotation-label,\n.apexcharts-yaxis-annotation-label,\n.apexcharts-zoom-rect {\n  pointer-events: none\n}\n\n.apexcharts-tooltip-active .apexcharts-marker {\n  transition: .15s ease all\n}\n\n.resize-triggers {\n  animation: 1ms resizeanim;\n  visibility: hidden;\n  opacity: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden\n}\n\n.contract-trigger:before,\n.resize-triggers,\n.resize-triggers>div {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0\n}\n\n.resize-triggers>div {\n  height: 100%;\n  width: 100%;\n  background: #eee;\n  overflow: auto\n}\n\n.contract-trigger:before {\n  overflow: hidden;\n  width: 200%;\n  height: 200%\n}\n\n.apexcharts-bar-goals-markers {\n  pointer-events: none\n}\n\n.apexcharts-bar-shadows {\n  pointer-events: none\n}\n\n.apexcharts-rangebar-goals-markers {\n  pointer-events: none\n}\n';var f=(null===(d=t.opts.chart)||void 0===d?void 0:d.nonce)||t.w.config.chart.nonce;f&&h.setAttribute("nonce",f),o?n.prepend(h):r.head.appendChild(h)}var g=t.create(t.w.config.series,{});if(!g)return e(t);t.mount(g).then(function(){"function"==typeof t.w.config.chart.events.mounted&&t.w.config.chart.events.mounted(t,t.w),t.events.fireEvent("mounted",[t,t.w]),e(g)}).catch(function(x){i(x)})}else i(new Error("Element not found"))})}},{key:"create",value:function(t,e){var i=this,a=this.w;new Ae(this).initModules();var n=this.w.globals;if(n.noData=!1,n.animationEnded=!1,this.responsive.checkResponsiveConfig(e),a.config.xaxis.convertedCatToNumeric&&new Kt(a.config).convertCatToNumericXaxis(a.config,this.ctx),null===this.el||(this.core.setupElements(),"treemap"===a.config.chart.type&&(a.config.grid.show=!1,a.config.yaxis[0].show=!1),0===n.svgWidth))return n.animationEnded=!0,null;var o=t;t.forEach(function(x,y){x.hidden&&(o=i.legend.legendHelpers.getSeriesAfterCollapsing({realIndex:y}))});var r=Ht.checkComboSeries(o,a.config.chart.type);n.comboCharts=r.comboCharts,n.comboBarCount=r.comboBarCount;var h=o.every(function(x){return x.data&&0===x.data.length});(0===o.length||h&&n.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(o),this.theme.init(),new se(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),n.noData&&n.collapsedSeries.length!==n.series.length&&!a.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),n.axisCharts&&(this.core.coreCalculations(),"category"!==a.config.xaxis.type&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=a.globals.minX,this.ctx.toolbar.maxX=a.globals.maxX),this.formatters.heatmapLabelFormatters(),new Ht(this).getLargestMarkerSize(),this.dimensions.plotCoords();var d=this.core.xySettings();this.grid.createGridMask();var f=this.core.plotChartType(o,d),g=new ke(this);return g.bringForward(),a.config.dataLabels.background.enabled&&g.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:f,xyRatios:d,dimensions:{plot:{left:a.globals.translateX,top:a.globals.translateY,width:a.globals.gridWidth,height:a.globals.gridHeight}}}}},{key:"mount",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=this,a=i.w;return new Promise(function(n,o){if(null===i.el)return o(new Error("Not enough data to display or target element not found"));(null===e||a.globals.allSeriesCollapsed)&&i.series.handleNoData(),i.grid=new ai(i);var r,h,d=i.grid.drawGrid();if(i.annotations=new xt(i),i.annotations.drawImageAnnos(),i.annotations.drawTextAnnos(),"back"===a.config.grid.position&&(d&&a.globals.dom.elGraphical.add(d.el),null!=d&&null!==(r=d.elGridBorders)&&void 0!==r&&r.node&&a.globals.dom.elGraphical.add(d.elGridBorders)),Array.isArray(e.elGraph))for(var f=0;f<e.elGraph.length;f++)a.globals.dom.elGraphical.add(e.elGraph[f]);else a.globals.dom.elGraphical.add(e.elGraph);"front"===a.config.grid.position&&(d&&a.globals.dom.elGraphical.add(d.el),null!=d&&null!==(h=d.elGridBorders)&&void 0!==h&&h.node&&a.globals.dom.elGraphical.add(d.elGridBorders)),"front"===a.config.xaxis.crosshairs.position&&i.crosshairs.drawXCrosshairs(),"front"===a.config.yaxis[0].crosshairs.position&&i.crosshairs.drawYCrosshairs(),"treemap"!==a.config.chart.type&&i.axes.drawAxis(a.config.chart.type,d);var g=new Pe(t.ctx,d),x=new Be(t.ctx,d);if(null!==d&&(g.xAxisLabelCorrections(d.xAxisTickWidth),x.setYAxisTextAlignments(),a.config.yaxis.map(function(C,k){-1===a.globals.ignoreYAxisIndexes.indexOf(k)&&x.yAxisTitleRotate(k,C.opposite)})),i.annotations.drawAxesAnnotations(),!a.globals.noData){if(a.config.tooltip.enabled&&!a.globals.noData&&i.w.globals.tooltip.drawTooltip(e.xyRatios),a.globals.axisCharts&&(a.globals.isXNumeric||a.config.xaxis.convertedCatToNumeric||a.globals.isRangeBar))(a.config.chart.zoom.enabled||a.config.chart.selection&&a.config.chart.selection.enabled||a.config.chart.pan&&a.config.chart.pan.enabled)&&i.zoomPanSelection.init({xyRatios:e.xyRatios});else{var y=a.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(C){y[C]=!1})}a.config.chart.toolbar.show&&!a.globals.allSeriesCollapsed&&i.toolbar.createToolbar()}a.globals.memory.methodsToExec.length>0&&a.globals.memory.methodsToExec.forEach(function(C){C.method(C.params,!1,C.context)}),a.globals.axisCharts||a.globals.noData||i.core.resizeNonAxisCharts(),n(i)})}},{key:"destroy",value:function(){var t,e;window.removeEventListener("resize",this.windowResizeHandler),(e=re.get(t=this.parentResizeHandler))&&(e.disconnect(),re.delete(t));var i=this.w.config.chart.id;i&&Apex._chartInstances.forEach(function(a,n){a.id===X.escapeString(i)&&Apex._chartInstances.splice(n,1)}),new Gt(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=this.w;return r.globals.selection=void 0,t.series&&(this.series.resetSeries(!1,!0,!1),t.series.length&&t.series[0].data&&(t.series=t.series.map(function(h,d){return e.updateHelpers._extendSeries(h,d)})),this.updateHelpers.revertDefaultAxisMinMax()),t.xaxis&&(t=this.updateHelpers.forceXAxisUpdate(t)),t.yaxis&&(t=this.updateHelpers.forceYAxisUpdate(t)),r.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),t.theme&&(t=this.theme.updateThemeOptions(t)),this.updateHelpers._updateOptions(t,i,a,n,o)}},{key:"updateSeries",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(t,e,i)}},{key:"appendSeries",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=this.w.config.series.slice();return a.push(t),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(a,e,i)}},{key:"appendData",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this;i.w.globals.dataChanged=!0,i.series.getPreviousPaths();for(var a=i.w.config.series.slice(),n=0;n<a.length;n++)if(null!=t[n])for(var o=0;o<t[n].data.length;o++)a[n].data.push(t[n].data[o]);return i.w.config.series=a,e&&(i.w.globals.initialSeries=X.clone(i.w.config.series)),this.update()}},{key:"update",value:function(t){var e=this;return new Promise(function(i,a){new Gt(e.ctx).clear({isUpdating:!0});var n=e.create(e.w.config.series,t);if(!n)return i(e);e.mount(n).then(function(){"function"==typeof e.w.config.chart.events.updated&&e.w.config.chart.events.updated(e,e.w),e.events.fireEvent("updated",[e,e.w]),e.w.globals.isDirty=!0,i(e)}).catch(function(o){a(o)})})}},{key:"getSyncedCharts",value:function(){var t=this.getGroupedCharts(),e=[this];return t.length&&(e=[],t.forEach(function(i){e.push(i)})),e}},{key:"getGroupedCharts",value:function(){var t=this;return Apex._chartInstances.filter(function(e){if(e.group)return!0}).map(function(e){return t.w.config.chart.group===e.group?e.chart:t})}},{key:"toggleSeries",value:function(t){return this.series.toggleSeries(t)}},{key:"highlightSeriesOnLegendHover",value:function(t,e){return this.series.toggleSeriesOnHover(t,e)}},{key:"showSeries",value:function(t){this.series.showSeries(t)}},{key:"hideSeries",value:function(t){this.series.hideSeries(t)}},{key:"highlightSeries",value:function(t){this.series.highlightSeries(t)}},{key:"isSeriesHidden",value:function(t){this.series.isSeriesHidden(t)}},{key:"resetSeries",value:function(){this.series.resetSeries(!(arguments.length>0&&void 0!==arguments[0])||arguments[0],!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}},{key:"addEventListener",value:function(t,e){this.events.addEventListener(t,e)}},{key:"removeEventListener",value:function(t,e){this.events.removeEventListener(t,e)}},{key:"addXaxisAnnotation",value:function(t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=this;i&&(a=i),a.annotations.addXaxisAnnotationExternal(t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a)}},{key:"addYaxisAnnotation",value:function(t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=this;i&&(a=i),a.annotations.addYaxisAnnotationExternal(t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a)}},{key:"addPointAnnotation",value:function(t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=this;i&&(a=i),a.annotations.addPointAnnotationExternal(t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a)}},{key:"clearAnnotations",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,e=this;t&&(e=t),e.annotations.clearAnnotations(e)}},{key:"removeAnnotation",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=this;e&&(i=e),i.annotations.removeAnnotation(i,t)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(t,e){return this.coreUtils.getSeriesTotalsXRange(t,e)}},{key:"getHighestValueInSeries",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new We(this.ctx).getMinYMaxY(t).highestY}},{key:"getLowestValueInSeries",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new We(this.ctx).getMinYMaxY(t).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(t,e){return this.updateHelpers.toggleDataPointSelection(t,e)}},{key:"zoomX",value:function(t,e){this.ctx.toolbar.zoomUpdateOptions(t,e)}},{key:"setLocale",value:function(t){this.localization.setCurrentLocaleValues(t)}},{key:"dataURI",value:function(t){return new Fe(this.ctx).dataURI(t)}},{key:"exportToCSV",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Fe(this.ctx).exportToCSV(t)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var t=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){t.w.globals.resized=!0,t.w.globals.dataChanged=!1,t.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var t=this.w.config.chart.redrawOnWindowResize;"function"==typeof t&&(t=t()),t&&this._windowResize()}}],[{key:"getChartByID",value:function(t){var e=X.escapeString(t);if(Apex._chartInstances){var i=Apex._chartInstances.filter(function(a){return a.id===e})[0];return i&&i.chart}}},{key:"initOnLoad",value:function(){for(var t=document.querySelectorAll("[data-apexcharts]"),e=0;e<t.length;e++)new E(t[e],JSON.parse(t[e].getAttribute("data-options"))).render()}},{key:"exec",value:function(t,e){var i=this.getChartByID(t);if(i){i.w.globals.isExecCalled=!0;var a=null;if(-1!==i.publicMethods.indexOf(e)){for(var n=arguments.length,o=new Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];a=i[e].apply(i,o)}return a}}},{key:"merge",value:function(t,e){return X.extend(t,e)}}]),E}();return _i}),function(Q,gt){"object"==typeof exports&&typeof module<"u"?gt(exports):"function"==typeof define&&define.amd?define(["exports"],gt):gt((Q=typeof globalThis<"u"?globalThis:Q||self).leaflet={})}(this,function(Q){"use strict";function gt(s){for(var l,p,_=1,S=arguments.length;_<S;_++)for(l in p=arguments[_])s[l]=p[l];return s}var ot=Object.create||function(s){return we.prototype=s,new we};function we(){}function v(s,l){var p,_=Array.prototype.slice;return s.bind?s.bind.apply(s,_.call(arguments,1)):(p=_.call(arguments,2),function(){return s.apply(l,p.length?p.concat(_.call(arguments)):arguments)})}var P=0;function R(s){return"_leaflet_id"in s||(s._leaflet_id=++P),s._leaflet_id}function Z(s,l,p){var _,S,O=function(){_=!1,S&&(G.apply(p,S),S=!1)},G=function(){_?S=arguments:(s.apply(p,arguments),setTimeout(O,l),_=!0)};return G}function it(s,S,p){var _=S[1],O=_-(S=S[0]);return s===_&&p?s:((s-S)%O+O)%O+S}function J(){return!1}function at(s,l){return!1===l?s:(l=Math.pow(10,void 0===l?6:l),Math.round(s*l)/l)}function vt(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function $(s){return vt(s).split(/\s+/)}function At(s,l){for(var p in Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?ot(s.options):{}),l)s.options[p]=l[p];return s.options}function je(s,l,p){var _,S=[];for(_ in s)S.push(encodeURIComponent(p?_.toUpperCase():_)+"="+encodeURIComponent(s[_]));return(l&&-1!==l.indexOf("?")?"&":"?")+S.join("&")}var Vt=/\{ *([\w_ -]+) *\}/g;function he(s,l){return s.replace(Vt,function(p,_){if(void 0===(_=l[_]))throw new Error("No value provided for variable "+p);return"function"==typeof _?_(l):_})}var zt=Array.isArray||function(s){return"[object Array]"===Object.prototype.toString.call(s)};function Re(s,l){for(var p=0;p<s.length;p++)if(s[p]===l)return p;return-1}var X="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function xe(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var $t=0;function U(s){var l=+new Date,p=Math.max(0,16-(l-$t));return $t=l+p,window.setTimeout(s,p)}var Ht=window.requestAnimationFrame||xe("RequestAnimationFrame")||U,pe=window.cancelAnimationFrame||xe("CancelAnimationFrame")||xe("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function jt(s,l,p){if(!p||Ht!==U)return Ht.call(window,v(s,l));s.call(l)}function Pt(s){s&&pe.call(window,s)}var ce={__proto__:null,extend:gt,create:ot,bind:v,get lastId(){return P},stamp:R,throttle:Z,wrapNum:it,falseFn:J,formatNum:at,trim:vt,splitWords:$,setOptions:At,getParamString:je,template:he,isArray:zt,indexOf:Re,emptyImageUrl:X,requestFn:Ht,cancelFn:pe,requestAnimFrame:jt,cancelAnimFrame:Pt};function Zt(){}Zt.extend=function(s){function l(){At(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()}var p,_=l.__super__=this.prototype,S=ot(_);for(p in(S.constructor=l).prototype=S,this)Object.prototype.hasOwnProperty.call(this,p)&&"prototype"!==p&&"__super__"!==p&&(l[p]=this[p]);if(s.statics&&gt(l,s.statics),s.includes){var O=s.includes;if(typeof L<"u"&&L&&L.Mixin){O=zt(O)?O:[O];for(var G=0;G<O.length;G++)O[G]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}gt.apply(null,[S].concat(s.includes))}return gt(S,s),delete S.statics,delete S.includes,S.options&&(S.options=_.options?ot(_.options):{},gt(S.options,s.options)),S._initHooks=[],S.callInitHooks=function(){if(!this._initHooksCalled){_.callInitHooks&&_.callInitHooks.call(this),this._initHooksCalled=!0;for(var W=0,K=S._initHooks.length;W<K;W++)S._initHooks[W].call(this)}},l},Zt.include=function(s){var l=this.prototype.options;return gt(this.prototype,s),s.options&&(this.prototype.options=l,this.mergeOptions(s.options)),this},Zt.mergeOptions=function(s){return gt(this.prototype.options,s),this},Zt.addInitHook=function(s){var l=Array.prototype.slice.call(arguments,1),p="function"==typeof s?s:function(){this[s].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};var Qt={on:function(s,l,p){if("object"==typeof s)for(var _ in s)this._on(_,s[_],l);else for(var S=0,O=(s=$(s)).length;S<O;S++)this._on(s[S],l,p);return this},off:function(s,l,p){if(arguments.length)if("object"==typeof s)for(var _ in s)this._off(_,s[_],l);else{s=$(s);for(var S=1===arguments.length,O=0,G=s.length;O<G;O++)S?this._off(s[O]):this._off(s[O],l,p)}else delete this._events;return this},_on:function(s,l,p,_){"function"!=typeof l?console.warn("wrong listener type: "+typeof l):!1===this._listens(s,l,p)&&(l={fn:l,ctx:p=p===this?void 0:p},_&&(l.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(l))},_off:function(s,l,p){var _,S,O;if(this._events&&(_=this._events[s]))if(1===arguments.length){if(this._firingCount)for(S=0,O=_.length;S<O;S++)_[S].fn=J;delete this._events[s]}else"function"!=typeof l?console.warn("wrong listener type: "+typeof l):!1!==(l=this._listens(s,l,p))&&(p=_[l],this._firingCount&&(p.fn=J,this._events[s]=_=_.slice()),_.splice(l,1))},fire:function(s,l,p){if(this.listens(s,p)){var _=gt({},l,{type:s,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var S=this._events[s];if(S){this._firingCount=this._firingCount+1||1;for(var O=0,G=S.length;O<G;O++){var W=S[O],K=W.fn;W.once&&this.off(s,K,W.ctx),K.call(W.ctx||this,_)}this._firingCount--}}p&&this._propagateEvent(_)}return this},listens:function(s,l,p,_){"string"!=typeof s&&console.warn('"string" type argument expected');var S=l,O=("function"!=typeof l&&(_=!!l,p=S=void 0),this._events&&this._events[s]);if(O&&O.length&&!1!==this._listens(s,S,p))return!0;if(_)for(var G in this._eventParents)if(this._eventParents[G].listens(s,l,p,_))return!0;return!1},_listens:function(s,l,p){if(this._events){var _=this._events[s]||[];if(!l)return!!_.length;p===this&&(p=void 0);for(var S=0,O=_.length;S<O;S++)if(_[S].fn===l&&_[S].ctx===p)return S}return!1},once:function(s,l,p){if("object"==typeof s)for(var _ in s)this._on(_,s[_],l,!0);else for(var S=0,O=(s=$(s)).length;S<O;S++)this._on(s[S],l,p,!0);return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[R(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[R(s)],this},_propagateEvent:function(s){for(var l in this._eventParents)this._eventParents[l].fire(s.type,gt({layer:s.target,propagatedFrom:s.target},s),!0)}},_e=(Qt.addEventListener=Qt.on,Qt.removeEventListener=Qt.clearAllEventListeners=Qt.off,Qt.addOneTimeEventListener=Qt.once,Qt.fireEvent=Qt.fire,Qt.hasEventListeners=Qt.listens,Zt.extend(Qt));function ft(s,l,p){this.x=p?Math.round(s):s,this.y=p?Math.round(l):l}var ve=Math.trunc||function(s){return 0<s?Math.floor(s):Math.ceil(s)};function xt(s,l,p){return s instanceof ft?s:zt(s)?new ft(s[0],s[1]):null==s?s:"object"==typeof s&&"x"in s&&"y"in s?new ft(s.x,s.y):new ft(s,l,p)}function wt(s,l){if(s)for(var p=l?[s,l]:s,_=0,S=p.length;_<S;_++)this.extend(p[_])}function te(s,l){return!s||s instanceof wt?s:new wt(s,l)}function Kt(s,l){if(s)for(var p=l?[s,l]:s,_=0,S=p.length;_<S;_++)this.extend(p[_])}function Ot(s,l){return s instanceof Kt?s:new Kt(s,l)}function Et(s,l,p){if(isNaN(s)||isNaN(l))throw new Error("Invalid LatLng object: ("+s+", "+l+")");this.lat=+s,this.lng=+l,void 0!==p&&(this.alt=+p)}function _t(s,l,p){return s instanceof Et?s:zt(s)&&"object"!=typeof s[0]?3===s.length?new Et(s[0],s[1],s[2]):2===s.length?new Et(s[0],s[1]):null:null==s?s:"object"==typeof s&&"lat"in s?new Et(s.lat,"lng"in s?s.lng:s.lon,s.alt):void 0===l?null:new Et(s,l,p)}ft.prototype={clone:function(){return new ft(this.x,this.y)},add:function(s){return this.clone()._add(xt(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(xt(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new ft(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new ft(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ve(this.x),this.y=ve(this.y),this},distanceTo:function(p){var l=(p=xt(p)).x-this.x;return p=p.y-this.y,Math.sqrt(l*l+p*p)},equals:function(s){return(s=xt(s)).x===this.x&&s.y===this.y},contains:function(s){return s=xt(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+at(this.x)+", "+at(this.y)+")"}},wt.prototype={extend:function(s){var l,p;if(s){if(s instanceof ft||"number"==typeof s[0]||"x"in s)l=p=xt(s);else if(l=(s=te(s)).min,p=s.max,!l||!p)return this;this.min||this.max?(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)):(this.min=l.clone(),this.max=p.clone())}return this},getCenter:function(s){return xt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return xt(this.min.x,this.max.y)},getTopRight:function(){return xt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var l,p;return(s=("number"==typeof s[0]||s instanceof ft?xt:te)(s))instanceof wt?(l=s.min,p=s.max):l=p=s,l.x>=this.min.x&&p.x<=this.max.x&&l.y>=this.min.y&&p.y<=this.max.y},intersects:function(O){O=te(O);var l=this.min,p=this.max,_=O.min,S=(O=O.max).x>=l.x&&_.x<=p.x;return O=O.y>=l.y&&_.y<=p.y,S&&O},overlaps:function(O){O=te(O);var l=this.min,p=this.max,_=O.min,S=(O=O.max).x>l.x&&_.x<p.x;return O=O.y>l.y&&_.y<p.y,S&&O},isValid:function(){return!(!this.min||!this.max)},pad:function(S){var l=this.min,p=this.max,_=Math.abs(l.x-p.x)*S;return S=Math.abs(l.y-p.y)*S,te(xt(l.x-_,l.y-S),xt(p.x+_,p.y+S))},equals:function(s){return!!s&&(s=te(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight()))}},Kt.prototype={extend:function(s){var l,p,_=this._southWest,S=this._northEast;if(s instanceof Et)p=l=s;else{if(!(s instanceof Kt))return s?this.extend(_t(s)||Ot(s)):this;if(p=s._northEast,!(l=s._southWest)||!p)return this}return _||S?(_.lat=Math.min(l.lat,_.lat),_.lng=Math.min(l.lng,_.lng),S.lat=Math.max(p.lat,S.lat),S.lng=Math.max(p.lng,S.lng)):(this._southWest=new Et(l.lat,l.lng),this._northEast=new Et(p.lat,p.lng)),this},pad:function(S){var l=this._southWest,p=this._northEast,_=Math.abs(l.lat-p.lat)*S;return S=Math.abs(l.lng-p.lng)*S,new Kt(new Et(l.lat-_,l.lng-S),new Et(p.lat+_,p.lng+S))},getCenter:function(){return new Et((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Et(this.getNorth(),this.getWest())},getSouthEast:function(){return new Et(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){s=("number"==typeof s[0]||s instanceof Et||"lat"in s?_t:Ot)(s);var l,p,_=this._southWest,S=this._northEast;return s instanceof Kt?(l=s.getSouthWest(),p=s.getNorthEast()):l=p=s,l.lat>=_.lat&&p.lat<=S.lat&&l.lng>=_.lng&&p.lng<=S.lng},intersects:function(O){O=Ot(O);var l=this._southWest,p=this._northEast,_=O.getSouthWest(),S=(O=O.getNorthEast()).lat>=l.lat&&_.lat<=p.lat;return O=O.lng>=l.lng&&_.lng<=p.lng,S&&O},overlaps:function(O){O=Ot(O);var l=this._southWest,p=this._northEast,_=O.getSouthWest(),S=(O=O.getNorthEast()).lat>l.lat&&_.lat<p.lat;return O=O.lng>l.lng&&_.lng<p.lng,S&&O},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,l){return!!s&&(s=Ot(s),this._southWest.equals(s.getSouthWest(),l)&&this._northEast.equals(s.getNorthEast(),l))},isValid:function(){return!(!this._southWest||!this._northEast)}};var Ft={latLngToPoint:function(s,l){return s=this.projection.project(s),l=this.scale(l),this.transformation._transform(s,l)},pointToLatLng:function(s,l){return l=this.scale(l),s=this.transformation.untransform(s,l),this.projection.unproject(s)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){var l;return this.infinite?null:(l=this.projection.bounds,s=this.scale(s),new wt(this.transformation.transform(l.min,s),this.transformation.transform(l.max,s)))},infinite:!(Et.prototype={equals:function(s,l){return!!s&&(s=_t(s),Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng))<=(void 0===l?1e-9:l))},toString:function(s){return"LatLng("+at(this.lat,s)+", "+at(this.lng,s)+")"},distanceTo:function(s){return se.distance(this,_t(s))},wrap:function(){return se.wrapLatLng(this)},toBounds:function(l){var p=(l=180*l/40075017)/Math.cos(Math.PI/180*this.lat);return Ot([this.lat-l,this.lng-p],[this.lat+l,this.lng+p])},clone:function(){return new Et(this.lat,this.lng,this.alt)}}),wrapLatLng:function(s){var l=this.wrapLng?it(s.lng,this.wrapLng,!0):s.lng;return new Et(this.wrapLat?it(s.lat,this.wrapLat,!0):s.lat,l,s.alt)},wrapLatLngBounds:function(s){var _=s.getCenter(),l=this.wrapLatLng(_),p=_.lat-l.lat;return _=_.lng-l.lng,0==p&&0==_?s:(l=s.getSouthWest(),s=s.getNorthEast(),new Kt(new Et(l.lat-p,l.lng-_),new Et(s.lat-p,s.lng-_)))}},se=gt({},Ft,{wrapLng:[-180,180],R:6371e3,distance:function(G,O){var W=Math.PI/180,p=G.lat*W,_=O.lat*W,S=Math.sin((O.lat-G.lat)*W/2);return O=Math.sin((O.lng-G.lng)*W/2),G=S*S+Math.cos(p)*Math.cos(_)*O*O,W=2*Math.atan2(Math.sqrt(G),Math.sqrt(1-G)),this.R*W}}),de={R:de=6378137,MAX_LATITUDE:85.0511287798,project:function(s){var l=Math.PI/180,p=this.MAX_LATITUDE;return p=Math.max(Math.min(p,s.lat),-p),p=Math.sin(p*l),new ft(this.R*s.lng*l,this.R*Math.log((1+p)/(1-p))/2)},unproject:function(s){var l=180/Math.PI;return new Et((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*l,s.x*l/this.R)},bounds:new wt([-(de*=Math.PI),-de],[de,de])};function ke(s,l,p,_){zt(s)?(this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3]):(this._a=s,this._b=l,this._c=p,this._d=_)}function Jt(s,l,p,_){return new ke(s,l,p,_)}ke.prototype={transform:function(s,l){return this._transform(s.clone(),l)},_transform:function(s,l){return s.x=(l=l||1)*(this._a*s.x+this._b),s.y=l*(this._c*s.y+this._d),s},untransform:function(s,l){return new ft((s.x/(l=l||1)-this._b)/this._a,(s.y/l-this._d)/this._c)}};var Le=gt({},se,{code:"EPSG:3857",projection:de,transformation:Jt(Le=.5/(Math.PI*de.R),.5,-Le,.5)}),Fe=gt({},Le,{code:"EPSG:900913"});function Pe(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function ai(s,l){for(var p,_,S,O,G="",W=0,K=s.length;W<K;W++){for(p=0,_=(S=s[W]).length;p<_;p++)G+=(p?"L":"M")+(O=S[p]).x+" "+O.y;G+=l?dt.svg?"z":"x":""}return G||"M0 0"}var ii=document.documentElement.style,Ne="ActiveXObject"in window,w=Ne&&!document.addEventListener,Y="msLaunchUri"in navigator&&!("documentMode"in document),V=be("webkit"),mt=be("android"),Bt=be("android 2")||be("android 3"),Xt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ut=(Xt=mt&&be("Google")&&Xt<537&&!("AudioNode"in window),!!window.opera),ze=!Y&&be("chrome"),We=be("gecko")&&!V&&!Ut&&!Ne,di=!ze&&be("safari"),ui=be("phantom"),le="OTransition"in ii,Be=0===navigator.platform.indexOf("Win"),Zi=Ne&&"transition"in ii,Ri="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Bt,Ji=(ii="MozPerspective"in ii,!window.L_DISABLE_3D&&(Zi||Ri||ii)&&!le&&!ui),Qi=(gi=typeof orientation<"u"||be("mobile"))&&V,ta=gi&&Ri,Bi=!window.PointerEvent&&window.MSPointerEvent,Hi=!(!window.PointerEvent&&!Bi),fi="ontouchstart"in window||!!window.TouchEvent,Li=!window.L_NO_TOUCH&&(fi||Hi),Ci=gi&&Ut,si=gi&&We,Ai=1<(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI),Si=function(){var s=!1;try{var l=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",J,l),window.removeEventListener("testPassiveEventSupport",J,l)}catch{}return s}(),mi=!!document.createElement("canvas").getContext,ni=!(!document.createElementNS||!Pe("svg").createSVGRect),oi=!!ni&&((oi=document.createElement("div")).innerHTML="<svg/>","http://www.w3.org/2000/svg"===(oi.firstChild&&oi.firstChild.namespaceURI));function be(s){return 0<=navigator.userAgent.toLowerCase().indexOf(s)}var dt={ie:Ne,ielt9:w,edge:Y,webkit:V,android:mt,android23:Bt,androidStock:Xt,opera:Ut,chrome:ze,gecko:We,safari:di,phantom:ui,opera12:le,win:Be,ie3d:Zi,webkit3d:Ri,gecko3d:ii,any3d:Ji,mobile:gi,mobileWebkit:Qi,mobileWebkit3d:ta,msPointer:Bi,pointer:Hi,touch:Li,touchNative:fi,mobileOpera:Ci,mobileGecko:si,retina:Ai,passiveEvents:Si,canvas:mi,svg:ni,vml:!ni&&function(){try{var s=document.createElement("div"),l=(s.innerHTML='<v:shape adj="1"/>',s.firstChild);return l.style.behavior="url(#default#VML)",l&&"object"==typeof l.adj}catch{return!1}}(),inlineSvg:oi,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},Ze=dt.msPointer?"MSPointerDown":"pointerdown",xi=dt.msPointer?"MSPointerMove":"pointermove",ri=dt.msPointer?"MSPointerUp":"pointerup",li=dt.msPointer?"MSPointerCancel":"pointercancel",vi={touchstart:Ze,touchmove:xi,touchend:ri,touchcancel:li},bi={touchstart:function(s,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&k(l),ee(s,l)},touchmove:ee,touchend:ee,touchcancel:ee},yt={},hi=!1;function He(s){yt[s.pointerId]=s}function Di(s){yt[s.pointerId]&&(yt[s.pointerId]=s)}function Te(s){delete yt[s.pointerId]}function ee(s,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){for(var p in l.touches=[],yt)l.touches.push(yt[p]);l.changedTouches=[l],s(l)}}var Yt,Dt,Ge,Ce,Ue,ge,Ii=200,wi=ci(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Wt=ci(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),fe="webkitTransition"===Wt||"OTransition"===Wt?Wt+"End":"transitionend";function Ye(s){return"string"==typeof s?document.getElementById(s):s}function qe(s,l){var p=s.style[l]||s.currentStyle&&s.currentStyle[l];return"auto"===(p=p&&"auto"!==p||!document.defaultView?p:(s=document.defaultView.getComputedStyle(s,null))?s[l]:null)?null:p}function Mt(s,l,p){return(s=document.createElement(s)).className=l||"",p&&p.appendChild(s),s}function Nt(s){var l=s.parentNode;l&&l.removeChild(s)}function ye(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Ee(s){var l=s.parentNode;l&&l.lastChild!==s&&l.appendChild(s)}function ne(s){var l=s.parentNode;l&&l.firstChild!==s&&l.insertBefore(s,l.firstChild)}function De(s,l){return void 0!==s.classList?s.classList.contains(l):0<(s=$e(s)).length&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(s)}function pt(s,l){var p;if(void 0!==s.classList)for(var _=$(l),S=0,O=_.length;S<O;S++)s.classList.add(_[S]);else De(s,l)||Ie(s,((p=$e(s))?p+" ":"")+l)}function Tt(s,l){void 0!==s.classList?s.classList.remove(l):Ie(s,vt((" "+$e(s)+" ").replace(" "+l+" "," ")))}function Ie(s,l){void 0===s.className.baseVal?s.className=l:s.className.baseVal=l}function $e(s){return void 0===(s=s.correspondingElement?s.correspondingElement:s).className.baseVal?s.className:s.className.baseVal}function oe(s,l){if("opacity"in s.style)s.style.opacity=l;else if("filter"in s.style){var p=!1,_="DXImageTransform.Microsoft.Alpha";try{p=s.filters.item(_)}catch{if(1===l)return}l=Math.round(100*l),p?(p.Enabled=100!==l,p.Opacity=l):s.style.filter+=" progid:"+_+"(opacity="+l+")"}}function ci(s){for(var l=document.documentElement.style,p=0;p<s.length;p++)if(s[p]in l)return s[p];return!1}function Ae(s,l,p){l=l||new ft(0,0),s.style[wi]=(dt.ie3d?"translate("+l.x+"px,"+l.y+"px)":"translate3d("+l.x+"px,"+l.y+"px,0)")+(p?" scale("+p+")":"")}function Gt(s,l){s._leaflet_pos=l,dt.any3d?Ae(s,l):(s.style.left=l.x+"px",s.style.top=l.y+"px")}function re(s){return s._leaflet_pos||new ft(0,0)}function _i(){n(window,"dragstart",k)}function E(){r(window,"dragstart",k)}function t(s){for(;-1===s.tabIndex;)s=s.parentNode;s.style&&(e(),ge=(Ue=s).style.outlineStyle,s.style.outlineStyle="none",n(window,"keydown",e))}function e(){Ue&&(Ue.style.outlineStyle=ge,ge=Ue=void 0,r(window,"keydown",e))}function i(s){for(;!((s=s.parentNode).offsetWidth&&s.offsetHeight||s===document.body););return s}function a(s){var l=s.getBoundingClientRect();return{x:l.width/s.offsetWidth||1,y:l.height/s.offsetHeight||1,boundingClientRect:l}}function n(s,l,p,_){if(l&&"object"==typeof l)for(var S in l)f(s,S,l[S],p);else for(var O=0,G=(l=$(l)).length;O<G;O++)f(s,l[O],p,_);return this}Ce="onselectstart"in document?(Ge=function(){n(window,"selectstart",k)},function(){r(window,"selectstart",k)}):(Dt=ci(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]),Ge=function(){var s;Dt&&(s=document.documentElement.style,Yt=s[Dt],s[Dt]="none")},function(){Dt&&(document.documentElement.style[Dt]=Yt,Yt=void 0)}),Ne={__proto__:null,TRANSFORM:wi,TRANSITION:Wt,TRANSITION_END:fe,get:Ye,getStyle:qe,create:Mt,remove:Nt,empty:ye,toFront:Ee,toBack:ne,hasClass:De,addClass:pt,removeClass:Tt,setClass:Ie,getClass:$e,setOpacity:oe,testProp:ci,setTransform:Ae,setPosition:Gt,getPosition:re,get disableTextSelection(){return Ge},get enableTextSelection(){return Ce},disableImageDrag:_i,enableImageDrag:E,preventOutline:t,restoreOutline:e,getSizedParentNode:i,getScale:a};var o="_leaflet_events";function r(s,l,p,_){if(1===arguments.length)h(s),delete s[o];else if(l&&"object"==typeof l)for(var S in l)g(s,S,l[S],p);else if(l=$(l),2===arguments.length)h(s,function(W){return-1!==Re(l,W)});else for(var O=0,G=l.length;O<G;O++)g(s,l[O],p,_);return this}function h(s,l){for(var p in s[o]){var _=p.split(/\d/)[0];l&&!l(_)||g(s,_,null,null,p)}}var d={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function f(s,l,p,_){var S,O,G=l+R(p)+(_?"_"+R(_):"");s[o]&&s[o][G]||(O=S=function(W){return p.call(_||s,W||window.event)},!dt.touchNative&&dt.pointer&&0===l.indexOf("touch")?S=function yi(s,l,p){return"touchstart"!==l||hi||(document.addEventListener(Ze,He,!0),document.addEventListener(xi,Di,!0),document.addEventListener(ri,Te,!0),document.addEventListener(li,Te,!0),hi=!0),bi[l]?(p=bi[l].bind(this,p),s.addEventListener(vi[l],p,!1),p):(console.warn("wrong event specified:",l),J)}(s,l,S):dt.touch&&"dblclick"===l?S=function Xe(s,l){s.addEventListener("dblclick",l);var p,_=0;function S(O){var G;1!==O.detail?p=O.detail:"mouse"===O.pointerType||O.sourceCapabilities&&!O.sourceCapabilities.firesTouchEvents||(G=D(O)).some(function(W){return W instanceof HTMLLabelElement&&W.attributes.for})&&!G.some(function(W){return W instanceof HTMLInputElement||W instanceof HTMLSelectElement})||((G=Date.now())-_<=Ii?2==++p&&l(function(W){var K,nt,ct={};for(nt in W)ct[nt]=(K=W[nt])&&K.bind?K.bind(W):K;return(W=ct).type="dblclick",ct.detail=2,ct.isTrusted=!1,ct._simulated=!0,ct}(O)):p=1,_=G)}return s.addEventListener("click",S),{dblclick:l,simDblclick:S}}(s,S):"addEventListener"in s?"touchstart"===l||"touchmove"===l||"wheel"===l||"mousewheel"===l?s.addEventListener(d[l]||l,S,!!dt.passiveEvents&&{passive:!1}):"mouseenter"===l||"mouseleave"===l?s.addEventListener(d[l],S=function(W){W=W||window.event,m(s,W)&&O(W)},!1):s.addEventListener(l,O,!1):s.attachEvent("on"+l,S),s[o]=s[o]||{},s[o][G]=S)}function g(s,l,W,_,S){var O,G;S=S||l+R(W)+(_?"_"+R(_):""),(W=s[o]&&s[o][S])&&(!dt.touchNative&&dt.pointer&&0===l.indexOf("touch")?(_=s,G=W,vi[O=l]?_.removeEventListener(vi[O],G,!1):console.warn("wrong event specified:",O)):dt.touch&&"dblclick"===l?((G=s).removeEventListener("dblclick",(_=W).dblclick),G.removeEventListener("click",_.simDblclick)):"removeEventListener"in s?s.removeEventListener(d[l]||l,W,!1):s.detachEvent("on"+l,W),s[o][S]=null)}function x(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function y(s){return f(s,"wheel",x),this}function C(s){return n(s,"mousedown touchstart dblclick contextmenu",x),s._leaflet_disable_click=!0,this}function k(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function M(s){return k(s),x(s),this}function D(s){if(s.composedPath)return s.composedPath();for(var l=[],p=s.target;p;)l.push(p),p=p.parentNode;return l}function I(s,l){var p,_;return l?(_=(p=a(l)).boundingClientRect,new ft((s.clientX-_.left)/p.x-l.clientLeft,(s.clientY-_.top)/p.y-l.clientTop)):new ft(s.clientX,s.clientY)}var c=dt.linux&&dt.chrome?window.devicePixelRatio:dt.mac?3*window.devicePixelRatio:0<window.devicePixelRatio?2*window.devicePixelRatio:1;function u(s){return dt.edge?s.wheelDeltaY/2:s.deltaY&&0===s.deltaMode?-s.deltaY/c:s.deltaY&&1===s.deltaMode?20*-s.deltaY:s.deltaY&&2===s.deltaMode?60*-s.deltaY:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?20*-s.detail:s.detail?s.detail/-32765*60:0}function m(s,l){var p=l.relatedTarget;if(!p)return!0;try{for(;p&&p!==s;)p=p.parentNode}catch{return!1}return p!==s}w={__proto__:null,on:n,off:r,stopPropagation:x,disableScrollPropagation:y,disableClickPropagation:C,preventDefault:k,stop:M,getPropagationPath:D,getMousePosition:I,getWheelDelta:u,isExternalTarget:m,addListener:n,removeListener:r};var b=_e.extend({run:function(s,l,p,_){this.stop(),this._el=s,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=re(s),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=jt(this._animate,this),this._step()},_step:function(s){var l=+new Date-this._startTime,p=1e3*this._duration;l<p?this._runFrame(this._easeOut(l/p),s):(this._runFrame(1),this._complete())},_runFrame:function(s,l){s=this._startPos.add(this._offset.multiplyBy(s)),l&&s._round(),Gt(this._el,s),this.fire("step")},_complete:function(){Pt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),A=_e.extend({options:{crs:Le,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,l){l=At(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=v(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),void 0!==l.zoom&&(this._zoom=this._limitZoom(l.zoom)),l.center&&void 0!==l.zoom&&this.setView(_t(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Wt&&dt.any3d&&!dt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),n(this._proxy,fe,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,l,p){return l=void 0===l?this._zoom:this._limitZoom(l),s=this._limitCenter(_t(s),l,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&!0!==p&&(void 0!==p.animate&&(p.zoom=gt({animate:p.animate},p.zoom),p.pan=gt({animate:p.animate,duration:p.duration},p.pan)),this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,l,p.zoom):this._tryAnimatedPan(s,p.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(s,l,p.pan&&p.pan.noMoveStart),this)},setZoom:function(s,l){return this._loaded?this.setView(this.getCenter(),s,{zoom:l}):(this._zoom=s,this)},zoomIn:function(s,l){return this.setZoom(this._zoom+(s=s||(dt.any3d?this.options.zoomDelta:1)),l)},zoomOut:function(s,l){return this.setZoom(this._zoom-(s=s||(dt.any3d?this.options.zoomDelta:1)),l)},setZoomAround:function(S,l,p){var O=this.getZoomScale(l),_=this.getSize().divideBy(2);return S=(S instanceof ft?S:this.latLngToContainerPoint(S)).subtract(_).multiplyBy(1-1/O),O=this.containerPointToLatLng(_.add(S)),this.setView(O,l,{zoom:p})},_getBoundsCenterZoom:function(s,l){l=l||{},s=s.getBounds?s.getBounds():Ot(s);var p=xt(l.paddingTopLeft||l.padding||[0,0]),_=xt(l.paddingBottomRight||l.padding||[0,0]),S=this.getBoundsZoom(s,!1,p.add(_));return(S="number"==typeof l.maxZoom?Math.min(l.maxZoom,S):S)===1/0?{center:s.getCenter(),zoom:S}:(l=_.subtract(p).divideBy(2),_=this.project(s.getSouthWest(),S),p=this.project(s.getNorthEast(),S),{center:this.unproject(_.add(p).divideBy(2).add(l),S),zoom:S})},fitBounds:function(s,l){if((s=Ot(s)).isValid())return s=this._getBoundsCenterZoom(s,l),this.setView(s.center,s.zoom,l);throw new Error("Bounds are not valid.")},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,l){return this.setView(s,this._zoom,{pan:l})},panBy:function(s,l){var p;return l=l||{},(s=xt(s).round()).x||s.y?(!0===l.animate||this.getSize().contains(s)?(this._panAnim||(this._panAnim=new b,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),!1!==l.animate?(pt(this._mapPane,"leaflet-pan-anim"),p=this._getMapPanePos().subtract(s).round(),this._panAnim.run(this._mapPane,p,l.duration||.25,l.easeLinearity)):(this._rawPanBy(s),this.fire("move").fire("moveend"))):this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this):this.fire("moveend")},flyTo:function(s,l,p){if(!1===(p=p||{}).animate||!dt.any3d)return this.setView(s,l,p);this._stop();var _=this.project(this.getCenter()),S=this.project(s),O=this.getSize(),G=this._zoom,W=(s=_t(s),l=void 0===l?G:l,Math.max(O.x,O.y)),K=W*this.getZoomScale(G,l),nt=S.distanceTo(_)||1,ct=1.42,Lt=ct*ct;function Ct(ae){return ae=(K*K-W*W+(ae?-1:1)*Lt*Lt*nt*nt)/(2*(ae?K:W)*Lt*nt),(ae=Math.sqrt(ae*ae+1)-ae)<1e-9?-18:Math.log(ae)}function qt(ae){return(Math.exp(ae)-Math.exp(-ae))/2}function Se(ae){return(Math.exp(ae)+Math.exp(-ae))/2}var me=Ct(0),ba=Date.now(),ma=(Ct(1)-me)/ct,ya=p.duration?1e3*p.duration:1e3*ma*.8;return this._moveStart(!0,p.noMoveStart),function ae(){var ea=(Date.now()-ba)/ya,xa=(1-Math.pow(1-ea,1.5))*ma;ea<=1?(this._flyToFrame=jt(ae,this),this._move(this.unproject(_.add(S.subtract(_).multiplyBy(function Me(ae){return W*(Se(me)*(qt(ae=me+ct*ae)/Se(ae))-qt(me))/Lt}(xa)/nt)),G),this.getScaleZoom(W/(ea=xa,W*(Se(me)/Se(me+ct*ea))),G),{flyTo:!0})):this._move(s,l)._moveEnd(!0)}.call(this),this},flyToBounds:function(s,l){return s=this._getBoundsCenterZoom(s,l),this.flyTo(s.center,s.zoom,l)},setMaxBounds:function(s){return s=Ot(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var l=this.options.minZoom;return this.options.minZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var l=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(_,l){this._enforcingBounds=!0;var p=this.getCenter();return _=this._limitCenter(p,this._zoom,Ot(_)),p.equals(_)||this.panTo(_,l),this._enforcingBounds=!1,this},panInside:function(S,l){var O=xt((l=l||{}).paddingTopLeft||l.padding||[0,0]),p=xt(l.paddingBottomRight||l.padding||[0,0]),_=this.project(this.getCenter()),G=(S=this.project(S),(O=te([(G=this.getPixelBounds()).min.add(O),G.max.subtract(p)])).getSize());return O.contains(S)||(this._enforcingBounds=!0,p=S.subtract(O.getCenter()),O=O.extend(S).getSize().subtract(G),_.x+=p.x<0?-O.x:O.x,_.y+=p.y<0?-O.y:O.y,this.panTo(this.unproject(_),l),this._enforcingBounds=!1),this},invalidateSize:function(s){if(!this._loaded)return this;s=gt({animate:!1,pan:!0},!0===s?{animate:!0}:s);var l=this.getSize(),p=(this._sizeChanged=!0,this._lastCenter=null,this.getSize()),S=l.divideBy(2).round(),_=p.divideBy(2).round();return(S=S.subtract(_)).x||S.y?(s.animate&&s.pan?this.panBy(S):(s.pan&&this._rawPanBy(S),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(v(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:p})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){var l,p;return s=this._locateOptions=gt({timeout:1e4,watch:!1},s),"geolocation"in navigator?(l=v(this._handleGeolocationResponse,this),p=v(this._handleGeolocationError,this),s.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,p,s):navigator.geolocation.getCurrentPosition(l,p,s)):this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){var l;this._container._leaflet_id&&(l=s.code,s=s.message||(1===l?"permission denied":2===l?"position unavailable":"timeout"),this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+s+"."}))},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var l,p,_=new Et(s.coords.latitude,s.coords.longitude),S=_.toBounds(2*s.coords.accuracy),O=this._locateOptions,G=(O.setView&&(l=this.getBoundsZoom(S),this.setView(_,O.maxZoom?Math.min(l,O.maxZoom):l)),{latlng:_,bounds:S,timestamp:s.timestamp});for(p in s.coords)"number"==typeof s.coords[p]&&(G[p]=s.coords[p]);this.fire("locationfound",G)}},addHandler:function(s,l){return l&&(l=this[s]=new l(this),this._handlers.push(l),this.options[s]&&l.enable()),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}for(var s in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),Nt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Pt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[s].remove();for(s in this._panes)Nt(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,l){return l=Mt("div","leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),l||this._mapPane),s&&(this._panes[s]=l),l},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds();return new Kt(this.unproject(s.getBottomLeft()),this.unproject(s.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(K,l,W){K=Ot(K),W=xt(W||[0,0]);var nt=this.getZoom()||0,_=this.getMinZoom(),S=this.getMaxZoom(),O=K.getNorthWest(),G=(K=K.getSouthEast(),W=this.getSize().subtract(W),K=te(this.project(K,nt),this.project(O,nt)).getSize(),O=dt.any3d?this.options.zoomSnap:1,W.x/K.x);return W=W.y/K.y,K=l?Math.max(G,W):Math.min(G,W),nt=this.getScaleZoom(K,nt),O&&(nt=Math.round(nt/(O/100))*(O/100),nt=l?Math.ceil(nt/O)*O:Math.floor(nt/O)*O),Math.max(_,Math.min(S,nt))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new ft(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,l){return new wt(s=this._getTopLeftPoint(s,l),s.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(void 0===s?this.getZoom():s)},getPane:function(s){return"string"==typeof s?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,l){var p=this.options.crs;return l=void 0===l?this._zoom:l,p.scale(s)/p.scale(l)},getScaleZoom:function(_,l){var p=this.options.crs;return _=p.zoom(_*p.scale(l=void 0===l?this._zoom:l)),isNaN(_)?1/0:_},project:function(s,l){return l=void 0===l?this._zoom:l,this.options.crs.latLngToPoint(_t(s),l)},unproject:function(s,l){return l=void 0===l?this._zoom:l,this.options.crs.pointToLatLng(xt(s),l)},layerPointToLatLng:function(s){return s=xt(s).add(this.getPixelOrigin()),this.unproject(s)},latLngToLayerPoint:function(s){return this.project(_t(s))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(_t(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(Ot(s))},distance:function(s,l){return this.options.crs.distance(_t(s),_t(l))},containerPointToLayerPoint:function(s){return xt(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return xt(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){return s=this.containerPointToLayerPoint(xt(s)),this.layerPointToLatLng(s)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(_t(s)))},mouseEventToContainerPoint:function(s){return I(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){if(!(s=this._container=Ye(s)))throw new Error("Map container not found.");if(s._leaflet_id)throw new Error("Map container is already initialized.");n(s,"scroll",this._onScroll,this),this._containerId=R(s)},_initLayout:function(){var s=this._container,l=(this._fadeAnimated=this.options.fadeAnimation&&dt.any3d,pt(s,"leaflet-container"+(dt.touch?" leaflet-touch":"")+(dt.retina?" leaflet-retina":"")+(dt.ielt9?" leaflet-oldie":"")+(dt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":"")),qe(s,"position"));"absolute"!==l&&"relative"!==l&&"fixed"!==l&&"sticky"!==l&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Gt(this._mapPane,new ft(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(pt(s.markerPane,"leaflet-zoom-hide"),pt(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,l,p){Gt(this._mapPane,new ft(0,0));var _=!this._loaded,S=(this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset"),this._zoom!==l);this._moveStart(S,p)._move(s,l)._moveEnd(S),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(s,l){return s&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(s,l,p,_){void 0===l&&(l=this._zoom);var S=this._zoom!==l;return this._zoom=l,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),_?p&&p.pinch&&this.fire("zoom",p):((S||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Pt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Gt(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={};var l=s?r:n;l((this._targets[R(this._container)]=this)._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),dt.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Pt(this._resizeRequest),this._resizeRequest=jt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,l){for(var p,_=[],S="mouseout"===l||"mouseover"===l,O=s.target||s.srcElement,G=!1;O;){if((p=this._targets[R(O)])&&("click"===l||"preclick"===l)&&this._draggableMoved(p)){G=!0;break}if(p&&p.listens(l,!0)&&(S&&!m(O,s)||(_.push(p),S))||O===this._container)break;O=O.parentNode}return _.length||G||S||!this.listens(l,!0)?_:[this]},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var l,p=s.target||s.srcElement;!this._loaded||p._leaflet_disable_events||"click"===s.type&&this._isClickDisabled(p)||("mousedown"===(l=s.type)&&t(p),this._fireDOMEvent(s,l))},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,l,p){"click"===s.type&&((W=gt({},s)).type="preclick",this._fireDOMEvent(W,W.type,p));var _=this._findEventTargets(s,l);if(p){for(var S=[],O=0;O<p.length;O++)p[O].listens(l,!0)&&S.push(p[O]);_=S.concat(_)}if(_.length){"contextmenu"===l&&k(s);var G,W=_[0],K={originalEvent:s};for("keypress"!==s.type&&"keydown"!==s.type&&"keyup"!==s.type&&(K.containerPoint=(G=W.getLatLng&&(!W._radius||W._radius<=10))?this.latLngToContainerPoint(W.getLatLng()):this.mouseEventToContainerPoint(s),K.layerPoint=this.containerPointToLayerPoint(K.containerPoint),K.latlng=G?W.getLatLng():this.layerPointToLatLng(K.layerPoint)),O=0;O<_.length;O++)if(_[O].fire(l,K,!0),K.originalEvent._stopped||!1===_[O].options.bubblingMouseEvents&&-1!==Re(this._mouseEvents,l))return}},_draggableMoved:function(s){return(s=s.dragging&&s.dragging.enabled()?s:this).dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,l=this._handlers.length;s<l;s++)this._handlers[s].disable()},whenReady:function(s,l){return this._loaded?s.call(l||this,{target:this}):this.on("load",s,l),this},_getMapPanePos:function(){return re(this._mapPane)||new ft(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,l){return(s&&void 0!==l?this._getNewPixelOrigin(s,l):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,l){var p=this.getSize()._divideBy(2);return this.project(s,l)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,l,p){return p=this._getNewPixelOrigin(p,l),this.project(s,l)._subtract(p)},_latLngBoundsToNewLayerBounds:function(s,l,p){return p=this._getNewPixelOrigin(p,l),te([this.project(s.getSouthWest(),l)._subtract(p),this.project(s.getNorthWest(),l)._subtract(p),this.project(s.getSouthEast(),l)._subtract(p),this.project(s.getNorthEast(),l)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,l,p){var _,S;return!p||(_=this.project(s,l),S=this.getSize().divideBy(2),S=new wt(_.subtract(S),_.add(S)),S=this._getBoundsOffset(S,p,l),Math.abs(S.x)<=1&&Math.abs(S.y)<=1)?s:this.unproject(_.add(S),l)},_limitOffset:function(s,l){var p;return l?(p=new wt((p=this.getPixelBounds()).min.add(s),p.max.add(s)),s.add(this._getBoundsOffset(p,l))):s},_getBoundsOffset:function(s,l,p){return p=(l=te(this.project(l.getNorthEast(),p),this.project(l.getSouthWest(),p))).min.subtract(s.min),l=l.max.subtract(s.max),new ft(this._rebound(p.x,-l.x),this._rebound(p.y,-l.y))},_rebound:function(s,l){return 0<s+l?Math.round(s-l)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(l))},_limitZoom:function(s){var l=this.getMinZoom(),p=this.getMaxZoom(),_=dt.any3d?this.options.zoomSnap:1;return _&&(s=Math.round(s/_)*_),Math.max(l,Math.min(p,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Tt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,l){return s=this._getCenterOffset(s)._trunc(),!(!0!==(l&&l.animate)&&!this.getSize().contains(s)||(this.panBy(s,l),0))},_createAnimProxy:function(){var s=this._proxy=Mt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(l){var p=wi,_=this._proxy.style[p];Ae(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),_===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Nt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),l=this.getZoom();Ae(this._proxy,this.project(s,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(s){this._animatingZoom&&0<=s.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,l,p){if(!this._animatingZoom){if(p=p||{},!this._zoomAnimated||!1===p.animate||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(l);if(_=this._getCenterOffset(s)._divideBy(1-1/_),!0!==p.animate&&!this.getSize().contains(_))return!1;jt(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(s,l,!0)},this)}return!0},_animateZoom:function(s,l,p,_){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=l,pt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:l,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(v(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Tt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function T(s){return new z(s)}var bt,z=Zt.extend({options:{position:"topright"},initialize:function(s){At(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var l=this._map;return l&&l.removeControl(this),this.options.position=s,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(_){this.remove(),this._map=_;var l=this._container=this.onAdd(_),p=this.getPosition();return _=_._controlCorners[p],pt(l,"leaflet-control"),-1!==p.indexOf("bottom")?_.insertBefore(l,_.firstChild):_.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map&&(Nt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null),this},_refocusOnMap:function(s){this._map&&s&&0<s.screenX&&0<s.screenY&&this._map.getContainer().focus()}}),N=(A.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},l="leaflet-",p=this._controlContainer=Mt("div",l+"control-container",this._container);function _(S,O){s[S+O]=Mt("div",l+S+" "+l+O,p)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)Nt(this._controlCorners[s]);Nt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}}),z.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,l,p,_){return p<_?-1:_<p?1:0}},initialize:function(s,l,p){for(var _ in At(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,s)this._addLayer(s[_],_);for(_ in l)this._addLayer(l[_],_,!0)},onAdd:function(s){this._initLayout(),this._update(),(this._map=s).on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return z.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,l){return this._addLayer(s,l),this._map?this._update():this},addOverlay:function(s,l){return this._addLayer(s,l,!0),this._map?this._update():this},removeLayer:function(s){return s.off("add remove",this._onLayerChange,this),(s=this._getLayer(R(s)))&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){pt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(pt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):Tt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Tt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",l=this._container=Mt("div",s),p=this.options.collapsed,_=(l.setAttribute("aria-haspopup",!0),C(l),y(l),this._section=Mt("section",s+"-list")),S=(p&&(this._map.on("click",this.collapse,this),n(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this)),this._layersLink=Mt("a",s+"-toggle",l));S.href="#",S.title="Layers",S.setAttribute("role","button"),n(S,{keydown:function(O){13===O.keyCode&&this._expandSafely()},click:function(O){k(O),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=Mt("div",s+"-base",_),this._separator=Mt("div",s+"-separator",_),this._overlaysList=Mt("div",s+"-overlays",_),l.appendChild(_)},_getLayer:function(s){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&R(this._layers[l].layer)===s)return this._layers[l]},_addLayer:function(s,l,p){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:l,overlay:p}),this.options.sortLayers&&this._layers.sort(v(function(_,S){return this.options.sortFunction(_.layer,S.layer,_.name,S.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(this._container){ye(this._baseLayersList),ye(this._overlaysList),this._layerControlInputs=[];for(var s,l,p,_=0,S=0;S<this._layers.length;S++)this._addItem(p=this._layers[S]),l=l||p.overlay,s=s||!p.overlay,_+=p.overlay?0:1;this.options.hideSingleBase&&(this._baseLayersList.style.display=(s=s&&1<_)?"":"none"),this._separator.style.display=l&&s?"":"none"}return this},_onLayerChange:function(p){this._handlingClick||this._update();var l=this._getLayer(R(p.target));(p=l.overlay?"add"===p.type?"overlayadd":"overlayremove":"add"===p.type?"baselayerchange":null)&&this._map.fire(p,l)},_createRadioElement:function(s,l){return s='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(l?' checked="checked"':"")+"/>",(l=document.createElement("div")).innerHTML=s,l.firstChild},_addItem:function(s){var l,p=document.createElement("label"),_=this._map.hasLayer(s.layer),S=((s.overlay?((l=document.createElement("input")).type="checkbox",l.className="leaflet-control-layers-selector",l.defaultChecked=_):l=this._createRadioElement("leaflet-base-layers_"+R(this),_),this._layerControlInputs.push(l),l.layerId=R(s.layer),n(l,"click",this._onInputClick,this),_=document.createElement("span")).innerHTML=" "+s.name,document.createElement("span"));return p.appendChild(S),S.appendChild(l),S.appendChild(_),(s.overlay?this._overlaysList:this._baseLayersList).appendChild(p),this._checkDisabledLayers(),p},_onInputClick:function(){if(!this._preventClick){var s,l,p=this._layerControlInputs,_=[],S=[];this._handlingClick=!0;for(var O=p.length-1;0<=O;O--)l=this._getLayer((s=p[O]).layerId).layer,s.checked?_.push(l):s.checked||S.push(l);for(O=0;O<S.length;O++)this._map.hasLayer(S[O])&&this._map.removeLayer(S[O]);for(O=0;O<_.length;O++)this._map.hasLayer(_[O])||this._map.addLayer(_[O]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s,l,p=this._layerControlInputs,_=this._map.getZoom(),S=p.length-1;0<=S;S--)l=this._getLayer((s=p[S]).layerId).layer,s.disabled=void 0!==l.options.minZoom&&_<l.options.minZoom||void 0!==l.options.maxZoom&&_>l.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section,l=(this._preventClick=!0,n(s,"click",k),this.expand(),this);setTimeout(function(){r(s,"click",k),l._preventClick=!1})}})),F=z.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var l="leaflet-control-zoom",p=Mt("div",l+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,l+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,l+"-out",p,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,l,p,_,S){return(p=Mt("a",p,_)).innerHTML=s,p.href="#",p.title=l,p.setAttribute("role","button"),p.setAttribute("aria-label",l),C(p),n(p,"click",M),n(p,"click",S,this),n(p,"click",this._refocusOnMap,this),p},_updateDisabled:function(){var s=this._map,l="leaflet-disabled";Tt(this._zoomInButton,l),Tt(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),!this._disabled&&s._zoom!==s.getMinZoom()||(pt(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),!this._disabled&&s._zoom!==s.getMaxZoom()||(pt(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}}),B=(A.mergeOptions({zoomControl:!0}),A.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new F,this.addControl(this.zoomControl))}),z.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var l="leaflet-control-scale",p=Mt("div",l),_=this.options;return this._addScales(_,l+"-line",p),s.on(_.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),p},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,l,p){s.metric&&(this._mScale=Mt("div",l,p)),s.imperial&&(this._iScale=Mt("div",l,p))},_update:function(){var s=(l=this._map).getSize().y/2,l=l.distance(l.containerPointToLatLng([0,s]),l.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(l)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var l=this._getRoundNum(s);this._updateScale(this._mScale,l<1e3?l+" m":l/1e3+" km",l/s)},_updateImperial:function(_){var l,p;5280<(_*=3.2808399)?(p=this._getRoundNum(l=_/5280),this._updateScale(this._iScale,p+" mi",p/l)):(p=this._getRoundNum(_),this._updateScale(this._iScale,p+" ft",p/_))},_updateScale:function(s,l,p){s.style.width=Math.round(this.options.maxWidth*p)+"px",s.innerHTML=l},_getRoundNum:function(p){var l=Math.pow(10,(Math.floor(p)+"").length-1);return l*(10<=(p/=l)?10:5<=p?5:3<=p?3:2<=p?2:1)}})),H=z.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(dt.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(s){At(this,s),this._attributions={}},onAdd:function(s){for(var l in(s.attributionControl=this)._container=Mt("div","leaflet-control-attribution"),C(this._container),s._layers)s._layers[l].getAttribution&&this.addAttribution(s._layers[l].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s&&(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update()),this},removeAttribution:function(s){return s&&this._attributions[s]&&(this._attributions[s]--,this._update()),this},_update:function(){if(this._map){var s,l=[];for(s in this._attributions)this._attributions[s]&&l.push(s);var p=[];this.options.prefix&&p.push(this.options.prefix),l.length&&p.push(l.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}}),tt=((A.mergeOptions({attributionControl:!0}),A.addInitHook(function(){this.options.attributionControl&&(new H).addTo(this)}),z.Layers=N,z.Zoom=F,z.Scale=B,z.Attribution=H,T.layers=function(s,l,p){return new N(s,l,p)},T.zoom=function(s){return new F(s)},T.scale=function(s){return new B(s)},T.attribution=function(s){return new H(s)},Y=Zt.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled&&(this._enabled=!1,this.removeHooks()),this},enabled:function(){return!!this._enabled}})).addTo=function(s,l){return s.addHandler(l,this),this},V={Events:Qt},dt.touch?"touchstart mousedown":"mousedown"),et=_e.extend({options:{clickTolerance:3},initialize:function(s,l,p,_){At(this,_),this._element=s,this._dragStartTarget=l||s,this._preventOutline=p},enable:function(){this._enabled||(n(this._dragStartTarget,tt,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(et._dragging===this&&this.finishDrag(!0),r(this._dragStartTarget,tt,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){var l,p;this._enabled&&(this._moved=!1,De(this._element,"leaflet-zoom-anim")||(s.touches&&1!==s.touches.length?et._dragging===this&&this.finishDrag():et._dragging||s.shiftKey||1!==s.which&&1!==s.button&&!s.touches||((et._dragging=this)._preventOutline&&t(this._element),_i(),Ge(),this._moving||(this.fire("down"),p=s.touches?s.touches[0]:s,l=i(this._element),this._startPoint=new ft(p.clientX,p.clientY),this._startPos=re(this._element),this._parentScale=a(l),p="mousedown"===s.type,n(document,p?"mousemove":"touchmove",this._onMove,this),n(document,p?"mouseup":"touchend touchcancel",this._onUp,this)))))},_onMove:function(s){var l;this._enabled&&(s.touches&&1<s.touches.length?this._moved=!0:!(l=new ft((l=s.touches&&1===s.touches.length?s.touches[0]:s).clientX,l.clientY)._subtract(this._startPoint)).x&&!l.y||Math.abs(l.x)+Math.abs(l.y)<this.options.clickTolerance||(l.x/=this._parentScale.x,l.y/=this._parentScale.y,k(s),this._moved||(this.fire("dragstart"),this._moved=!0,pt(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),pt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(l),this._moving=!0,this._lastEvent=s,this._updatePosition()))},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Gt(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){Tt(document.body,"leaflet-dragging"),this._lastTarget&&(Tt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),r(document,"mousemove touchmove",this._onMove,this),r(document,"mouseup touchend touchcancel",this._onUp,this),E(),Ce();var l=this._moved&&this._moving;this._moving=!1,et._dragging=!1,l&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function rt(s,l,p){for(var _,S,O,G,W,K,nt,ct=[1,4,2,8],Lt=0,Ct=s.length;Lt<Ct;Lt++)s[Lt]._code=ut(s[Lt],l);for(O=0;O<4;O++){for(K=ct[O],_=[],Lt=0,S=(Ct=s.length)-1;Lt<Ct;S=Lt++)W=s[S],(G=s[Lt])._code&K?W._code&K||((nt=lt(W,G,K,l,p))._code=ut(nt,l),_.push(nt)):(W._code&K&&((nt=lt(W,G,K,l,p))._code=ut(nt,l),_.push(nt)),_.push(G));s=_}return s}function st(s,l){var p,_,S,O,G,W,K;if(!s||0===s.length)throw new Error("latlngs not passed");St(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);for(var nt=_t([0,0]),ct=Ot(s),Lt=(ct.getNorthWest().distanceTo(ct.getSouthWest())*ct.getNorthEast().distanceTo(ct.getNorthWest())<1700&&(nt=ht(s)),s.length),Ct=[],qt=0;qt<Lt;qt++){var Se=_t(s[qt]);Ct.push(l.project(_t([Se.lat-nt.lat,Se.lng-nt.lng])))}for(qt=G=W=K=0,p=Lt-1;qt<Lt;p=qt++)W+=((_=Ct[qt]).x+(S=Ct[p]).x)*(O=_.y*S.x-S.y*_.x),K+=(_.y+S.y)*O,G+=3*O;return _t([(ct=l.unproject(xt(ct=0===G?Ct[0]:[W/G,K/G]))).lat+nt.lat,ct.lng+nt.lng])}function ht(s){for(var l=0,p=0,_=0,S=0;S<s.length;S++){var O=_t(s[S]);l+=O.lat,p+=O.lng,_++}return _t([l/_,p/_])}function kt(s,l){if(l&&s.length){var p=s=function(W,K){for(var nt=[W[0]],ct=1,Lt=0,Ct=W.length;ct<Ct;ct++)void 0,(me=(Me=W[Lt]).x-(qt=W[ct]).x)*me+(Me=Me.y-qt.y)*Me>K&&(nt.push(W[ct]),Lt=ct);var qt,Me,me;return Lt<Ct-1&&nt.push(W[Ct-1]),nt}(s,l*=l),_=p.length,S=new(typeof Uint8Array<"u"?Uint8Array:Array)(_);S[0]=S[_-1]=1,function W(K,nt,ct,Lt,Ct){var qt,Se,me,Me=0;for(Se=Lt+1;Se<=Ct-1;Se++)Me<(me=It(K[Se],K[Lt],K[Ct],!0))&&(qt=Se,Me=me);ct<Me&&(nt[qt]=1,W(K,nt,ct,Lt,qt),W(K,nt,ct,qt,Ct))}(p,S,l,0,_-1);var O,G=[];for(O=0;O<_;O++)S[O]&&G.push(p[O]);return G}return s.slice()}function Rt(s,l,p){return Math.sqrt(It(s,l,p,!0))}function q(s,l,p,_,S){var O,G,W,K=_?bt:ut(s,p),nt=ut(l,p);for(bt=nt;;){if(!(K|nt))return[s,l];if(K&nt)return!1;W=ut(G=lt(s,l,O=K||nt,p,S),p),O===K?(s=G,K=W):(l=G,nt=W)}}function lt(s,K,p,ct,S){var O,G,W=K.x-s.x,nt=(K=K.y-s.y,ct.min);return ct=ct.max,8&p?(O=s.x+W*(ct.y-s.y)/K,G=ct.y):4&p?(O=s.x+W*(nt.y-s.y)/K,G=nt.y):2&p?(O=ct.x,G=s.y+K*(ct.x-s.x)/W):1&p&&(O=nt.x,G=s.y+K*(nt.x-s.x)/W),new ft(O,G,S)}function ut(s,l){var p=0;return s.x<l.min.x?p|=1:s.x>l.max.x&&(p|=2),s.y<l.min.y?p|=4:s.y>l.max.y&&(p|=8),p}function It(s,O,p,_){var S=O.x,G=p.x-S,W=p.y-(O=O.y),K=G*G+W*W;return 0<K&&(1<(K=((s.x-S)*G+(s.y-O)*W)/K)?(S=p.x,O=p.y):0<K&&(S+=G*K,O+=W*K)),G=s.x-S,W=s.y-O,_?G*G+W*W:new ft(S,O)}function St(s){return!zt(s[0])||"object"!=typeof s[0][0]&&void 0!==s[0][0]}function ie(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),St(s)}function ue(s,l){var p,_,S,O,G,W;if(!s||0===s.length)throw new Error("latlngs not passed");St(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);for(var K=_t([0,0]),nt=Ot(s),ct=(nt.getNorthWest().distanceTo(nt.getSouthWest())*nt.getNorthEast().distanceTo(nt.getNorthWest())<1700&&(K=ht(s)),s.length),Lt=[],Ct=0;Ct<ct;Ct++){var qt=_t(s[Ct]);Lt.push(l.project(_t([qt.lat-K.lat,qt.lng-K.lng])))}for(p=Ct=0;Ct<ct-1;Ct++)p+=Lt[Ct].distanceTo(Lt[Ct+1])/2;if(0===p)W=Lt[0];else for(_=Ct=0;Ct<ct-1;Ct++)if(p<(_+=G=(S=Lt[Ct]).distanceTo(O=Lt[Ct+1]))){W=[O.x-(G=(_-p)/G)*(O.x-S.x),O.y-G*(O.y-S.y)];break}return _t([(nt=l.unproject(xt(W))).lat+K.lat,nt.lng+K.lng])}mt={__proto__:null,clipPolygon:rt,polygonCenter:st,centroid:ht},Bt={__proto__:null,simplify:kt,pointToSegmentDistance:Rt,closestPointOnSegment:function(s,l,p){return It(s,l,p)},clipSegment:q,_getEdgeIntersection:lt,_getBitCode:ut,_sqClosestPointOnSegment:It,isFlat:St,_flat:ie,polylineCenter:ue},ze={__proto__:null,LonLat:Xt={project:function(s){return new ft(s.lng,s.lat)},unproject:function(s){return new Et(s.y,s.x)},bounds:new wt([-180,-90],[180,90])},Mercator:Ut={R:6378137,R_MINOR:6356752.314245179,bounds:new wt([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(s){var l=Math.PI/180,p=this.R,O=s.lat*l,_=this.R_MINOR/p,S=(_=Math.sqrt(1-_*_))*Math.sin(O);return S=Math.tan(Math.PI/4-O/2)/Math.pow((1-S)/(1+S),_/2),O=-p*Math.log(Math.max(S,1e-10)),new ft(s.lng*l*p,O)},unproject:function(s){for(var l,p=180/Math.PI,_=this.R,S=this.R_MINOR/_,O=Math.sqrt(1-S*S),G=Math.exp(-s.y/_),W=Math.PI/2-2*Math.atan(G),K=0,nt=.1;K<15&&1e-7<Math.abs(nt);K++)l=O*Math.sin(W),l=Math.pow((1-l)/(1+l),O/2),W+=nt=Math.PI/2-2*Math.atan(G*l)-W;return new Et(W*p,s.x*p/_)}},SphericalMercator:de},di=gt({},se,{code:"EPSG:3395",projection:Ut,transformation:Jt(We=.5/(Math.PI*Ut.R),.5,-We,.5)});var Mi=gt({},se,{code:"EPSG:4326",projection:Xt,transformation:Jt(1/180,1,-1/180,.5)}),Ke=(ui=gt({},Ft,{projection:Xt,transformation:Jt(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,_){var p=_.lng-s.lng;return _=_.lat-s.lat,Math.sqrt(p*p+_*_)},infinite:!0}),Ft.Earth=se,Ft.EPSG3395=di,Ft.EPSG3857=Le,Ft.EPSG900913=Fe,Ft.EPSG4326=Mi,Ft.Simple=ui,le=_e.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[R(s)]=this},removeInteractiveTarget:function(s){return delete this._map._targets[R(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var l,p=s.target;p.hasLayer(this)&&(this._map=p,this._zoomAnimated=p._zoomAnimated,this.getEvents&&(l=this.getEvents(),p.on(l,this),this.once("remove",function(){p.off(l,this)},this)),this.onAdd(p),this.fire("add"),p.fire("layeradd",{layer:this}))}}),A.include({addLayer:function(s){var l;if(s._layerAdd)return l=R(s),this._layers[l]||((this._layers[l]=s)._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s)),this;throw new Error("The provided object is not a Layer.")},removeLayer:function(s){var l=R(s);return this._layers[l]&&(this._loaded&&s.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null),this},hasLayer:function(s){return R(s)in this._layers},eachLayer:function(s,l){for(var p in this._layers)s.call(l,this._layers[p]);return this},_addLayers:function(s){for(var l=0,p=(s=s?zt(s)?s:[s]:[]).length;l<p;l++)this.addLayer(s[l])},_addZoomLimit:function(s){isNaN(s.options.maxZoom)&&isNaN(s.options.minZoom)||(this._zoomBoundLayers[R(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){s=R(s),this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var s,l=1/0,p=-1/0,_=this._getZoomSpan();for(s in this._zoomBoundLayers){var S=this._zoomBoundLayers[s].options;l=void 0===S.minZoom?l:Math.min(l,S.minZoom),p=void 0===S.maxZoom?p:Math.max(p,S.maxZoom)}this._layersMaxZoom=p===-1/0?void 0:p,this._layersMinZoom=l===1/0?void 0:l,_!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}}),le.extend({initialize:function(s,l){var p,_;if(At(this,l),this._layers={},s)for(p=0,_=s.length;p<_;p++)this.addLayer(s[p])},addLayer:function(s){var l=this.getLayerId(s);return this._layers[l]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){return s=s in this._layers?s:this.getLayerId(s),this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(s){return("number"==typeof s?s:this.getLayerId(s))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var l,p,_=Array.prototype.slice.call(arguments,1);for(l in this._layers)(p=this._layers[l])[s]&&p[s].apply(p,_);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,l){for(var p in this._layers)s.call(l,this._layers[p]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:R})),Oe=Ke.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Ke.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?((s=s in this._layers?this._layers[s]:s).removeEventParent(this),Ke.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s,l=new Kt;for(s in this._layers){var p=this._layers[s];l.extend(p.getBounds?p.getBounds():p.getLatLng())}return l}}),Je=Zt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){At(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,l){var p=this._getIconUrl(s);if(p)return p=this._createImg(p,l&&"IMG"===l.tagName?l:null),this._setIconStyles(p,s),!this.options.crossOrigin&&""!==this.options.crossOrigin||(p.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),p;if("icon"===s)throw new Error("iconUrl not set in Icon options (see the docs).");return null},_setIconStyles:function(s,l){var p=this.options,_=xt(_="number"==typeof(_=p[l+"Size"])?[_,_]:_),S=xt("shadow"===l&&p.shadowAnchor||p.iconAnchor||_&&_.divideBy(2,!0));s.className="leaflet-marker-"+l+" "+(p.className||""),S&&(s.style.marginLeft=-S.x+"px",s.style.marginTop=-S.y+"px"),_&&(s.style.width=_.x+"px",s.style.height=_.y+"px")},_createImg:function(s,l){return(l=l||document.createElement("img")).src=s,l},_getIconUrl:function(s){return dt.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}}),ki=Je.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return"string"!=typeof ki.imagePath&&(ki.imagePath=this._detectIconPath()),(this.options.imagePath||ki.imagePath)+Je.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){function l(p,_,S){return(_=_.exec(p))&&_[S]}return(s=l(s,/^url\((['"])?(.+)\1\)$/,2))&&l(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Mt("div","leaflet-default-icon-path",document.body),l=qe(s,"background-image")||qe(s,"backgroundImage");return document.body.removeChild(s),(l=this._stripUrl(l))?l:(s=document.querySelector('link[href$="leaflet.css"]'))?s.href.substring(0,s.href.length-11-1):""}}),Xi=Y.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new et(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),pt(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Tt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var l=this._marker,p=l._map,_=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,O=re(l._icon),G=p.getPixelBounds(),W=p.getPixelOrigin();(W=te(G.min._subtract(W).add(S),G.max._subtract(W).subtract(S))).contains(O)||(S=xt((Math.max(W.max.x,O.x)-W.max.x)/(G.max.x-W.max.x)-(Math.min(W.min.x,O.x)-W.min.x)/(G.min.x-W.min.x),(Math.max(W.max.y,O.y)-W.max.y)/(G.max.y-W.max.y)-(Math.min(W.min.y,O.y)-W.min.y)/(G.min.y-W.min.y)).multiplyBy(_),p.panBy(S,{animate:!1}),this._draggable._newPos._add(S),this._draggable._startPos._add(S),Gt(l._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=jt(this._adjustPan.bind(this,s)))},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(Pt(this._panRequest),this._panRequest=jt(this._adjustPan.bind(this,s)))},_onDrag:function(s){var l=this._marker,p=l._shadow,_=re(l._icon),S=l._map.layerPointToLatLng(_);p&&Gt(p,_),l._latlng=S,s.latlng=S,s.oldLatLng=this._oldLatLng,l.fire("move",s).fire("drag",s)},_onDragEnd:function(s){Pt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),Yi=le.extend({options:{icon:new ki,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,l){At(this,l),this._latlng=_t(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var l=this._latlng;return this._latlng=_t(s),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){var s;return this._icon&&this._map&&(s=this._map.latLngToLayerPoint(this._latlng).round(),this._setPos(s)),this},_initIcon:function(){var _,s=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=!1,S=!1;(_=s.icon.createIcon(this._icon))!==this._icon&&(this._icon&&this._removeIcon(),p=!0,s.title&&(_.title=s.title),"IMG"===_.tagName&&(_.alt=s.alt||"")),pt(_,l),s.keyboard&&(_.tabIndex="0",_.setAttribute("role","button")),this._icon=_,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&n(_,"focus",this._panOnFocus,this),(_=s.icon.createShadow(this._shadow))!==this._shadow&&(this._removeShadow(),S=!0),_&&(pt(_,l),_.alt=""),this._shadow=_,s.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),_&&S&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&r(this._icon,"focus",this._panOnFocus,this),Nt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Nt(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Gt(this._icon,s),this._shadow&&Gt(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){s=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round(),this._setPos(s)},_initInteraction:function(){var s;this.options.interactive&&(pt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Xi&&(s=this.options.draggable,this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Xi(this),s&&this.dragging.enable()))},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&oe(this._icon,s),this._shadow&&oe(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s,l,p=this._map;p&&(s=(l=this.options.icon.options).iconSize?xt(l.iconSize):xt(0,0),l=l.iconAnchor?xt(l.iconAnchor):xt(0,0),p.panInside(this._latlng,{paddingTopLeft:l,paddingBottomRight:s.subtract(l)}))},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),pi=le.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return At(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Fi=pi.extend({options:{fill:!0,radius:10},initialize:function(s,l){At(this,l),this._latlng=_t(s),this._radius=this.options.radius},setLatLng:function(s){var l=this._latlng;return this._latlng=_t(s),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var l=s&&s.radius||this._radius;return pi.prototype.setStyle.call(this,s),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var p=this._radius,s=this._radiusY||p,l=this._clickTolerance();this._pxBounds=new wt(this._point.subtract(p=[p+l,s+l]),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),ia=Fi.extend({initialize:function(s,l,p){if(At(this,l="number"==typeof l?gt({},p,{radius:l}):l),this._latlng=_t(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new Kt(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:pi.prototype.setStyle,_project:function(){var s,l,p,_,S,O=this._latlng.lng,G=this._latlng.lat,W=this._map,K=W.options.crs;K.distance===se.distance?(_=Math.PI/180,s=W.project([G+(S=this._mRadius/se.R/_),O]),l=W.project([G-S,O]),l=s.add(l).divideBy(2),p=W.unproject(l).lat,_=Math.acos((Math.cos(S*_)-Math.sin(G*_)*Math.sin(p*_))/(Math.cos(G*_)*Math.cos(p*_)))/_,!isNaN(_)&&0!==_||(_=S/Math.cos(Math.PI/180*G)),this._point=l.subtract(W.getPixelOrigin()),this._radius=isNaN(_)?0:l.x-W.project([p,O-_]).x,this._radiusY=l.y-s.y):(S=K.unproject(K.project(this._latlng).subtract([this._mRadius,0])),this._point=W.latLngToLayerPoint(this._latlng),this._radius=this._point.x-W.latLngToLayerPoint(S).x),this._updateBounds()}}),Qe=pi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,l){At(this,l),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var l=1/0,p=null,_=It,S=0,O=this._parts.length;S<O;S++)for(var G=this._parts[S],W=1,K=G.length;W<K;W++){var nt,ct,Lt=_(s,nt=G[W-1],ct=G[W],!0);Lt<l&&(l=Lt,p=_(s,nt,ct))}return p&&(p.distance=Math.sqrt(l)),p},getCenter:function(){if(this._map)return ue(this._defaultShape(),this._map.options.crs);throw new Error("Must add layer to map before using getCenter()")},getBounds:function(){return this._bounds},addLatLng:function(s,l){return l=l||this._defaultShape(),s=_t(s),l.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new Kt,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return St(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var l=[],p=St(s),_=0,S=s.length;_<S;_++)p?(l[_]=_t(s[_]),this._bounds.extend(l[_])):l[_]=this._convertLatLngs(s[_]);return l},_project:function(){var s=new wt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=new ft(s=this._clickTolerance(),s);this._rawPxBounds&&(this._pxBounds=new wt([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(s,l,p){var _,S,G=s.length;if(s[0]instanceof Et){for(S=[],_=0;_<G;_++)S[_]=this._map.latLngToLayerPoint(s[_]),p.extend(S[_]);l.push(S)}else for(_=0;_<G;_++)this._projectLatlngs(s[_],l,p)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(s))if(this.options.noClip)this._parts=this._rings;else for(var l,p,_,S,O=this._parts,G=0,W=0,K=this._rings.length;G<K;G++)for(l=0,p=(S=this._rings[G]).length;l<p-1;l++)(_=q(S[l],S[l+1],s,l,!0))&&(O[W]=O[W]||[],O[W].push(_[0]),_[1]===S[l+1]&&l!==p-2||(O[W].push(_[1]),W++))},_simplifyPoints:function(){for(var s=this._parts,l=this.options.smoothFactor,p=0,_=s.length;p<_;p++)s[p]=kt(s[p],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,l){var p,_,S,O,G,W,K=this._clickTolerance();if(this._pxBounds&&this._pxBounds.contains(s))for(p=0,O=this._parts.length;p<O;p++)for(_=0,S=(G=(W=this._parts[p]).length)-1;_<G;S=_++)if((l||0!==_)&&Rt(s,W[S],W[_])<=K)return!0;return!1}});Qe._flat=ie;var Pi=Qe.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(this._map)return st(this._defaultShape(),this._map.options.crs);throw new Error("Must add layer to map before using getCenter()")},_convertLatLngs:function(l){var p=(l=Qe.prototype._convertLatLngs.call(this,l)).length;return 2<=p&&l[0]instanceof Et&&l[0].equals(l[p-1])&&l.pop(),l},_setLatLngs:function(s){Qe.prototype._setLatLngs.call(this,s),St(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return(St(this._latlngs[0])?this._latlngs:this._latlngs[0])[0]},_clipPoints:function(){var l=this._renderer._bounds,s=new ft(s=this.options.weight,s);if(l=new wt(l.min.subtract(s),l.max.add(s)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(l))if(this.options.noClip)this._parts=this._rings;else for(var p,_=0,S=this._rings.length;_<S;_++)(p=rt(this._rings[_],l,!0)).length&&this._parts.push(p)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var l,p,_,S,O,G,W,K,nt=!1;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(S=0,W=this._parts.length;S<W;S++)for(O=0,G=(K=(l=this._parts[S]).length)-1;O<K;G=O++)(p=l[O]).y>s.y!=(_=l[G]).y>s.y&&s.x<(_.x-p.x)*(s.y-p.y)/(_.y-p.y)+p.x&&(nt=!nt);return nt||Qe.prototype._containsPoint.call(this,s,!0)}}),ti=Oe.extend({initialize:function(s,l){At(this,l),this._layers={},s&&this.addData(s)},addData:function(s){var l,p,_,S=zt(s)?s:s.features;if(S){for(l=0,p=S.length;l<p;l++)((_=S[l]).geometries||_.geometry||_.features||_.coordinates)&&this.addData(_);return this}var O,G=this.options;return G.filter&&!G.filter(s)||!(O=Wi(s,G))?this:(O.feature=ji(s),O.defaultOptions=O.options,this.resetStyle(O),G.onEachFeature&&G.onEachFeature(s,O),this.addLayer(O))},resetStyle:function(s){return void 0===s?this.eachLayer(this.resetStyle,this):(s.options=gt({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(l){this._setLayerStyle(l,s)},this)},_setLayerStyle:function(s,l){s.setStyle&&("function"==typeof l&&(l=l(s.feature)),s.setStyle(l))}});function Wi(s,l){var p,_,S,O,G="Feature"===s.type?s.geometry:s,W=G?G.coordinates:null,K=[],nt=l&&l.pointToLayer,ct=l&&l.coordsToLatLng||aa;if(!W&&!G)return null;switch(G.type){case"Point":return na(nt,s,p=ct(W),l);case"MultiPoint":for(S=0,O=W.length;S<O;S++)p=ct(W[S]),K.push(na(nt,s,p,l));return new Oe(K);case"LineString":case"MultiLineString":return _=Gi(W,"LineString"===G.type?0:1,ct),new Qe(_,l);case"Polygon":case"MultiPolygon":return _=Gi(W,"Polygon"===G.type?1:2,ct),new Pi(_,l);case"GeometryCollection":for(S=0,O=G.geometries.length;S<O;S++){var Lt=Wi({geometry:G.geometries[S],type:"Feature",properties:s.properties},l);Lt&&K.push(Lt)}return new Oe(K);case"FeatureCollection":for(S=0,O=G.features.length;S<O;S++){var Ct=Wi(G.features[S],l);Ct&&K.push(Ct)}return new Oe(K);default:throw new Error("Invalid GeoJSON object.")}}function na(s,l,p,_){return s?s(l,p):new Yi(p,_&&_.markersInheritOptions&&_)}function aa(s){return new Et(s[1],s[0],s[2])}function Gi(s,l,p){for(var _,S=[],O=0,G=s.length;O<G;O++)_=l?Gi(s[O],l-1,p):(p||aa)(s[O]),S.push(_);return S}function sa(s,l){return void 0!==(s=_t(s)).alt?[at(s.lng,l),at(s.lat,l),at(s.alt,l)]:[at(s.lng,l),at(s.lat,l)]}function Vi(s,l,p,_){for(var S=[],O=0,G=s.length;O<G;O++)S.push(l?Vi(s[O],St(s[O])?0:l-1,p,_):sa(s[O],_));return!l&&p&&0<S.length&&S.push(S[0].slice()),S}function Ti(s,l){return s.feature?gt({},s.feature,{geometry:l}):ji(l)}function ji(s){return"Feature"===s.type||"FeatureCollection"===s.type?s:{type:"Feature",properties:{},geometry:s}}function oa(s,l){return new ti(s,l)}Yi.include(Be={toGeoJSON:function(s){return Ti(this,{type:"Point",coordinates:sa(this.getLatLng(),s)})}}),ia.include(Be),Fi.include(Be),Qe.include({toGeoJSON:function(s){var l=!St(this._latlngs);return Ti(this,{type:(l?"Multi":"")+"LineString",coordinates:Vi(this._latlngs,l?1:0,!1,s)})}}),Pi.include({toGeoJSON:function(_){var l=!St(this._latlngs),p=l&&!St(this._latlngs[0]);return _=Vi(this._latlngs,p?2:l?1:0,!0,_),Ti(this,{type:(p?"Multi":"")+"Polygon",coordinates:_=l?_:[_]})}}),Ke.include({toMultiPoint:function(s){var l=[];return this.eachLayer(function(p){l.push(p.toGeoJSON(s).geometry.coordinates)}),Ti(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(s){var l,p,_=this.feature&&this.feature.geometry&&this.feature.geometry.type;return"MultiPoint"===_?this.toMultiPoint(s):(l="GeometryCollection"===_,p=[],this.eachLayer(function(S){S.toGeoJSON&&(S=S.toGeoJSON(s),l?p.push(S.geometry):"FeatureCollection"===(S=ji(S)).type?p.push.apply(p,S.features):p.push(S))}),l?Ti(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p})}}),Zi=oa;var Ui=le.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,l,p){this._url=s,this._bounds=Ot(l),At(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(pt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Nt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Ee(this._image),this},bringToBack:function(){return this._map&&ne(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=Ot(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s="IMG"===this._url.tagName,l=this._image=s?this._url:Mt("img");pt(l,"leaflet-image-layer"),this._zoomAnimated&&pt(l,"leaflet-zoom-animated"),this.options.className&&pt(l,this.options.className),l.onselectstart=J,l.onmousemove=J,l.onload=v(this.fire,this,"load"),l.onerror=v(this._overlayOnError,this,"error"),!this.options.crossOrigin&&""!==this.options.crossOrigin||(l.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s?this._url=l.src:(l.src=this._url,l.alt=this.options.alt)},_animateZoom:function(p){var l=this._map.getZoomScale(p.zoom);p=this._map._latLngBoundsToNewLayerBounds(this._bounds,p.zoom,p.center).min,Ae(this._image,p,l)},_reset:function(){var s=this._image,l=new wt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=l.getSize();Gt(s,l.min),s.style.width=p.x+"px",s.style.height=p.y+"px"},_updateOpacity:function(){oe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),ra=Ui.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s="VIDEO"===this._url.tagName,l=this._image=s?this._url:Mt("video");if(pt(l,"leaflet-image-layer"),this._zoomAnimated&&pt(l,"leaflet-zoom-animated"),this.options.className&&pt(l,this.options.className),l.onselectstart=J,l.onmousemove=J,l.onloadeddata=v(this.fire,this,"load"),s){for(var p=l.getElementsByTagName("source"),_=[],S=0;S<p.length;S++)_.push(p[S].src);this._url=0<p.length?_:[l.src]}else{zt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var O=0;O<this._url.length;O++){var G=Mt("source");G.src=this._url[O],l.appendChild(G)}}}}),la=Ui.extend({_initImage:function(){var s=this._image=this._url;pt(s,"leaflet-image-layer"),this._zoomAnimated&&pt(s,"leaflet-zoom-animated"),this.options.className&&pt(s,this.options.className),s.onselectstart=J,s.onmousemove=J}}),Ve=le.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,l){s&&(s instanceof Et||zt(s))?(this._latlng=_t(s),At(this,l)):(At(this,s),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(s){return(s=arguments.length?s:this._source._map).hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&oe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&oe(this._container,1),this.bringToFront(),this.options.interactive&&(pt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(oe(this._container,0),this._removeTimeout=setTimeout(v(Nt,void 0,this._container),200)):Nt(this._container),this.options.interactive&&(Tt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=_t(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ee(this._container),this},bringToBack:function(){return this._map&&ne(this._container),this},_prepareOpen:function(s){if(!(p=this._source)._map)return!1;if(p instanceof Oe){var l,p=null,_=this._source._layers;for(l in _)if(_[l]._map){p=_[l];break}if(!p)return!1;this._source=p}if(!s)if(p.getCenter)s=p.getCenter();else if(p.getLatLng)s=p.getLatLng();else{if(!p.getBounds)throw new Error("Unable to get source layer LatLng.");s=p.getBounds().getCenter()}return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,l="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof l)s.innerHTML=l;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){var s,l,p;this._map&&(l=this._map.latLngToLayerPoint(this._latlng),s=xt(this.options.offset),p=this._getAnchor(),this._zoomAnimated?Gt(this._container,l.add(p)):s=s.add(l).add(p),l=this._containerBottom=-s.y,p=this._containerLeft=-Math.round(this._containerWidth/2)+s.x,this._container.style.bottom=l+"px",this._container.style.left=p+"px")},_getAnchor:function(){return[0,0]}}),qi=(A.include({_initOverlay:function(s,l,p,_){var S=l;return S instanceof s||(S=new s(_).setContent(l)),p&&S.setLatLng(p),S}}),le.include({_initOverlay:function(s,l,p,_){var S=p;return S instanceof s?(At(S,_),S._source=this):(S=l&&!_?l:new s(_,this)).setContent(p),S}}),Ve.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return!(s=arguments.length?s:this._source._map).hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Ve.prototype.openOn.call(this,s)},onAdd:function(s){Ve.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof pi||this._source.on("preclick",x))},onRemove:function(s){Ve.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof pi||this._source.off("preclick",x))},getEvents:function(){var s=Ve.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",l=this._container=Mt("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=Mt("div",s+"-content-wrapper",l);this._contentNode=Mt("div",s+"-content",p),C(l),y(this._contentNode),n(l,"contextmenu",x),this._tipContainer=Mt("div",s+"-tip-container",l),this._tip=Mt("div",s+"-tip",this._tipContainer),this.options.closeButton&&((p=this._closeButton=Mt("a",s+"-close-button",l)).setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',n(p,"click",function(_){k(_),this.close()},this))},_updateLayout:function(){var s=this._contentNode,l=s.style,p=(l.width="",l.whiteSpace="nowrap",s.offsetWidth),_=(p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),l.width=p+1+"px",l.whiteSpace="",l.height="",p=s.offsetHeight,this.options.maxHeight);(_&&_<p?(l.height=_+"px",pt):Tt)(s,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(l){l=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center);var p=this._getAnchor();Gt(this._container,l.add(p))},_adjustPan:function(){var s,l,p,_,S,O,G,W;this.options.autoPan&&(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning?this._autopanning=!1:(s=this._map,l=parseInt(qe(this._container,"marginBottom"),10)||0,W=this._containerWidth,(p=new ft(this._containerLeft,-(l=this._container.offsetHeight+l)-this._containerBottom))._add(re(this._container)),p=s.layerPointToContainerPoint(p),S=xt(this.options.autoPanPadding),_=xt(this.options.autoPanPaddingTopLeft||S),S=xt(this.options.autoPanPaddingBottomRight||S),O=s.getSize(),G=0,p.x+W+S.x>O.x&&(G=p.x+W-O.x+S.x),p.x-G-_.x<(W=0)&&(G=p.x-_.x),p.y+l+S.y>O.y&&(W=p.y+l-O.y+S.y),p.y-W-_.y<0&&(W=p.y-_.y),(G||W)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([G,W]))))},_getAnchor:function(){return xt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}})),$i=(A.mergeOptions({closePopupOnClick:!0}),A.include({openPopup:function(s,l,p){return this._initOverlay(qi,s,l,p).openOn(this),this},closePopup:function(s){return(s=arguments.length?s:this._popup)&&s.close(),this}}),le.include({bindPopup:function(s,l){return this._popup=this._initOverlay(qi,this._popup,s,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Oe||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){var l;this._popup&&this._map&&(M(s),this._popup._source!==(l=s.layer||s.target)||l instanceof pi?(this._popup._source=l,this.openPopup(s.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng))},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){13===s.originalEvent.keyCode&&this._openPopup(s)}}),Ve.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Ve.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Ve.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Ve.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){this._contentNode=this._container=Mt("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide")),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+R(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var l,p=this._container,_=(nt=this._map).latLngToContainerPoint(nt.getCenter()),nt=nt.layerPointToContainerPoint(s),S=this.options.direction,O=p.offsetWidth,G=p.offsetHeight,W=xt(this.options.offset),K=this._getAnchor();nt="top"===S?(l=O/2,G):"bottom"===S?(l=O/2,0):(l="center"===S?O/2:"right"===S?0:"left"===S?O:nt.x<_.x?(S="right",0):(S="left",O+2*(W.x+K.x)),G/2),s=s.subtract(xt(l,nt,!0)).add(W).add(K),Tt(p,"leaflet-tooltip-right"),Tt(p,"leaflet-tooltip-left"),Tt(p,"leaflet-tooltip-top"),Tt(p,"leaflet-tooltip-bottom"),pt(p,"leaflet-tooltip-"+S),Gt(p,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&oe(this._container,s)},_animateZoom:function(s){s=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),this._setPosition(s)},_getAnchor:function(){return xt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}})),ha=(A.include({openTooltip:function(s,l,p){return this._initOverlay($i,s,l,p).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),le.include({bindTooltip:function(s,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay($i,this._tooltip,s,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){var l,p;!s&&this._tooltipHandlersAdded||(l=s?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip},this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[l](p),this._tooltipHandlersAdded=!s)},openTooltip:function(s){return this._tooltip&&(this instanceof Oe||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var l="function"==typeof s.getElement&&s.getElement();l&&(n(l,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),n(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){(s="function"==typeof s.getElement&&s.getElement())&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){var l;this._tooltip&&this._map&&(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag?(this._openOnceFlag=!0,(l=this)._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(s)})):(this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)))},_moveTooltip:function(s){var l=s.latlng;this._tooltip.options.sticky&&s.originalEvent&&(s=this._map.mouseEventToContainerPoint(s.originalEvent),s=this._map.containerPointToLayerPoint(s),l=this._map.layerPointToLatLng(s)),this._tooltip.setLatLng(l)}}),Je.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(l){l=l&&"DIV"===l.tagName?l:document.createElement("div");var p=this.options;return p.html instanceof Element?(ye(l),l.appendChild(p.html)):l.innerHTML=!1!==p.html?p.html:"",p.bgPos&&(p=xt(p.bgPos),l.style.backgroundPosition=-p.x+"px "+-p.y+"px"),this._setIconStyles(l,"icon"),l},createShadow:function(){return null}}));Je.Default=ki;var zi=le.extend({options:{tileSize:256,opacity:1,updateWhenIdle:dt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){At(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),Nt(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ee(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ne(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){var s;return this._map&&(this._removeAllTiles(),(s=this._clampZoom(this._map.getZoom()))!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()),this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=Z(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof ft?s:new ft(s,s)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var l,p=this.getPane().children,_=-s(-1/0,1/0),S=0,O=p.length;S<O;S++)l=p[S].style.zIndex,p[S]!==this._container&&l&&(_=s(_,+l));isFinite(_)&&(this.options.zIndex=_+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!dt.ielt9){oe(this._container,this.options.opacity);var s,l=+new Date,p=!1,_=!1;for(s in this._tiles){var S,O=this._tiles[s];O.current&&O.loaded&&(S=Math.min(1,(l-O.loaded)/200),oe(O.el,S),S<1?p=!0:(O.active?_=!0:this._onOpaqueTile(O),O.active=!0))}_&&!this._noPrune&&this._pruneTiles(),p&&(Pt(this._fadeFrame),this._fadeFrame=jt(this._updateOpacity,this))}},_onOpaqueTile:J,_initContainer:function(){this._container||(this._container=Mt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,l=this.options.maxZoom;if(void 0!==s){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===s?(this._levels[p].el.style.zIndex=l-Math.abs(s-p),this._onUpdateLevel(p)):(Nt(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var _=this._levels[s],S=this._map;return _||((_=this._levels[s]={}).el=Mt("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=l,_.origin=S.project(S.unproject(S.getPixelOrigin()),s).round(),_.zoom=s,this._setZoomTransform(_,S.getCenter(),S.getZoom()),this._onCreateLevel(_)),this._level=_}},_onUpdateLevel:J,_onRemoveLevel:J,_onCreateLevel:J,_pruneTiles:function(){if(this._map){var s,l,p,_=this._map.getZoom();if(_>this.options.maxZoom||_<this.options.minZoom)this._removeAllTiles();else{for(s in this._tiles)(p=this._tiles[s]).retain=p.current;for(s in this._tiles)(p=this._tiles[s]).current&&!p.active&&(this._retainParent((l=p.coords).x,l.y,l.z,l.z-5)||this._retainChildren(l.x,l.y,l.z,l.z+2));for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}}},_removeTilesAtZoom:function(s){for(var l in this._tiles)this._tiles[l].coords.z===s&&this._removeTile(l)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)Nt(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(S,O,G,_){G-=1;var W=((W=new ft(+(S=Math.floor(S/2)),+(O=Math.floor(O/2)))).z=G,this._tileCoordsToKey(W));return(W=this._tiles[W])&&W.active?W.retain=!0:(W&&W.loaded&&(W.retain=!0),_<G&&this._retainParent(S,O,G,_))},_retainChildren:function(s,l,p,_){for(var S=2*s;S<2*s+2;S++)for(var O=2*l;O<2*l+2;O++){var G=((G=new ft(S,O)).z=p+1,this._tileCoordsToKey(G));(G=this._tiles[G])&&G.active?G.retain=!0:(G&&G.loaded&&(G.retain=!0),p+1<_&&this._retainChildren(S,O,p+1,_))}},_resetView:function(s){s=s&&(s.pinch||s.flyTo),this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var l=this.options;return void 0!==l.minNativeZoom&&s<l.minNativeZoom?l.minNativeZoom:void 0!==l.maxNativeZoom&&l.maxNativeZoom<s?l.maxNativeZoom:s},_setView:function(s,l,p,_){var S=Math.round(l);S=void 0!==this.options.maxZoom&&S>this.options.maxZoom||void 0!==this.options.minZoom&&S<this.options.minZoom?void 0:this._clampZoom(S),_&&!(this.options.updateWhenZooming&&S!==this._tileZoom)||(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==S&&this._update(s),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(s,l)},_setZoomTransforms:function(s,l){for(var p in this._levels)this._setZoomTransform(this._levels[p],s,l)},_setZoomTransform:function(s,S,p){var _=this._map.getZoomScale(p,s.zoom);S=s.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(S,p)).round(),dt.any3d?Ae(s.el,S,_):Gt(s.el,S)},_resetGrid:function(){var s=this._map,l=s.options.crs,p=this._tileSize=this.getTileSize(),_=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,l.wrapLng[0]],_).x/p.x),Math.ceil(s.project([0,l.wrapLng[1]],_).x/p.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([l.wrapLat[0],0],_).y/p.x),Math.ceil(s.project([l.wrapLat[1],0],_).y/p.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(p){var l=(_=this._map)._animatingZoom?Math.max(_._animateToZoom,_.getZoom()):_.getZoom(),_=(l=_.getZoomScale(l,this._tileZoom),p=_.project(p,this._tileZoom).floor(),_.getSize().divideBy(2*l));return new wt(p.subtract(_),p.add(_))},_update:function(s){if(l=this._map){var p=this._clampZoom(l.getZoom());if(void 0===s&&(s=l.getCenter()),void 0!==this._tileZoom){var _,l=this._getTiledPixelBounds(s),S=this._pxBoundsToTileRange(l),O=S.getCenter(),G=[],W=(l=this.options.keepBuffer,new wt(S.getBottomLeft().subtract([l,-l]),S.getTopRight().add([l,-l])));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(_ in this._tiles){var K=this._tiles[_].coords;K.z===this._tileZoom&&W.contains(new ft(K.x,K.y))||(this._tiles[_].current=!1)}if(1<Math.abs(p-this._tileZoom))this._setView(s,p);else{for(var nt=S.min.y;nt<=S.max.y;nt++)for(var ct=S.min.x;ct<=S.max.x;ct++){var Lt,Ct=new ft(ct,nt);Ct.z=this._tileZoom,this._isValidTile(Ct)&&((Lt=this._tiles[this._tileCoordsToKey(Ct)])?Lt.current=!0:G.push(Ct))}if(G.sort(function(me,Me){return me.distanceTo(O)-Me.distanceTo(O)}),0!==G.length){this._loading||(this._loading=!0,this.fire("loading"));var qt=document.createDocumentFragment();for(ct=0;ct<G.length;ct++)this._addTile(G[ct],qt);this._level.el.appendChild(qt)}}}}},_isValidTile:function(s){var l=this._map.options.crs;if(!l.infinite){var p=this._globalTileRange;if(!l.wrapLng&&(s.x<p.min.x||s.x>p.max.x)||!l.wrapLat&&(s.y<p.min.y||s.y>p.max.y))return!1}return!this.options.bounds||(l=this._tileCoordsToBounds(s),Ot(this.options.bounds).overlaps(l))},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var l=this._map,_=this.getTileSize(),p=s.scaleBy(_);return _=p.add(_),[l.unproject(p,s.z),l.unproject(_,s.z)]},_tileCoordsToBounds:function(s){return s=new Kt((s=this._tileCoordsToNwSe(s))[0],s[1]),this.options.noWrap?s:this._map.wrapLatLngBounds(s)},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(l){var p=new ft(+(l=l.split(":"))[0],+l[1]);return p.z=+l[2],p},_removeTile:function(s){var l=this._tiles[s];l&&(Nt(l.el),delete this._tiles[s],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){pt(s,"leaflet-tile");var l=this.getTileSize();s.style.width=l.x+"px",s.style.height=l.y+"px",s.onselectstart=J,s.onmousemove=J,dt.ielt9&&this.options.opacity<1&&oe(s,this.options.opacity)},_addTile:function(s,l){var p=this._getTilePos(s),_=this._tileCoordsToKey(s),S=this.createTile(this._wrapCoords(s),v(this._tileReady,this,s));this._initTile(S),this.createTile.length<2&&jt(v(this._tileReady,this,s,null,S)),Gt(S,p),this._tiles[_]={el:S,coords:s,current:!0},l.appendChild(S),this.fire("tileloadstart",{tile:S,coords:s})},_tileReady:function(s,l,p){l&&this.fire("tileerror",{error:l,tile:p,coords:s});var _=this._tileCoordsToKey(s);(p=this._tiles[_])&&(p.loaded=+new Date,this._map._fadeAnimated?(oe(p.el,0),Pt(this._fadeFrame),this._fadeFrame=jt(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),l||(pt(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),dt.ielt9||!this._map._fadeAnimated?jt(this._pruneTiles,this):setTimeout(v(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var l=new ft(this._wrapX?it(s.x,this._wrapX):s.x,this._wrapY?it(s.y,this._wrapY):s.y);return l.z=s.z,l},_pxBoundsToTileRange:function(s){var l=this.getTileSize();return new wt(s.min.unscaleBy(l).floor(),s.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}}),Ei=zi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,l){this._url=s,(l=At(this,l)).detectRetina&&dt.retina&&0<l.maxZoom?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),"string"==typeof l.subdomains&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,l){return this._url===s&&void 0===l&&(l=!0),this._url=s,l||this.redraw(),this},createTile:function(s,l){var p=document.createElement("img");return n(p,"load",v(this._tileOnLoad,this,l,p)),n(p,"error",v(this._tileOnError,this,l,p)),!this.options.crossOrigin&&""!==this.options.crossOrigin||(p.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(s),p},getTileUrl:function(s){var l={r:dt.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};return this._map&&!this._map.options.crs.infinite&&(s=this._globalTileRange.max.y-s.y,this.options.tms&&(l.y=s),l["-y"]=s),he(this._url,gt(l,this.options))},_tileOnLoad:function(s,l){dt.ielt9?setTimeout(v(s,this,null,l),0):s(null,l)},_tileOnError:function(s,l,p){var _=this.options.errorTileUrl;_&&l.getAttribute("src")!==_&&(l.src=_),s(p,l)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom;return(s=this.options.zoomReverse?this.options.maxZoom-s:s)+this.options.zoomOffset},_getSubdomain:function(s){return s=Math.abs(s.x+s.y)%this.options.subdomains.length,this.options.subdomains[s]},_abortLoading:function(){var s,l,p;for(s in this._tiles)this._tiles[s].coords.z!==this._tileZoom&&((p=this._tiles[s].el).onload=J,p.onerror=J,p.complete||(p.src=X,l=this._tiles[s].coords,Nt(p),delete this._tiles[s],this.fire("tileabort",{tile:p,coords:l})))},_removeTile:function(s){var l=this._tiles[s];if(l)return l.el.setAttribute("src",X),zi.prototype._removeTile.call(this,s)},_tileReady:function(s,l,p){if(this._map&&(!p||p.getAttribute("src")!==X))return zi.prototype._tileReady.call(this,s,l,p)}});function ca(s,l){return new Ei(s,l)}var da=Ei.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(S,l){this._url=S;var p,_=gt({},this.defaultWmsParams);for(p in l)p in this.options||(_[p]=l[p]);S=(l=At(this,l)).detectRetina&&dt.retina?2:1;var O=this.getTileSize();_.width=O.x*S,_.height=O.y*S,this.wmsParams=_},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[1.3<=this._wmsVersion?"crs":"srs"]=this._crs.code,Ei.prototype.onAdd.call(this,s)},getTileUrl:function(s){var l=this._tileCoordsToNwSe(s),p=(l=(p=te((p=this._crs).project(l[0]),p.project(l[1]))).min,p.max);return l=(1.3<=this._wmsVersion&&this._crs===Mi?[l.y,l.x,p.y,p.x]:[l.x,l.y,p.x,p.y]).join(","),(p=Ei.prototype.getTileUrl.call(this,s))+je(this.wmsParams,p,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+l},setParams:function(s,l){return gt(this.wmsParams,s),l||this.redraw(),this}});Ei.WMS=da,ca.wms=function(s,l){return new da(s,l)};var ei=le.extend({options:{padding:.1},initialize:function(s){At(this,s),R(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),pt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,l){var p=this._map.getZoomScale(l,this._zoom),S=this._map.getSize().multiplyBy(.5+this.options.padding),_=this._map.project(this._center,l);S=S.multiplyBy(-p).add(_).subtract(this._map._getNewPixelOrigin(s,l)),dt.any3d?Ae(this._container,S,p):Gt(this._container,S)},_reset:function(){for(var s in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,l=this._map.getSize(),p=this._map.containerPointToLayerPoint(l.multiplyBy(-s)).round();this._bounds=new wt(p,p.add(l.multiplyBy(1+2*s)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ua=ei.extend({options:{tolerance:0},getEvents:function(){var s=ei.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ei.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");n(s,"mousemove",this._onMouseMove,this),n(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),n(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){Pt(this._redrawRequest),delete this._ctx,Nt(this._container),r(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var s in this._redrawBounds=null,this._layers)this._layers[s]._update();this._redraw()}},_update:function(){var s,l,p,_;this._map._animatingZoom&&this._bounds||(ei.prototype._update.call(this),l=this._container,p=(s=this._bounds).getSize(),_=dt.retina?2:1,Gt(l,s.min),l.width=_*p.x,l.height=_*p.y,l.style.width=p.x+"px",l.style.height=p.y+"px",dt.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update"))},_reset:function(){ei.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),s=(this._layers[R(s)]=s)._order={layer:s,prev:this._drawLast,next:null},this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var l=(p=s._order).next,p=p.prev;l?l.prev=p:this._drawLast=p,p?p.next=l:this._drawFirst=l,delete s._order,delete this._layers[R(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if("string"==typeof s.options.dashArray){for(var l,p=s.options.dashArray.split(/[, ]+/),_=[],S=0;S<p.length;S++){if(l=Number(p[S]),isNaN(l))return;_.push(l)}s.options._dashArray=_}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||jt(this._redraw,this))},_extendRedrawBounds:function(s){var l;s._pxBounds&&(l=(s.options.weight||0)+1,this._redrawBounds=this._redrawBounds||new wt,this._redrawBounds.extend(s._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(s._pxBounds.max.add([l,l])))},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s,l=this._redrawBounds;l?(s=l.getSize(),this._ctx.clearRect(l.min.x,l.min.y,s.x,s.y)):(this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore())},_draw:function(){var s,l,p=this._redrawBounds;this._ctx.save(),p&&(l=p.getSize(),this._ctx.beginPath(),this._ctx.rect(p.min.x,p.min.y,l.x,l.y),this._ctx.clip()),this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)s=_.layer,(!p||s._pxBounds&&s._pxBounds.intersects(p))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,l){if(this._drawing){var p,_,S,O,G=s._parts,W=G.length,K=this._ctx;if(W){for(K.beginPath(),p=0;p<W;p++){for(_=0,S=G[p].length;_<S;_++)K[_?"lineTo":"moveTo"]((O=G[p][_]).x,O.y);l&&K.closePath()}this._fillStroke(K,s)}}},_updateCircle:function(s){var l,p,_,S;this._drawing&&!s._empty()&&(l=s._point,p=this._ctx,_=Math.max(Math.round(s._radius),1),1!=(S=(Math.max(Math.round(s._radiusY),1)||_)/_)&&(p.save(),p.scale(1,S)),p.beginPath(),p.arc(l.x,l.y/S,_,0,2*Math.PI,!1),1!=S&&p.restore(),this._fillStroke(p,s))},_fillStroke:function(s,l){var p=l.options;p.fill&&(s.globalAlpha=p.fillOpacity,s.fillStyle=p.fillColor||p.color,s.fill(p.fillRule||"evenodd")),p.stroke&&0!==p.weight&&(s.setLineDash&&s.setLineDash(l.options&&l.options._dashArray||[]),s.globalAlpha=p.opacity,s.lineWidth=p.weight,s.strokeStyle=p.color,s.lineCap=p.lineCap,s.lineJoin=p.lineJoin,s.stroke())},_onClick:function(s){for(var l,p,_=this._map.mouseEventToLayerPoint(s),S=this._drawFirst;S;S=S.next)(l=S.layer).options.interactive&&l._containsPoint(_)&&(("click"===s.type||"preclick"===s.type)&&this._map._draggableMoved(l)||(p=l));this._fireEvent(!!p&&[p],s)},_onMouseMove:function(s){var l;!this._map||this._map.dragging.moving()||this._map._animatingZoom||(l=this._map.mouseEventToLayerPoint(s),this._handleMouseHover(s,l))},_handleMouseOut:function(s){var l=this._hoveredLayer;l&&(Tt(this._container,"leaflet-interactive"),this._fireEvent([l],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,l){if(!this._mouseHoverThrottled){for(var p,_,S=this._drawFirst;S;S=S.next)(p=S.layer).options.interactive&&p._containsPoint(l)&&(_=p);_!==this._hoveredLayer&&(this._handleMouseOut(s),_&&(pt(this._container,"leaflet-interactive"),this._fireEvent([_],s,"mouseover"),this._hoveredLayer=_)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],s),this._mouseHoverThrottled=!0,setTimeout(v(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,l,p){this._map._fireDOMEvent(l,p||l.type,s)},_bringToFront:function(s){var l,p,_=s._order;_&&(p=_.prev,(l=_.next)&&((l.prev=p)?p.next=l:l&&(this._drawFirst=l),_.prev=this._drawLast,(this._drawLast.next=_).next=null,this._drawLast=_,this._requestRedraw(s)))},_bringToBack:function(s){var l,p,_=s._order;_&&(l=_.next,(p=_.prev)&&((p.next=l)?l.prev=p:p&&(this._drawLast=p),_.prev=null,_.next=this._drawFirst,this._drawFirst.prev=_,this._drawFirst=_,this._requestRedraw(s)))}});function pa(s){return dt.canvas?new ua(s):null}var Oi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Ki=(Ri={_initContainer:function(){this._container=Mt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ei.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var l=s._container=Oi("shape");pt(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",s._path=Oi("path"),l.appendChild(s._path),this._updateStyle(s),this._layers[R(s)]=s},_addPath:function(s){var l=s._container;this._container.appendChild(l),s.options.interactive&&s.addInteractiveTarget(l)},_removePath:function(s){var l=s._container;Nt(l),s.removeInteractiveTarget(l),delete this._layers[R(s)]},_updateStyle:function(s){var l=s._stroke,p=s._fill,_=s.options,S=s._container;S.stroked=!!_.stroke,S.filled=!!_.fill,_.stroke?(l=l||(s._stroke=Oi("stroke")),S.appendChild(l),l.weight=_.weight+"px",l.color=_.color,l.opacity=_.opacity,l.dashStyle=_.dashArray?zt(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):"",l.endcap=_.lineCap.replace("butt","flat"),l.joinstyle=_.lineJoin):l&&(S.removeChild(l),s._stroke=null),_.fill?(p=p||(s._fill=Oi("fill")),S.appendChild(p),p.color=_.fillColor||_.color,p.opacity=_.fillOpacity):p&&(S.removeChild(p),s._fill=null)},_updateCircle:function(s){var l=s._point.round(),p=Math.round(s._radius),_=Math.round(s._radiusY||p);this._setPath(s,s._empty()?"M0 0":"AL "+l.x+","+l.y+" "+p+","+_+" 0,23592600")},_setPath:function(s,l){s._path.v=l},_bringToFront:function(s){Ee(s._container)},_bringToBack:function(s){ne(s._container)}},dt.vml?Oi:Pe),Ni=ei.extend({_initContainer:function(){this._container=Ki("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ki("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Nt(this._container),r(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){var s,l,p;this._map._animatingZoom&&this._bounds||(ei.prototype._update.call(this),l=(s=this._bounds).getSize(),p=this._container,this._svgSize&&this._svgSize.equals(l)||(this._svgSize=l,p.setAttribute("width",l.x),p.setAttribute("height",l.y)),Gt(p,s.min),p.setAttribute("viewBox",[s.min.x,s.min.y,l.x,l.y].join(" ")),this.fire("update"))},_initPath:function(s){var l=s._path=Ki("path");s.options.className&&pt(l,s.options.className),s.options.interactive&&pt(l,"leaflet-interactive"),this._updateStyle(s),this._layers[R(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){Nt(s._path),s.removeInteractiveTarget(s._path),delete this._layers[R(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(p){var l=p._path;p=p.options,l&&(p.stroke?(l.setAttribute("stroke",p.color),l.setAttribute("stroke-opacity",p.opacity),l.setAttribute("stroke-width",p.weight),l.setAttribute("stroke-linecap",p.lineCap),l.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?l.setAttribute("stroke-dasharray",p.dashArray):l.removeAttribute("stroke-dasharray"),p.dashOffset?l.setAttribute("stroke-dashoffset",p.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),p.fill?(l.setAttribute("fill",p.fillColor||p.color),l.setAttribute("fill-opacity",p.fillOpacity),l.setAttribute("fill-rule",p.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(s,l){this._setPath(s,ai(s._parts,l))},_updateCircle:function(s){var _=s._point,l=Math.max(Math.round(s._radius),1),p="a"+l+","+(Math.max(Math.round(s._radiusY),1)||l)+" 0 1,0 ";_=s._empty()?"M0 0":"M"+(_.x-l)+","+_.y+p+2*l+",0 "+p+2*-l+",0 ",this._setPath(s,_)},_setPath:function(s,l){s._path.setAttribute("d",l)},_bringToFront:function(s){Ee(s._path)},_bringToBack:function(s){ne(s._path)}});function ga(s){return dt.svg||dt.vml?new Ni(s):null}dt.vml&&Ni.include(Ri),A.include({getRenderer:function(s){return s=(s=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer)||(this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(s){var l;return"overlayPane"!==s&&void 0!==s&&(void 0===(l=this._paneRenderers[s])&&(l=this._createRenderer({pane:s}),this._paneRenderers[s]=l),l)},_createRenderer:function(s){return this.options.preferCanvas&&pa(s)||ga(s)}});var fa=Pi.extend({initialize:function(s,l){Pi.prototype.initialize.call(this,this._boundsToLatLngs(s),l)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return[(s=Ot(s)).getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});Ni.create=Ki,Ni.pointsToPath=ai,ti.geometryToLayer=Wi,ti.coordsToLatLng=aa,ti.coordsToLatLngs=Gi,ti.latLngToCoords=sa,ti.latLngsToCoords=Vi,ti.getFeature=Ti,ti.asFeature=ji,A.mergeOptions({boxZoom:!0}),ii=Y.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){n(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){r(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Nt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||1!==s.which&&1!==s.button)return!1;this._clearDeferredResetState(),this._resetState(),Ge(),_i(),this._startPoint=this._map.mouseEventToContainerPoint(s),n(document,{contextmenu:M,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(l){this._moved||(this._moved=!0,this._box=Mt("div","leaflet-zoom-box",this._container),pt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(l);var p=(l=new wt(this._point,this._startPoint)).getSize();Gt(this._box,l.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(Nt(this._box),Tt(this._container,"leaflet-crosshair")),Ce(),E(),r(document,{contextmenu:M,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){1!==s.which&&1!==s.button||(this._finish(),this._moved&&(this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(v(this._resetState,this),0),s=new Kt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point)),this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})))},_onKeyDown:function(s){27===s.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}}),A.addInitHook("addHandler","boxZoom",ii),A.mergeOptions({doubleClickZoom:!0}),Ji=Y.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var l=this._map,_=l.getZoom(),p=l.options.zoomDelta;_=s.originalEvent.shiftKey?_-p:_+p,"center"===l.options.doubleClickZoom?l.setZoom(_):l.setZoomAround(s.containerPoint,_)}});var gi=(A.addInitHook("addHandler","doubleClickZoom",Ji),A.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0}),Y.extend({addHooks:function(){var s;this._draggable||(this._draggable=new et((s=this._map)._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))),pt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Tt(this._map._container,"leaflet-grab"),Tt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s,l=this._map;l._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity?(s=Ot(this._map.options.maxBounds),this._offsetLimit=te(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))):this._offsetLimit=null,l.fire("movestart").fire("dragstart"),l.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){var l,p;this._map.options.inertia&&(l=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos,this._positions.push(p),this._times.push(l),this._prunePositions(l)),this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;1<this._positions.length&&50<s-this._times[0];)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,l){return s-(s-l)*this._viscosity},_onPreDragLimit:function(){var s,l;this._viscosity&&this._offsetLimit&&((s=this._draggable._newPos.subtract(this._draggable._startPos)).x<(l=this._offsetLimit).min.x&&(s.x=this._viscousLimit(s.x,l.min.x)),s.y<l.min.y&&(s.y=this._viscousLimit(s.y,l.min.y)),s.x>l.max.x&&(s.x=this._viscousLimit(s.x,l.max.x)),s.y>l.max.y&&(s.y=this._viscousLimit(s.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(s))},_onPreDragWrap:function(){var S=this._worldWidth,s=Math.round(S/2),l=this._initialWorldOffset,p=((_=this._draggable._newPos.x)-s+l)%S+s-l,_=(_+s+l)%S-s-l;S=Math.abs(p+l)<Math.abs(_+l)?p:_,this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=S},_onDragEnd:function(s){var l,p,_,S,O=this._map,G=O.options,W=!G.inertia||s.noInertia||this._times.length<2;O.fire("dragend",s),!W&&(this._prunePositions(+new Date),W=(s=(s=this._lastPos.subtract(this._positions[0])).multiplyBy((l=G.easeLinearity)/(W=(this._lastTime-this._times[0])/1e3))).distanceTo([0,0]),p=Math.min(G.inertiaMaxSpeed,W),s=s.multiplyBy(p/W),(S=s.multiplyBy(-(_=p/(G.inertiaDeceleration*l))/2).round()).x||S.y)?(S=O._limitOffset(S,O.options.maxBounds),jt(function(){O.panBy(S,{duration:_,easeLinearity:l,noMoveStart:!0,animate:!0})})):O.fire("moveend")}})),va=(A.addInitHook("addHandler","dragging",gi),A.mergeOptions({keyboard:!0,keyboardPanDelta:80}),Qi=Y.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),n(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),r(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){var s,l,p;this._focused||(p=document.body,s=document.documentElement,l=p.scrollTop||s.scrollTop,p=p.scrollLeft||s.scrollLeft,this._map._container.focus(),window.scrollTo(p,l))},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){for(var l=this._panKeys={},p=this.keyCodes,_=0,S=p.left.length;_<S;_++)l[p.left[_]]=[-1*s,0];for(_=0,S=p.right.length;_<S;_++)l[p.right[_]]=[s,0];for(_=0,S=p.down.length;_<S;_++)l[p.down[_]]=[0,s];for(_=0,S=p.up.length;_<S;_++)l[p.up[_]]=[0,-1*s]},_setZoomDelta:function(s){for(var l=this._zoomKeys={},p=this.keyCodes,_=0,S=p.zoomIn.length;_<S;_++)l[p.zoomIn[_]]=s;for(_=0,S=p.zoomOut.length;_<S;_++)l[p.zoomOut[_]]=-s},_addHooks:function(){n(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){r(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var l,p,_=s.keyCode,S=this._map;if(_ in this._panKeys)S._panAnim&&S._panAnim._inProgress||(p=this._panKeys[_],s.shiftKey&&(p=xt(p).multiplyBy(3)),S.options.maxBounds&&(p=S._limitOffset(xt(p),S.options.maxBounds)),S.options.worldCopyJump?(l=S.wrapLatLng(S.unproject(S.project(S.getCenter()).add(p))),S.panTo(l)):S.panBy(p));else if(_ in this._zoomKeys)S.setZoom(S.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[_]);else{if(27!==_||!S._popup||!S._popup.options.closeOnEscapeKey)return;S.closePopup()}M(s)}}}),A.addInitHook("addHandler","keyboard",Qi),A.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60}),ta=Y.extend({addHooks:function(){n(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){r(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var p=u(s),l=this._map.options.wheelDebounceTime;this._delta+=p,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date),p=Math.max(l-(+new Date-this._startTime),0),clearTimeout(this._timer),this._timer=setTimeout(v(this._performZoom,this),p),M(s)},_performZoom:function(){var s=this._map,l=s.getZoom(),p=this._map.options.zoomSnap||0,_=(s._stop(),this._delta/(4*this._map.options.wheelPxPerZoomLevel));_=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,p=p?Math.ceil(_/p)*p:_,_=s._limitZoom(l+(0<this._delta?p:-p))-l,this._delta=0,this._startTime=null,_&&("center"===s.options.scrollWheelZoom?s.setZoom(l+_):s.setZoomAround(this._lastMousePos,l+_))}}),A.addInitHook("addHandler","scrollWheelZoom",ta),A.mergeOptions({tapHold:dt.touchNative&&dt.safari&&dt.mobile,tapTolerance:15}),Bi=Y.extend({addHooks:function(){n(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){r(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){var l;clearTimeout(this._holdTimeout),1===s.touches.length&&(this._startPos=this._newPos=new ft((l=s.touches[0]).clientX,l.clientY),this._holdTimeout=setTimeout(v(function(){this._cancel(),this._isTapValid()&&(n(document,"touchend",k),n(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),600),n(document,"touchend touchcancel contextmenu",this._cancel,this),n(document,"touchmove",this._onMove,this))},_cancelClickPrevent:function s(){r(document,"touchend",k),r(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),r(document,"touchend touchcancel contextmenu",this._cancel,this),r(document,"touchmove",this._onMove,this)},_onMove:function(s){this._newPos=new ft((s=s.touches[0]).clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,l){(s=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY}))._simulated=!0,l.target.dispatchEvent(s)}}),A.addInitHook("addHandler","tapHold",Bi),A.mergeOptions({touchZoom:dt.touch,bounceAtZoomLimits:!0}),Hi=Y.extend({addHooks:function(){pt(this._map._container,"leaflet-touch-zoom"),n(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Tt(this._map._container,"leaflet-touch-zoom"),r(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var l,p,_=this._map;!s.touches||2!==s.touches.length||_._animatingZoom||this._zooming||(l=_.mouseEventToContainerPoint(s.touches[0]),p=_.mouseEventToContainerPoint(s.touches[1]),this._centerPoint=_.getSize()._divideBy(2),this._startLatLng=_.containerPointToLatLng(this._centerPoint),"center"!==_.options.touchZoom&&(this._pinchStartLatLng=_.containerPointToLatLng(l.add(p)._divideBy(2))),this._startDist=l.distanceTo(p),this._startZoom=_.getZoom(),this._moved=!1,this._zooming=!0,_._stop(),n(document,"touchmove",this._onTouchMove,this),n(document,"touchend touchcancel",this._onTouchEnd,this),k(s))},_onTouchMove:function(s){if(s.touches&&2===s.touches.length&&this._zooming){var l=this._map,p=l.mouseEventToContainerPoint(s.touches[0]),_=l.mouseEventToContainerPoint(s.touches[1]),S=p.distanceTo(_)/this._startDist;if(this._zoom=l.getScaleZoom(S,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&S<1||this._zoom>l.getMaxZoom()&&1<S)&&(this._zoom=l._limitZoom(this._zoom)),"center"===l.options.touchZoom){if(this._center=this._startLatLng,1==S)return}else{if(p=p._add(_)._divideBy(2)._subtract(this._centerPoint),1==S&&0===p.x&&0===p.y)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(p),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),Pt(this._animRequest),_=v(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0),this._animRequest=jt(_,this,!0),k(s)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,Pt(this._animRequest),r(document,"touchmove",this._onTouchMove,this),r(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}}),A.addInitHook("addHandler","touchZoom",Hi),A.BoxZoom=ii,A.DoubleClickZoom=Ji,A.Drag=gi,A.Keyboard=Qi,A.ScrollWheelZoom=ta,A.TapHold=Bi,A.TouchZoom=Hi,Q.Bounds=wt,Q.Browser=dt,Q.CRS=Ft,Q.Canvas=ua,Q.Circle=ia,Q.CircleMarker=Fi,Q.Class=Zt,Q.Control=z,Q.DivIcon=ha,Q.DivOverlay=Ve,Q.DomEvent=w,Q.DomUtil=Ne,Q.Draggable=et,Q.Evented=_e,Q.FeatureGroup=Oe,Q.GeoJSON=ti,Q.GridLayer=zi,Q.Handler=Y,Q.Icon=Je,Q.ImageOverlay=Ui,Q.LatLng=Et,Q.LatLngBounds=Kt,Q.Layer=le,Q.LayerGroup=Ke,Q.LineUtil=Bt,Q.Map=A,Q.Marker=Yi,Q.Mixin=V,Q.Path=pi,Q.Point=ft,Q.PolyUtil=mt,Q.Polygon=Pi,Q.Polyline=Qe,Q.Popup=qi,Q.PosAnimation=b,Q.Projection=ze,Q.Rectangle=fa,Q.Renderer=ei,Q.SVG=Ni,Q.SVGOverlay=la,Q.TileLayer=Ei,Q.Tooltip=$i,Q.Transformation=ke,Q.Util=ce,Q.VideoOverlay=ra,Q.bind=v,Q.bounds=te,Q.canvas=pa,Q.circle=function(s,l,p){return new ia(s,l,p)},Q.circleMarker=function(s,l){return new Fi(s,l)},Q.control=T,Q.divIcon=function(s){return new ha(s)},Q.extend=gt,Q.featureGroup=function(s,l){return new Oe(s,l)},Q.geoJSON=oa,Q.geoJson=Zi,Q.gridLayer=function(s){return new zi(s)},Q.icon=function(s){return new Je(s)},Q.imageOverlay=function(s,l,p){return new Ui(s,l,p)},Q.latLng=_t,Q.latLngBounds=Ot,Q.layerGroup=function(s,l){return new Ke(s,l)},Q.map=function(s,l){return new A(s,l)},Q.marker=function(s,l){return new Yi(s,l)},Q.point=xt,Q.polygon=function(s,l){return new Pi(s,l)},Q.polyline=function(s,l){return new Qe(s,l)},Q.popup=function(s,l){return new qi(s,l)},Q.rectangle=function(s,l){return new fa(s,l)},Q.setOptions=At,Q.stamp=R,Q.svg=ga,Q.svgOverlay=function(s,l,p){return new la(s,l,p)},Q.tileLayer=ca,Q.tooltip=function(s,l){return new $i(s,l)},Q.transformation=Jt,Q.version="1.9.4",Q.videoOverlay=function(s,l,p){return new ra(s,l,p)},window.L);Q.noConflict=function(){return window.L=va,this},window.L=Q}),function(Q,gt){var v;L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(v,P){this._map=v,this._container=v._container,this._overlayPane=v._panes.overlayPane,this._popupPane=v._panes.popupPane,P&&P.shapeOptions&&(P.shapeOptions=L.Util.extend({},this.options.shapeOptions,P.shapeOptions)),L.setOptions(this,P);var R=L.version.split(".");1===parseInt(R[0],10)&&parseInt(R[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var v=this._map;v&&(L.DomUtil.disableTextSelection(),v.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(v){L.setOptions(this,v)},_fireCreatedEvent:function(v){this._map.fire(L.Draw.Event.CREATED,{layer:v,layerType:this.type})},_cancelDrawing:function(v){27===v.keyCode&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(v,P){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,P&&P.drawError&&(P.drawError=L.Util.extend({},this.options.drawError,P.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,v,P)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var v=this._markers.pop(),P=this._poly,R=P.getLatLngs(),Z=R.splice(-1,1)[0];this._poly.setLatLngs(R),this._markerGroup.removeLayer(v),P.getLatLngs().length<2&&this._map.removeLayer(P),this._vertexChanged(Z,!1)}},addVertex:function(v){this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(v)?this._showErrorTooltip():(this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(v)),this._poly.addLatLng(v),2===this._poly.getLatLngs().length&&this._map.addLayer(this._poly),this._vertexChanged(v,!0))},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var v=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),P=this._poly.newLatLngIntersects(v[v.length-1]);!this.options.allowIntersection&&P||!this._shapeIsValid()?this._showErrorTooltip():(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_shapeIsValid:function(){return!0},_onZoomEnd:function(){null!==this._markers&&this._updateGuide()},_onMouseMove:function(v){var P=this._map.mouseEventToLayerPoint(v.originalEvent),R=this._map.layerPointToLatLng(P);this._currentLatLng=R,this._updateTooltip(R),this._updateGuide(P),this._mouseMarker.setLatLng(R),L.DomEvent.preventDefault(v.originalEvent)},_vertexChanged:function(v,P){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(v,P),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(v){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(v),this._clickHandled=!0,this._disableNewMarkers();var P=v.originalEvent;this._startPoint.call(this,P.clientX,P.clientY)}},_startPoint:function(v,P){this._mouseDownOrigin=L.point(v,P)},_onMouseUp:function(v){var P=v.originalEvent;this._endPoint.call(this,P.clientX,P.clientY,v),this._clickHandled=null},_endPoint:function(v,P,R){if(this._mouseDownOrigin){var Z=L.point(v,P).distanceTo(this._mouseDownOrigin),it=this._calculateFinishDistance(R.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(R.latlng),this._finishShape()):it<10&&L.Browser.touch?this._finishShape():Math.abs(Z)<9*(Q.devicePixelRatio||1)&&this.addVertex(R.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(v){var P,R,Z=v.originalEvent;!Z.touches||!Z.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(P=Z.touches[0].clientX,R=Z.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,P,R),this._endPoint.call(this,P,R,v),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(v){var P;if(this._markers.length>0){var R;if(this.type===L.Draw.Polyline.TYPE)R=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;R=this._markers[0]}var Z=this._map.latLngToContainerPoint(R.getLatLng()),it=new L.Marker(v,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),J=this._map.latLngToContainerPoint(it.getLatLng());P=Z.distanceTo(J)}else P=1/0;return P},_updateFinishHandler:function(){var v=this._markers.length;v>1&&this._markers[v-1].on("click",this._finishShape,this),v>2&&this._markers[v-2].off("click",this._finishShape,this)},_createMarker:function(v){var P=new L.Marker(v,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(P),P},_updateGuide:function(v){var P=this._markers?this._markers.length:0;P>0&&(v=v||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[P-1].getLatLng()),v))},_updateTooltip:function(v){var P=this._getTooltipText();v&&this._tooltip.updatePosition(v),this._errorShown||this._tooltip.updateContent(P)},_drawGuide:function(v,P){var R,Z,it,J=Math.floor(Math.sqrt(Math.pow(P.x-v.x,2)+Math.pow(P.y-v.y,2))),vt=this.options.maxGuideLineLength,$=J>vt?J-vt:this.options.guidelineDistance;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));$<J;$+=this.options.guidelineDistance)R=$/J,Z={x:Math.floor(v.x*(1-R)+R*P.x),y:Math.floor(v.y*(1-R)+R*P.y)},(it=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer)).style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(it,Z)},_updateGuideColor:function(v){if(this._guidesContainer)for(var P=0,R=this._guidesContainer.childNodes.length;P<R;P++)this._guidesContainer.childNodes[P].style.backgroundColor=v},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var v,P;return 0===this._markers.length?v={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(P=this.options.showLength?this._getMeasurementString():"",v=1===this._markers.length?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:P}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:P}),v},_updateRunningMeasure:function(v,P){var R,Z,it=this._markers.length;1===this._markers.length?this._measurementRunningTotal=0:(R=it-(P?2:1),Z=L.GeometryUtil.isVersion07x()?v.distanceTo(this._markers[R].getLatLng())*(this.options.factor||1):this._map.distance(v,this._markers[R].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=Z*(P?1:-1))},_getMeasurementString:function(){var v,P=this._currentLatLng,R=this._markers[this._markers.length-1].getLatLng();return v=L.GeometryUtil.isVersion07x()?R&&P&&P.distanceTo?this._measurementRunningTotal+P.distanceTo(R)*(this.options.factor||1):this._measurementRunningTotal||0:R&&P?this._measurementRunningTotal+this._map.distance(P,R)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(v,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout(function(){this._disableMarkers=!1}.bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var v=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,v)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(v,P){L.Draw.Polyline.prototype.initialize.call(this,v,P),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var v=this._markers.length;1===v&&this._markers[0].on("click",this._finishShape,this),v>2&&(this._markers[v-1].on("dblclick",this._finishShape,this),v>3&&this._markers[v-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var v,P;return 0===this._markers.length?v=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(v=L.drawLocal.draw.handlers.polygon.tooltip.cont,P=this._getMeasurementString()):(v=L.drawLocal.draw.handlers.polygon.tooltip.end,P=this._getMeasurementString()),{text:v,subtext:P}},_getMeasurementString:function(){var v=this._area,P="";return v||this.options.showLength?(this.options.showLength&&(P=L.Draw.Polyline.prototype._getMeasurementString.call(this)),v&&(P+="<br>"+L.GeometryUtil.readableArea(v,this.options.metric,this.options.precision)),P):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(v,P){var R;!this.options.allowIntersection&&this.options.showArea&&(R=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(R)),L.Draw.Polyline.prototype._vertexChanged.call(this,v,P)},_cleanUpShape:function(){var v=this._markers.length;v>0&&(this._markers[0].off("click",this._finishShape,this),v>2&&this._markers[v-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(v,P){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,v,P)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),gt.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(gt,"mouseup",this._onMouseUp,this),L.DomEvent.off(gt,"touchend",this._onMouseUp,this),gt.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(v){this._isDrawing=!0,this._startLatLng=v.latlng,L.DomEvent.on(gt,"mouseup",this._onMouseUp,this).on(gt,"touchend",this._onMouseUp,this).preventDefault(v.originalEvent)},_onMouseMove:function(v){var P=v.latlng;this._tooltip.updatePosition(P),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(P))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(v,P){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,v,P)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(v){this._shape||this._isCurrentlyTwoClickDrawing?this._isCurrentlyTwoClickDrawing&&!function we(v,P){for(;(v=v.parentElement)&&!v.classList.contains(P););return v}(v.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this):this._isCurrentlyTwoClickDrawing=!0},_drawShape:function(v){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,v)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,v),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var v=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,v)},_getTooltipText:function(){var v,P,R,Z=L.Draw.SimpleShape.prototype._getTooltipText.call(this),J=this.options.showArea;return this._shape&&(v=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),P=L.GeometryUtil.geodesicArea(v),R=J?L.GeometryUtil.readableArea(P,this.options.metric):""),{text:Z.text,subtext:R}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(v,P){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,v,P)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(v){var P=v.latlng;this._tooltip.updatePosition(P),this._mouseMarker.setLatLng(P),this._marker?(P=this._mouseMarker.getLatLng(),this._marker.setLatLng(P)):(this._marker=this._createMarker(P),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(v){return new L.Marker(v,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(v){this._onMouseMove(v),this._onClick()},_fireCreatedEvent:function(){var v=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,v)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(v,P){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,v,P)},_fireCreatedEvent:function(){var v=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,v)},_createMarker:function(v){return new L.CircleMarker(v,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(v,P){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,v,P)},_drawShape:function(v){if(L.GeometryUtil.isVersion07x())var P=this._startLatLng.distanceTo(v);else P=this._map.distance(this._startLatLng,v);this._shape?this._shape.setRadius(P):(this._shape=new L.Circle(this._startLatLng,P,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var v=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,v)},_onMouseMove:function(v){var P,R=v.latlng,Z=this.options.showRadius,it=this.options.metric;if(this._tooltip.updatePosition(R),this._isDrawing){this._drawShape(R),P=this._shape.getRadius().toFixed(1);var J="";Z&&(J=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(P,it,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:J})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(v,P){this._marker=v,L.setOptions(this,P)},addHooks:function(){var v=this._marker;v.dragging.enable(),v.on("dragend",this._onDragEnd,v),this._toggleMarkerHighlight()},removeHooks:function(){var v=this._marker;v.dragging.disable(),v.off("dragend",this._onDragEnd,v),this._toggleMarkerHighlight()},_onDragEnd:function(v){var P=v.target;P.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:P})},_toggleMarkerHighlight:function(){var v=this._marker._icon;v&&(v.style.display="none",L.DomUtil.hasClass(v,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(v,"leaflet-edit-marker-selected"),this._offsetMarker(v,-4)):(L.DomUtil.addClass(v,"leaflet-edit-marker-selected"),this._offsetMarker(v,4)),v.style.display="")},_offsetMarker:function(v,P){var R=parseInt(v.style.marginTop,10)-P,Z=parseInt(v.style.marginLeft,10)-P;v.style.marginTop=R+"px",v.style.marginLeft=Z+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(v){this.latlngs=[v._latlngs],v._holes&&(this.latlngs=this.latlngs.concat(v._holes)),this._poly=v,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(v){for(var P=0;P<this._verticesHandlers.length;P++)v(this._verticesHandlers[P])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(v){v.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(v){v.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(v){v.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var v=0;v<this.latlngs.length;v++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[v],this._poly.options.poly))},_updateLatLngs:function(v){this.latlngs=[v.layer._latlngs],v.layer._holes&&(this.latlngs=this.latlngs.concat(v.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(v,P,R){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=v,R&&R.drawError&&(R.drawError=L.Util.extend({},this.options.drawError,R.drawError)),this._latlngs=P,L.setOptions(this,R)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var v=this._poly,P=v._path;v instanceof L.Polygon||(v.options.fill=!1,v.options.editing&&(v.options.editing.fill=!1)),P&&v.options.editing&&v.options.editing.className&&(v.options.original.className&&v.options.original.className.split(" ").forEach(function(R){L.DomUtil.removeClass(P,R)}),v.options.editing.className.split(" ").forEach(function(R){L.DomUtil.addClass(P,R)})),v.setStyle(v.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var v=this._poly,P=v._path;P&&v.options.editing&&v.options.editing.className&&(v.options.editing.className.split(" ").forEach(function(R){L.DomUtil.removeClass(P,R)}),v.options.original.className&&v.options.original.className.split(" ").forEach(function(R){L.DomUtil.addClass(P,R)})),v.setStyle(v.options.original),v._map&&(v._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var v,P,R,Z,J,at,it=this._defaultShape();for(v=0,R=it.length;v<R;v++)(Z=this._createMarker(it[v],v)).on("click",this._onMarkerClick,this),Z.on("contextmenu",this._onContextMenu,this),this._markers.push(Z);for(v=0,P=R-1;v<R;P=v++)(0!==v||L.Polygon&&this._poly instanceof L.Polygon)&&(this._createMiddleMarker(J=this._markers[P],at=this._markers[v]),this._updatePrevNext(J,at))},_createMarker:function(v,P){var R=new L.Marker.Touch(v,{draggable:!0,icon:this.options.icon});return R._origLatLng=v,R._index=P,R.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(R),R},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var v=this._defaultShape(),P=[].splice.apply(v,arguments);return this._poly._convertLatLngs(v,!0),this._poly.redraw(),P},_removeMarker:function(v){var P=v._index;this._markerGroup.removeLayer(v),this._markers.splice(P,1),this._spliceLatLngs(P,1),this._updateIndexes(P,-1),v.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(v){var P=v.target,R=this._poly,Z=L.LatLngUtil.cloneLatLng(P._origLatLng);if(L.extend(P._origLatLng,P._latlng),R.options.poly){var it=R._map._editTooltip;if(!R.options.poly.allowIntersection&&R.intersects()){L.extend(P._origLatLng,Z),P.setLatLng(Z);var J=R.options.color;R.setStyle({color:this.options.drawError.color}),it&&it.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){R.setStyle({color:J}),it&&it.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}P._middleLeft&&P._middleLeft.setLatLng(this._getMiddleLatLng(P._prev,P)),P._middleRight&&P._middleRight.setLatLng(this._getMiddleLatLng(P,P._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var at=this._poly.getLatLngs();this._poly._convertLatLngs(at,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(v){var P=L.Polygon&&this._poly instanceof L.Polygon?4:3,R=v.target;this._defaultShape().length<P||(this._removeMarker(R),this._updatePrevNext(R._prev,R._next),R._middleLeft&&this._markerGroup.removeLayer(R._middleLeft),R._middleRight&&this._markerGroup.removeLayer(R._middleRight),R._prev&&R._next?this._createMiddleMarker(R._prev,R._next):R._prev?R._next||(R._prev._middleRight=null):R._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(v){this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:v.target,layers:this._markerGroup,poly:this._poly}),L},_onTouchMove:function(v){var P=this._map.mouseEventToLayerPoint(v.originalEvent.touches[0]),R=this._map.layerPointToLatLng(P),Z=v.target;L.extend(Z._origLatLng,R),Z._middleLeft&&Z._middleLeft.setLatLng(this._getMiddleLatLng(Z._prev,Z)),Z._middleRight&&Z._middleRight.setLatLng(this._getMiddleLatLng(Z,Z._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(v,P){this._markerGroup.eachLayer(function(R){R._index>v&&(R._index+=P)})},_createMiddleMarker:function(v,P){var R,Z,it,J=this._getMiddleLatLng(v,P),at=this._createMarker(J);at.setOpacity(.6),v._middleRight=P._middleLeft=at,Z=function(){at.off("touchmove",Z,this);var vt=P._index;at._index=vt,at.off("click",R,this).on("click",this._onMarkerClick,this),J.lat=at.getLatLng().lat,J.lng=at.getLatLng().lng,this._spliceLatLngs(vt,0,J),this._markers.splice(vt,0,at),at.setOpacity(1),this._updateIndexes(vt,1),P._index++,this._updatePrevNext(v,at),this._updatePrevNext(at,P),this._poly.fire("editstart")},it=function(){at.off("dragstart",Z,this),at.off("dragend",it,this),at.off("touchmove",Z,this),this._createMiddleMarker(v,at),this._createMiddleMarker(at,P)},at.on("click",R=function(){Z.call(this),it.call(this),this._fireEdit()},this).on("dragstart",Z,this).on("dragend",it,this).on("touchmove",Z,this),this._markerGroup.addLayer(at)},_updatePrevNext:function(v,P){v&&(v._next=P),P&&(P._prev=v)},_getMiddleLatLng:function(v,P){var R=this._poly._map,Z=R.project(v.getLatLng()),it=R.project(P.getLatLng());return R.unproject(Z._add(it)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(v,P){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=v,L.Util.setOptions(this,P)},addHooks:function(){var v=this._shape;this._shape._map&&(this._map=this._shape._map,v.setStyle(v.options.editing),v._map&&(this._map=v._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var v=this._shape;if(v.setStyle(v.options.original),v._map){this._unbindMarker(this._moveMarker);for(var P=0,R=this._resizeMarkers.length;P<R;P++)this._unbindMarker(this._resizeMarkers[P]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(v,P){var R=new L.Marker.Touch(v,{draggable:!0,icon:P,zIndexOffset:10});return this._bindMarker(R),this._markerGroup.addLayer(R),R},_bindMarker:function(v){v.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(v){v.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(v){v.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(v){var P=v.target,R=P.getLatLng();P===this._moveMarker?this._move(R):this._resize(R),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(v){v.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(v){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,v),"function"==typeof this._getCorners){var P=this._getCorners(),R=v.target,Z=R._cornerIndex;R.setOpacity(0),this._oppositeCorner=P[(Z+2)%4],this._toggleCornerMarkers(0,Z)}this._shape.fire("editstart")},_onTouchMove:function(v){var P=this._map.mouseEventToLayerPoint(v.originalEvent.touches[0]),R=this._map.layerPointToLatLng(P);return v.target===this._moveMarker?this._move(R):this._resize(R),this._shape.redraw(),!1},_onTouchEnd:function(v){v.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var P=this._shape.getBounds().getCenter();this._moveMarker=this._createMarker(P,this.options.moveIcon)},_createResizeMarker:function(){var v=this._getCorners();this._resizeMarkers=[];for(var P=0,R=v.length;P<R;P++)this._resizeMarkers.push(this._createMarker(v[P],this.options.resizeIcon)),this._resizeMarkers[P]._cornerIndex=P},_onMarkerDragStart:function(v){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,v);var P=this._getCorners(),Z=v.target._cornerIndex;this._oppositeCorner=P[(Z+2)%4],this._toggleCornerMarkers(0,Z)},_onMarkerDragEnd:function(v){var R,Z=v.target;Z===this._moveMarker&&(R=this._shape.getBounds().getCenter(),Z.setLatLng(R)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,v)},_move:function(v){for(var P,R=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),it=this._shape.getBounds().getCenter(),J=[],at=0,vt=R.length;at<vt;at++)J.push([v.lat+(P=[R[at].lat-it.lat,R[at].lng-it.lng])[0],v.lng+P[1]]);this._shape.setLatLngs(J),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(v){var P;this._shape.setBounds(L.latLngBounds(v,this._oppositeCorner)),P=this._shape.getBounds(),this._moveMarker.setLatLng(P.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var v=this._shape.getBounds();return[v.getNorthWest(),v.getNorthEast(),v.getSouthEast(),v.getSouthWest()]},_toggleCornerMarkers:function(v){for(var P=0,R=this._resizeMarkers.length;P<R;P++)this._resizeMarkers[P].setOpacity(v)},_repositionCornerMarkers:function(){for(var v=this._getCorners(),P=0,R=this._resizeMarkers.length;P<R;P++)this._resizeMarkers[P].setLatLng(v[P])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var v=this._shape.getLatLng();this._moveMarker=this._createMarker(v,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(v){if(this._resizeMarkers.length){var P=this._getResizeMarkerPoint(v);this._resizeMarkers[0].setLatLng(P)}this._shape.setLatLng(v),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var v=this._shape.getLatLng(),P=this._getResizeMarkerPoint(v);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(P,this.options.resizeIcon))},_getResizeMarkerPoint:function(v){var P=this._shape._radius*Math.cos(Math.PI/4),R=this._map.project(v);return this._map.unproject([R.x+P,R.y-P])},_resize:function(v){var P=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=P.distanceTo(v):radius=this._map.distance(P,v),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(v){this._map=v,this._container=v._container,this._pane=v._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(v,P){var R={};if(void 0!==v.touches){if(!v.touches.length)return;R=v.touches[0]}else if("touch"!==v.pointerType||(R=v,!this._filterClick(v)))return;var Z=this._map.mouseEventToContainerPoint(R),it=this._map.mouseEventToLayerPoint(R),J=this._map.layerPointToLatLng(it);this._map.fire(P,{latlng:J,layerPoint:it,containerPoint:Z,pageX:R.pageX,pageY:R.pageY,originalEvent:v})},_filterClick:function(v){var P=v.timeStamp||v.originalEvent.timeStamp,R=L.DomEvent._lastClick&&P-L.DomEvent._lastClick;return R&&R>100&&R<500||v.target._simulatedClick&&!v._simulated?(L.DomEvent.stop(v),!1):(L.DomEvent._lastClick=P,!0)},_onTouchStart:function(v){this._map._loaded&&this._touchEvent(v,"touchstart")},_onTouchEnd:function(v){this._map._loaded&&this._touchEvent(v,"touchend")},_onTouchCancel:function(v){if(this._map._loaded){var P="touchcancel";this._detectIE()&&(P="pointercancel"),this._touchEvent(v,P)}},_onTouchLeave:function(v){this._map._loaded&&this._touchEvent(v,"touchleave")},_onTouchMove:function(v){this._map._loaded&&this._touchEvent(v,"touchmove")},_detectIE:function(){var v=Q.navigator.userAgent,P=v.indexOf("MSIE ");if(P>0)return parseInt(v.substring(P+5,v.indexOf(".",P)),10);if(v.indexOf("Trident/")>0){var R=v.indexOf("rv:");return parseInt(v.substring(R+3,v.indexOf(".",R)),10)}var Z=v.indexOf("Edge/");return Z>0&&parseInt(v.substring(Z+5,v.indexOf(".",Z)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var v=this._icon,P=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];P.concat(this._detectIE?["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]:["touchcancel"]),L.DomUtil.addClass(v,"leaflet-clickable"),L.DomEvent.on(v,"click",this._onMouseClick,this),L.DomEvent.on(v,"keypress",this._onKeyPress,this);for(var R=0;R<P.length;R++)L.DomEvent.on(v,P[R],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var v=Q.navigator.userAgent,P=v.indexOf("MSIE ");if(P>0)return parseInt(v.substring(P+5,v.indexOf(".",P)),10);if(v.indexOf("Trident/")>0){var R=v.indexOf("rv:");return parseInt(v.substring(R+3,v.indexOf(".",R)),10)}var Z=v.indexOf("Edge/");return Z>0&&parseInt(v.substring(Z+5,v.indexOf(".",Z)),10)}}),L.LatLngUtil={cloneLatLngs:function(v){for(var P=[],R=0,Z=v.length;R<Z;R++)Array.isArray(v[R])?P.push(L.LatLngUtil.cloneLatLngs(v[R])):P.push(this.cloneLatLng(v[R]));return P},cloneLatLng:function(v){return L.latLng(v.lat,v.lng)}},v={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2},L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(P){var R,Z,it=P.length,J=0,at=Math.PI/180;if(it>2){for(var vt=0;vt<it;vt++)J+=((Z=P[(vt+1)%it]).lng-(R=P[vt]).lng)*at*(2+Math.sin(R.lat*at)+Math.sin(Z.lat*at));J=6378137*J*6378137/2}return Math.abs(J)},formattedNumber:function(P,R){var Z=parseFloat(P).toFixed(R),it=L.drawLocal.format&&L.drawLocal.format.numeric,J=it&&it.delimiters,at=J&&J.thousands,vt=J&&J.decimal;if(at||vt){var $=Z.split(".");Z=at?$[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+at):$[0],vt=vt||".",$.length>1&&(Z=Z+vt+$[1])}return Z},readableArea:function(P,R,at){var it,J;return at=L.Util.extend({},v,at),R?(J=["ha","m"],type=typeof R,"string"===type?J=[R]:"boolean"!==type&&(J=R),it=P>=1e6&&-1!==J.indexOf("km")?L.GeometryUtil.formattedNumber(1e-6*P,at.km)+" km\xb2":P>=1e4&&-1!==J.indexOf("ha")?L.GeometryUtil.formattedNumber(1e-4*P,at.ha)+" ha":L.GeometryUtil.formattedNumber(P,at.m)+" m\xb2"):it=(P/=.836127)>=3097600?L.GeometryUtil.formattedNumber(P/3097600,at.mi)+" mi\xb2":P>=4840?L.GeometryUtil.formattedNumber(P/4840,at.ac)+" acres":L.GeometryUtil.formattedNumber(P,at.yd)+" yd\xb2",it},readableDistance:function(P,R,Z,it,vt){var at;switch(vt=L.Util.extend({},v,vt),R?"string"==typeof R?R:"metric":Z?"feet":it?"nauticalMile":"yards"){case"metric":at=P>1e3?L.GeometryUtil.formattedNumber(P/1e3,vt.km)+" km":L.GeometryUtil.formattedNumber(P,vt.m)+" m";break;case"feet":P*=3.28083,at=L.GeometryUtil.formattedNumber(P,vt.ft)+" ft";break;case"nauticalMile":P*=.53996,at=L.GeometryUtil.formattedNumber(P/1e3,vt.nm)+" nm";break;default:at=(P*=1.09361)>1760?L.GeometryUtil.formattedNumber(P/1760,vt.mi)+" miles":L.GeometryUtil.formattedNumber(P,vt.yd)+" yd"}return at},isVersion07x:function(){var P=L.version.split(".");return 0===parseInt(P[0],10)&&7===parseInt(P[1],10)}}),L.Util.extend(L.LineUtil,{segmentsIntersect:function(v,P,R,Z){return this._checkCounterclockwise(v,R,Z)!==this._checkCounterclockwise(P,R,Z)&&this._checkCounterclockwise(v,P,R)!==this._checkCounterclockwise(v,P,Z)},_checkCounterclockwise:function(v,P,R){return(R.y-v.y)*(P.x-v.x)>(P.y-v.y)*(R.x-v.x)}}),L.Polyline.include({intersects:function(){var v,Z=this._getProjectedPoints(),it=Z?Z.length:0;if(this._tooFewPointsForIntersection())return!1;for(v=it-1;v>=3;v--)if(this._lineSegmentsIntersectsRange(Z[v-1],Z[v],v-2))return!0;return!1},newLatLngIntersects:function(v,P){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(v),P)},newPointIntersects:function(v,P){var R=this._getProjectedPoints(),Z=R?R.length:0,it=R?R[Z-1]:null,J=Z-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(it,v,J,P?1:0)},_tooFewPointsForIntersection:function(v){var P=this._getProjectedPoints(),R=P?P.length:0;return!P||(R+=v||0)<=3},_lineSegmentsIntersectsRange:function(v,P,R,Z){var at=this._getProjectedPoints();Z=Z||0;for(var vt=R;vt>Z;vt--)if(L.LineUtil.segmentsIntersect(v,P,at[vt-1],at[vt]))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var v=[],P=this._defaultShape(),R=0;R<P.length;R++)v.push(this._map.latLngToLayerPoint(P[R]));return v}}),L.Polygon.include({intersects:function(){var v,it=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||this._lineSegmentsIntersectsRange(it[(v=it.length)-1],it[0],v-2,1))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(v){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");var P;L.Control.prototype.initialize.call(this,v),this._toolbars={},L.DrawToolbar&&this.options.draw&&(P=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=P,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(P=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=P,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(v){var P,R=L.DomUtil.create("div","leaflet-draw"),Z=!1;for(var it in this._toolbars)this._toolbars.hasOwnProperty(it)&&(P=this._toolbars[it].addToolbar(v))&&(Z||(L.DomUtil.hasClass(P,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(P.childNodes[0],"leaflet-draw-toolbar-top"),Z=!0),R.appendChild(P));return R},onRemove:function(){for(var v in this._toolbars)this._toolbars.hasOwnProperty(v)&&this._toolbars[v].removeToolbar()},setDrawingOptions:function(v){for(var P in this._toolbars)this._toolbars[P]instanceof L.DrawToolbar&&this._toolbars[P].setOptions(v)},_toolbarEnabled:function(v){var P=v.target;for(var R in this._toolbars)this._toolbars[R]!==P&&this._toolbars[R].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(v){L.setOptions(this,v),this._modes={},this._actionButtons=[],this._activeMode=null;var P=L.version.split(".");1===parseInt(P[0],10)&&parseInt(P[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return null!==this._activeMode},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(v){var P,R=L.DomUtil.create("div","leaflet-draw-section"),Z=0,it=this._toolbarClass||"",J=this.getModeHandlers(v);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=v,P=0;P<J.length;P++)J[P].enabled&&this._initModeHandler(J[P].handler,this._toolbarContainer,Z++,it,J[P].title);if(Z)return this._lastButtonIndex=--Z,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),R.appendChild(this._toolbarContainer),R.appendChild(this._actionsContainer),R},removeToolbar:function(){for(var v in this._modes)this._modes.hasOwnProperty(v)&&(this._disposeButton(this._modes[v].button,this._modes[v].handler.enable,this._modes[v].handler),this._modes[v].handler.disable(),this._modes[v].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var P=0,R=this._actionButtons.length;P<R;P++)this._disposeButton(this._actionButtons[P].button,this._actionButtons[P].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(v,P,R,Z,it){var J=v.type;this._modes[J]={},this._modes[J].handler=v,this._modes[J].button=this._createButton({type:J,title:it,className:Z+"-"+J,container:P,callback:this._modes[J].handler.enable,context:this._modes[J].handler}),this._modes[J].buttonIndex=R,this._modes[J].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!Q.MSStream},_createButton:function(v){var P=L.DomUtil.create("a",v.className||"",v.container),R=L.DomUtil.create("span","sr-only",v.container);P.href="#",P.appendChild(R),v.title&&(P.title=v.title,R.innerHTML=v.title),v.text&&(P.innerHTML=v.text,R.innerHTML=v.text);var Z=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(P,"click",L.DomEvent.stopPropagation).on(P,"mousedown",L.DomEvent.stopPropagation).on(P,"dblclick",L.DomEvent.stopPropagation).on(P,"touchstart",L.DomEvent.stopPropagation).on(P,"click",L.DomEvent.preventDefault).on(P,Z,v.callback,v.context),P},_disposeButton:function(v,P){var R=this._detectIOS()?"touchstart":"click";L.DomEvent.off(v,"click",L.DomEvent.stopPropagation).off(v,"mousedown",L.DomEvent.stopPropagation).off(v,"dblclick",L.DomEvent.stopPropagation).off(v,"touchstart",L.DomEvent.stopPropagation).off(v,"click",L.DomEvent.preventDefault).off(v,R,P)},_handlerActivated:function(v){this.disable(),this._activeMode=this._modes[v.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(v){var P,R,Z,it,J=this._actionsContainer,at=this.getActions(v),vt=at.length;for(R=0,Z=this._actionButtons.length;R<Z;R++)this._disposeButton(this._actionButtons[R].button,this._actionButtons[R].callback);for(this._actionButtons=[];J.firstChild;)J.removeChild(J.firstChild);for(var $=0;$<vt;$++)"enabled"in at[$]&&!at[$].enabled||(P=L.DomUtil.create("li","",J),it=this._createButton({title:at[$].title,text:at[$].text,container:P,callback:at[$].callback,context:at[$].context}),this._actionButtons.push({button:it,callback:at[$].callback}))},_showActionsToolbar:function(){var v=this._activeMode.buttonIndex,P=this._lastButtonIndex,R=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=R+"px",0===v&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),v===P&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(v){this._map=v,this._popupPane=v._panes.popupPane,this._visible=!1,this._container=v.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(v){return this._container?(v.subtext=v.subtext||"",0!==v.subtext.length||this._singleLineLabel?v.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(v.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+v.subtext+"</span><br />":"")+"<span>"+v.text+"</span>",v.text||v.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(v){var P=this._map.latLngToLayerPoint(v),R=this._container;return this._container&&(this._visible&&(R.style.visibility="inherit"),L.DomUtil.setPosition(R,P)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(v){for(var P in this.options)this.options.hasOwnProperty(P)&&v[P]&&(v[P]=L.extend({},this.options[P],v[P]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,v)},getModeHandlers:function(v){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(v,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(v,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(v,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(v,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(v,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(v,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(v){return[{enabled:v.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:v.completeShape,context:v},{enabled:v.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:v.deleteLastVertex,context:v},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(v){for(var P in L.setOptions(this,v),this._modes)this._modes.hasOwnProperty(P)&&v.hasOwnProperty(P)&&this._modes[P].handler.setOptions(v[P])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(v){v.edit&&(void 0===v.edit.selectedPathOptions&&(v.edit.selectedPathOptions=this.options.edit.selectedPathOptions),v.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,v.edit.selectedPathOptions)),v.remove&&(v.remove=L.extend({},this.options.remove,v.remove)),v.poly&&(v.poly=L.extend({},this.options.poly,v.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,v),this._selectedFeatureCount=0},getModeHandlers:function(v){var P=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(v,{featureGroup:P,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(v,{featureGroup:P}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(v){var P=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return v.removeAllLayers&&P.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),P},addToolbar:function(v){var P=L.Toolbar.prototype.addToolbar.call(this,v);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),P},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var v,R=0!==this.options.featureGroup.getLayers().length;this.options.edit&&(v=this._modes[L.EditToolbar.Edit.TYPE].button,R?L.DomUtil.removeClass(v,"leaflet-disabled"):L.DomUtil.addClass(v,"leaflet-disabled"),v.setAttribute("title",R?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(v=this._modes[L.EditToolbar.Delete.TYPE].button,R?L.DomUtil.removeClass(v,"leaflet-disabled"):L.DomUtil.addClass(v,"leaflet-disabled"),v.setAttribute("title",R?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(v,P){if(L.Handler.prototype.initialize.call(this,v),L.setOptions(this,P),this._featureGroup=P.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var R=L.version.split(".");1===parseInt(R[0],10)&&parseInt(R[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var v=this._map;v&&(v.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),v._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(v){this._revertLayer(v)},this)},save:function(){var v=new L.LayerGroup;this._featureGroup.eachLayer(function(P){P.edited&&(v.addLayer(P),P.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:v})},_backupLayer:function(v){var P=L.Util.stamp(v);this._uneditedLayerProps[P]||(v instanceof L.Polyline||v instanceof L.Polygon||v instanceof L.Rectangle?this._uneditedLayerProps[P]={latlngs:L.LatLngUtil.cloneLatLngs(v.getLatLngs())}:v instanceof L.Circle?this._uneditedLayerProps[P]={latlng:L.LatLngUtil.cloneLatLng(v.getLatLng()),radius:v.getRadius()}:(v instanceof L.Marker||v instanceof L.CircleMarker)&&(this._uneditedLayerProps[P]={latlng:L.LatLngUtil.cloneLatLng(v.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(v){var P=L.Util.stamp(v);v.edited=!1,this._uneditedLayerProps.hasOwnProperty(P)&&(v instanceof L.Polyline||v instanceof L.Polygon||v instanceof L.Rectangle?v.setLatLngs(this._uneditedLayerProps[P].latlngs):v instanceof L.Circle?(v.setLatLng(this._uneditedLayerProps[P].latlng),v.setRadius(this._uneditedLayerProps[P].radius)):(v instanceof L.Marker||v instanceof L.CircleMarker)&&v.setLatLng(this._uneditedLayerProps[P].latlng),v.fire("revert-edited",{layer:v}))},_enableLayerEdit:function(v){var P,R,Z=v.layer||v.target||v;this._backupLayer(Z),this.options.poly&&(R=L.Util.extend({},this.options.poly),Z.options.poly=R),this.options.selectedPathOptions&&((P=L.Util.extend({},this.options.selectedPathOptions)).maintainColor&&(P.color=Z.options.color,P.fillColor=Z.options.fillColor),Z.options.original=L.extend({},Z.options),Z.options.editing=P),Z instanceof L.Marker?(Z.editing&&Z.editing.enable(),Z.dragging.enable(),Z.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):Z.editing.enable()},_disableLayerEdit:function(v){var P=v.layer||v.target||v;P.edited=!1,P.editing&&P.editing.disable(),delete P.options.editing,delete P.options.original,this._selectedPathOptions&&(P instanceof L.Marker?this._toggleMarkerHighlight(P):(P.setStyle(P.options.previousOptions),delete P.options.previousOptions)),P instanceof L.Marker?(P.dragging.disable(),P.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):P.editing.disable()},_onMouseMove:function(v){this._tooltip.updatePosition(v.latlng)},_onMarkerDragEnd:function(v){var P=v.target;P.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:P})},_onTouchMove:function(v){var R=this._map.mouseEventToLayerPoint(v.originalEvent.changedTouches[0]),Z=this._map.layerPointToLatLng(R);v.target.setLatLng(Z)},_hasAvailableLayers:function(){return 0!==this._featureGroup.getLayers().length}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(v,P){if(L.Handler.prototype.initialize.call(this,v),L.Util.setOptions(this,P),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var R=L.version.split(".");1===parseInt(R[0],10)&&parseInt(R[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var v=this._map;v&&(v.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(v){this._deletableLayers.addLayer(v),v.fire("revert-deleted",{layer:v})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(v){this._removeLayer({layer:v})},this),this.save()},_enableLayerDelete:function(v){(v.layer||v.target||v).on("click",this._removeLayer,this)},_disableLayerDelete:function(v){var P=v.layer||v.target||v;P.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(P)},_removeLayer:function(v){var P=v.layer||v.target||v;this._deletableLayers.removeLayer(P),this._deletedLayers.addLayer(P),P.fire("deleted")},_onMouseMove:function(v){this._tooltip.updatePosition(v.latlng)},_hasAvailableLayers:function(){return 0!==this._deletableLayers.getLayers().length}})}(window,document),function(Q){"use strict";Q.L.Toolbar2=(L.Layer||L.Class).extend({statics:{baseClass:"leaflet-toolbar"},options:{className:"",filter:function(){return!0},actions:[]},initialize:function(v){L.setOptions(this,v),this._toolbar_type=this.constructor._toolbar_class_id},addTo:function(v){return this._arguments=[].slice.call(arguments),v.addLayer(this),this},onAdd:function(v){var P=v._toolbars[this._toolbar_type];0===this._calculateDepth()&&(P&&v.removeLayer(P),v._toolbars[this._toolbar_type]=this)},onRemove:function(v){0===this._calculateDepth()&&delete v._toolbars[this._toolbar_type]},appendToContainer:function(v){var P,R,Z,it,J=this.constructor.baseClass+"-"+this._calculateDepth()+" "+this.options.className;for(this._container=v,this._ul=L.DomUtil.create("ul",J,v),this._disabledEvents=["click","mousemove","dblclick","mousedown","mouseup","touchstart"],R=0,it=this._disabledEvents.length;R<it;R++)L.DomEvent.on(this._ul,this._disabledEvents[R],L.DomEvent.stopPropagation);for(P=0,Z=this.options.actions.length;P<Z;P++)(new(this._getActionConstructor(this.options.actions[P])))._createIcon(this,this._ul,this._arguments)},_getActionConstructor:function(v){var P=this._arguments,R=this;return v.extend({initialize:function(){v.prototype.initialize.apply(this,P)},enable:function(Z){R._active&&R._active.disable(),R._active=this,v.prototype.enable.call(this,Z)}})},_hide:function(){this._ul.style.display="none"},_show:function(){this._ul.style.display="block"},_calculateDepth:function(){for(var v=0,P=this.parentToolbar;P;)v+=1,P=P.parentToolbar;return v}}),L.Evented||L.Toolbar2.include(L.Mixin.Events),L.toolbar={};var we=0;L.Toolbar2.extend=function(v){var P=L.extend({},v.statics,{_toolbar_class_id:we});return we+=1,L.extend(v,{statics:P}),L.Class.extend.call(this,v)},L.Map.addInitHook(function(){this._toolbars={}}),L.Toolbar2.Action=L.Handler.extend({statics:{baseClass:"leaflet-toolbar-icon"},options:{toolbarIcon:{html:"",className:"",tooltip:""},subToolbar:new L.Toolbar2},initialize:function(v){var P=L.Toolbar2.Action.prototype.options.toolbarIcon;L.setOptions(this,v),this.options.toolbarIcon=L.extend({},P,this.options.toolbarIcon)},enable:function(v){v&&L.DomEvent.preventDefault(v),this._enabled||(this._enabled=!0,this.addHooks&&this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks&&this.removeHooks())},_createIcon:function(v,P,R){var Z=this.options.toolbarIcon;this.toolbar=v,this._icon=L.DomUtil.create("li","",P),this._link=L.DomUtil.create("a","",this._icon),this._link.innerHTML=Z.html,this._link.setAttribute("href","#"),this._link.setAttribute("title",Z.tooltip),L.DomUtil.addClass(this._link,this.constructor.baseClass),Z.className&&L.DomUtil.addClass(this._link,Z.className),L.DomEvent.on(this._link,"click",this.enable,this),this._addSubToolbar(v,this._icon,R)},_addSubToolbar:function(v,P,R){var Z=this.options.subToolbar,it=this.addHooks,J=this.removeHooks;Z.parentToolbar=v,Z.options.actions.length>0&&((R=[].slice.call(R)).push(this),Z.addTo.apply(Z,R),Z.appendToContainer(P),this.addHooks=function(at){"function"==typeof it&&it.call(this,at),Z._show()},this.removeHooks=function(at){"function"==typeof J&&J.call(this,at),Z._hide()})}}),L.toolbarAction=function(v){return new L.Toolbar2.Action(v)},L.Toolbar2.Action.extendOptions=function(v){return this.extend({options:v})},L.Toolbar2.Control=L.Toolbar2.extend({statics:{baseClass:"leaflet-control-toolbar "+L.Toolbar2.baseClass},initialize:function(v){L.Toolbar2.prototype.initialize.call(this,v),this._control=new L.Control.Toolbar(this.options)},onAdd:function(v){this._control.addTo(v),L.Toolbar2.prototype.onAdd.call(this,v),this.appendToContainer(this._control.getContainer())},onRemove:function(v){L.Toolbar2.prototype.onRemove.call(this,v),this._control.remove?this._control.remove():this._control.removeFrom(v)}}),L.Control.Toolbar=L.Control.extend({onAdd:function(){return L.DomUtil.create("div","")}}),L.toolbar.control=function(v){return new L.Toolbar2.Control(v)},L.Toolbar2.Popup=L.Toolbar2.extend({statics:{baseClass:"leaflet-popup-toolbar "+L.Toolbar2.baseClass},options:{anchor:[0,0]},initialize:function(v,P){L.Toolbar2.prototype.initialize.call(this,P),this._marker=new L.Marker(v,{icon:new L.DivIcon({className:this.options.className,iconAnchor:[0,0]})})},onAdd:function(v){this._map=v,this._marker.addTo(v),L.Toolbar2.prototype.onAdd.call(this,v),this.appendToContainer(this._marker._icon),this._setStyles()},onRemove:function(v){v.removeLayer(this._marker),L.Toolbar2.prototype.onRemove.call(this,v),delete this._map},setLatLng:function(v){return this._marker.setLatLng(v),this},_setStyles:function(){for(var v,P,R,Z=this._container,it=this._ul,J=L.point(this.options.anchor),at=it.querySelectorAll(".leaflet-toolbar-icon"),vt=[],$=0,At=0,je=at.length;At<je;At++)at[At].parentNode.parentNode===it&&(vt.push(parseInt(L.DomUtil.getStyle(at[At],"height"),10)),$+=Math.ceil(parseFloat(L.DomUtil.getStyle(at[At],"width"))),$+=Math.ceil(parseFloat(L.DomUtil.getStyle(at[At],"border-right-width"))));it.style.width=$+"px",this._tipContainer=L.DomUtil.create("div","leaflet-toolbar-tip-container",Z),this._tipContainer.style.width=$+Math.ceil(parseFloat(L.DomUtil.getStyle(it,"border-left-width")))+"px",this._tip=L.DomUtil.create("div","leaflet-toolbar-tip",this._tipContainer),v=Math.max.apply(void 0,vt),it.style.height=v+"px",P=parseInt(L.DomUtil.getStyle(this._tip,"width"),10),R=new L.Point($/2,v+1.414*P),Z.style.marginLeft=J.x-R.x+"px",Z.style.marginTop=J.y-R.y+"px"}}),L.toolbar.popup=function(v){return new L.Toolbar2.Popup(v)}}(window,document);